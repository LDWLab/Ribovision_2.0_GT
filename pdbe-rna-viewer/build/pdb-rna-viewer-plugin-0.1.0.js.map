{"version":3,"file":"pdb-rna-viewer-plugin-0.1.0.js","mappings":";uBAEIA,EACAC,EACAC,EACAC,EACAC,EACAC,iBCHJ,IAAWC,EAHXC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQH,kBAAe,GAEZA,EAiDOG,EAAQH,eAAiBG,EAAQH,aAAe,KA1BjDK,OAtBb,SAAgBC,GAKZ,IADA,IAAIC,EAAW,GACNC,EAAK,EAAGC,EAAKH,EAAaI,OAAQF,EAAKC,EAAID,IAAM,CACtD,IAAIG,EAAYL,EAAaE,GACzBI,OAAU,EACW,mBAAdC,WAEPD,EAAU,IAAIC,WAAWF,EAAW,CAAE,KAAQG,OAAQ,SAAW,EAAM,YAAc,IAEjD,mBAAxBC,SAASC,cAErBJ,EAAUG,SAASC,YAAY,gBACvBC,UAAUN,GAAW,GAAoB,GAErDJ,EAASI,GAAaC,EAG1B,OAAOL,GAYXP,EAAakB,oBATb,SAA6BC,EAAOC,EAAWC,GAM3CF,EAAiB,UAAIC,EACrBC,EAAcC,cAAcH,IAiBhCnB,EAAauB,2BAdb,SAAoCC,GAKhCT,SAASU,iBAAiB,yBAAyB,SAAWC,GACtDA,EAAEN,WAAaM,EAAEN,UAAUO,aAAeD,EAAEN,UAAUQ,eAAiBJ,EAAUK,QAAQC,SACzFN,EAAUO,cAAcL,EAAEN,UAAUO,gBAGxCZ,SAASU,iBAAiB,wBAAwB,SAAWC,GACzDF,EAAUQ,eAAeN,EAAEN,UAAUa,kCChDrDhC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+B,cAAgB/B,EAAQgC,iBAAc,EAC9C,IAAIzC,EAAU,EAAQ,KAClByC,EAA6B,WAC7B,SAASA,KAgFT,OA9EAA,EAAYC,UAAUC,WAAa,SAAUC,EAAUR,EAASS,GAC5D,OAAO,EAAI7C,EAAQ8C,WAAWC,UAAM,OAAQ,GAAQ,WAChD,IAAIC,EAAQC,EACZ,OAAO,EAAIjD,EAAQkD,aAAaH,MAAM,SAAUI,GAC5C,OAAQA,EAAGC,OACP,KAAK,EAGD,OAFAD,EAAGE,KAAKC,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBN,EAAS,2CAA6CH,EAAMU,cAAgB,IAAMX,EAAW,IAAMR,EAAU,QACtG,CAAC,EAAaoB,MAAMR,IAC/B,KAAK,EAAG,MAAO,CAAC,EAAcG,EAAGM,OAAQC,QACzC,KAAK,EAAG,MAAO,CAAC,EAAcP,EAAGM,QACjC,KAAK,EAGD,OAFAR,EAAME,EAAGM,OACTV,KAAKY,YAAYV,GACV,CAAC,OAAc,GAC1B,KAAK,EAED,MAAO,CAAC,WAK5BR,EAAYC,UAAUkB,YAAc,SAAUf,EAAOT,GACjD,OAAO,EAAIpC,EAAQ8C,WAAWC,UAAM,OAAQ,GAAQ,WAChD,IAAIc,EAAQC,EACZ,OAAO,EAAI9D,EAAQkD,aAAaH,MAAM,SAAUI,GAC5C,OAAQA,EAAGC,OACP,KAAK,EAGD,OAFAD,EAAGE,KAAKC,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBO,EAAS,oHAAsHhB,EAAMU,cAAgB,UAAYnB,EAAU,qBACpK,CAAC,EAAaoB,MAAMK,IAC/B,KAAK,EAAG,MAAO,CAAC,EAAcV,EAAGM,OAAQC,QACzC,KAAK,EAAG,MAAO,CAAC,EAAcP,EAAGM,QACjC,KAAK,EAGD,OAFAK,EAAMX,EAAGM,OACTV,KAAKgB,gBAAgBD,GACd,CAAC,OAAc,GAC1B,KAAK,EAED,MAAO,CAAC,WAK5BrB,EAAYC,UAAUsB,kBAAoB,SAAUnB,EAAOT,GACvD,OAAO,EAAIpC,EAAQ8C,WAAWC,UAAM,OAAQ,GAAQ,WAChD,IAAIc,EAAQI,EACZ,OAAO,EAAIjE,EAAQkD,aAAaH,MAAM,SAAUI,GAC5C,OAAQA,EAAGC,OACP,KAAK,EAGD,OAFAD,EAAGE,KAAKC,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBO,EAAS,oHAAsHhB,EAAMU,cAAgB,UAAYnB,EAAU,oBACpK,CAAC,EAAaoB,MAAMK,IAC/B,KAAK,EAAG,MAAO,CAAC,EAAcV,EAAGM,OAAQC,QACzC,KAAK,EAAG,MAAO,CAAC,EAAcP,EAAGM,QACjC,KAAK,EAGD,OAFAQ,EAAMd,EAAGM,OACTV,KAAKgB,gBAAgBE,GACd,CAAC,OAAc,GAC1B,KAAK,EAED,MAAO,CAAC,WAK5BxB,EAAYC,UAAUiB,YAAc,SAAU3B,GAI1CkC,QAAQC,IAAI,mCAAoCnC,IAEpDS,EAAYC,UAAUqB,gBAAkB,SAAU/B,GAI9CkC,QAAQC,IAAI,mCAAoCnC,IAE7CS,EAjFqB,GAmFhChC,EAAQgC,YAAcA,EACtB,IAAID,EAA+B,WAC/B,SAASA,KA2BT,OAtBAA,EAAc4B,WAAa,SAAUvB,EAAOwB,GACxC,OAAO,EAAIrE,EAAQ8C,WAAWC,UAAM,OAAQ,GAAQ,WAEhD,OAAO,EAAI/C,EAAQkD,aAAaH,MAAM,SAAUI,GAC5C,OAAQA,EAAGC,OACP,KAAK,EAGD,OAFAD,EAAGE,KAAKC,KAAK,CAAC,EAAG,EAAG,CAAE,IAEf,CAAC,EAAaE,MADZ,gEAAkEX,EAAQ,iBAAmBwB,EAAW,iBAErH,KAAK,EAAG,MAAO,CAAC,EAAclB,EAAGM,OAAQC,QACzC,KAAK,EAAG,MAAO,CAAC,EAAcP,EAAGM,QACjC,KAAK,EAGD,OAFMN,EAAGM,OAEF,CAAC,OAAc,GAC1B,KAAK,EAED,MAAO,CAAC,WAKrBjB,EA5BuB,GA8BlC/B,EAAQ+B,cAAgBA,iBCrHxBjC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6D,sBAAmB,EAC3B,IAAIlE,EAAiB,EAAQ,KACzBkE,EAAkC,WAClC,SAASA,EAAiBzB,GACtBE,KAAKF,MAAQA,EA6QjB,OA3QAyB,EAAiB5B,UAAU6B,mBAAqB,WAC5C,IAAIC,EAAQzB,KAIR0B,EAASC,GAAGC,OAAO,eAEnBC,EAAQF,GAAGG,OAAOC,GAAG,QAAQ,WAC7BJ,GAAGC,OAAO,eAAiBH,EAAM3B,OAAOkC,KAAK,YAAaL,GAAGjD,MAAMuD,WACnEN,GAAGC,OAAO,wBAA0BH,EAAM3B,OAAOkC,KAAK,YAAaL,GAAGjD,MAAMuD,WAC5EN,GAAGC,OAAO,wBAA0BH,EAAM3B,OAAOkC,KAAK,YAAaL,GAAGjD,MAAMuD,cAEhFN,GAAGC,OAAO,eAAeM,KAAKL,GACzBE,GAAG,gBAAiB,MACpBA,GAAG,aAAc,MACjBA,GAAG,kBAAmB,MAE3BJ,GAAGC,OAAO,sBAAwB5B,KAAKF,OAClCiC,GAAG,SAAS,WACbJ,GAAGjD,MAAMyD,kBACTN,EAAMO,QAAQV,EAAOW,aAAaC,SAAS,KAAM,QAGrDX,GAAGC,OAAO,uBAAyB5B,KAAKF,OACnCiC,GAAG,SAAS,WACbJ,GAAGjD,MAAMyD,kBACT,IACII,EADaZ,GAAGC,OAAO,eAAiBH,EAAM3B,OAClB0C,QAAQ,GAAG,GAAGC,aAAa,aAC3D,GAAIF,GAAqC,KAAnBA,EAAuB,CACzC,GAAuB,OAAnBA,EACA,OACJ,IAAIG,GAAqBH,EAAeI,MAAM,mBAAmB,GACjE,GAAID,GAAqB,GAAMA,EAAoB,IAAO,EAEtD,YADAhB,EAAOW,aAAaC,SAAS,KAAKJ,KAAKL,EAAMI,UAAWN,GAAGiB,cAInEf,EAAMO,QAAQT,GAAGC,OAAO,eAAeS,aAAaC,SAAS,KAAM,OAGvEX,GAAGC,OAAO,qBAAuB5B,KAAKF,OACjCiC,GAAG,SAAS,WACbJ,GAAGjD,MAAMyD,kBACTT,EAAOW,aAAaC,SAAS,KAAKJ,KAAKL,EAAMI,UAAWN,GAAGiB,iBAG/DjB,GAAGC,OAAO,2BAA6B5B,KAAKF,OACvCiC,GAAG,SAAS,WACbJ,GAAGjD,MAAMyD,kBACTZ,EAAiBsB,eAAepB,EAAM3B,OACtCyB,EAAiBhC,eAAekC,EAAM3B,WAG9CyB,EAAiBuB,mBAAqB,SAAUhD,EAAOD,EAAUkD,EAAcC,EAActE,GAQzFA,MAAAA,GAA8CA,EAAMuE,2BACpD1B,EAAiBsB,eAAe/C,GAChC,IAAIoD,EAAQ5E,SAAS6E,eAAerD,EAAQ,uBAI5C,GAHIoD,IACAA,EAAME,MAAMC,QAAU,SAErBL,IACmBM,MAAhBP,IACAA,EAAe/C,KAAKuD,cAEpBR,GAAgB,GAAG,CACnB,IAAIS,EAAS,CAAE1D,MAAOA,EAAOiD,aAAcA,EAAclD,SAAUA,GAC/D4D,EAAcnF,SAASoF,cAAc,YAAc5D,EAAQ,IAAMiD,GACjEU,GACApG,EAAeE,aAAakB,oBAAoB8C,EAAiBoC,UAAU,2BAA4BH,EAAQC,KAK/HlC,EAAiBqC,eAAiB,WAI9B,IAAIC,EAAavF,SAAS6E,eAAe,cACpCnD,KAAK8D,UAKND,EAAWT,MAAMC,QAAU,OAC3BrD,KAAK8D,UAAW,IALhBD,EAAWT,MAAMC,QAAU,QAC3BrD,KAAK8D,UAAW,IAOxBvC,EAAiBsB,eAAiB,SAAU/C,GAKxC,GAAIE,KAAK+D,UAAY,EAAG,CACpB,IAAIC,EAAa1F,SAASoF,cAAc,kBAAkBO,uBAAuB,yBAA2BnE,EAAQ,YAAcA,EAAQ,IAAME,KAAK+D,UAAU,GAC3J/D,KAAKkE,eAAiBF,EACK,QAAvBA,EAAWG,SACXH,EAAWI,aAAa,OAAQ7C,EAAiB2C,eAGjDF,EAAWI,aAAa,SAAU7C,EAAiB2C,eAGlDF,IACsB,QAAvBA,EAAWG,SACXH,EAAWI,aAAa,OAAQ,WAGhCJ,EAAWI,aAAa,SAAU,YAG1CpE,KAAK+D,UAAY,IAGzBxC,EAAiBhC,eAAiB,SAAUO,GAKxCxB,SAASoF,cAAc,wBAA0B5D,KAASxB,SAASoF,cAAc,wBAA0B5D,GAAOuE,UAAY,KAElI9C,EAAiB+C,YAAc,SAAUC,EAAKC,EAAMC,EAAMC,EAAOC,GAS7D,IAAIC,EAAUtG,SAAS6E,eAAe,WACtCyB,EAAQC,GAAK,UACbD,EAAQP,UAAYG,EACpBI,EAAQxB,MAAMC,QAAU,QACxBuB,EAAQxB,MAAM0B,KAAOP,EAAIQ,OAAS,KAClCH,EAAQxB,MAAM4B,IAAMT,EAAIU,OAAS,KACjC1D,EAAiB2D,gBAAkBR,EACnCnD,EAAiB4D,YAAcR,EAC/B,IAAIS,EAAO9G,SAASoF,cAAc,kBAAkBO,uBAAuBQ,GAAM,GAC5D,QAAjBW,EAAKjB,UACLiB,EAAKhB,aAAa,SAAU,UAEhCgB,EAAKhB,aAAa,OAAQ,WAE9B7C,EAAiB8D,YAAc,SAAUZ,GAKvBnG,SAAS6E,eAAe,WAC9BC,MAAMC,QAAU,OACxB,IAAI+B,EAAO9G,SAASoF,cAAc,kBAAkBO,uBAAuBQ,GAAM,GAC5D,QAAjBW,EAAKjB,UACLiB,EAAKhB,aAAa,SAAU,GAAK7C,EAAiB2D,iBAEtDE,EAAKhB,aAAa,OAAQ,GAAK7C,EAAiB4D,cAEpD5D,EAAiB+D,WAAa,SAAUC,EAAOb,EAAO5E,GAOlD,IAAI0F,EAASlH,SAASoF,cAAc,kBAAkBO,uBAAuB,UAAYnE,EAAQ,IAAMyF,GAAO,GAE1GE,EADanH,SAASoF,cAAc,kBAAkBO,uBAAuB,yBAA2BnE,EAAQ,YAAcA,EAAQ,IAAMyF,GAAO,GACjIG,UAClBC,EAAMF,EAAKG,EAAIH,EAAKI,MAAQ,EAC5BC,EAAML,EAAKM,EAAIN,EAAKO,OAAS,EACjCR,EAAOpB,aAAa,KAAMuB,GAC1BH,EAAOpB,aAAa,KAAM0B,GAC1BN,EAAOpB,aAAa,SAAU,GAAKM,GACnCc,EAAOpB,aAAa,OAAQ,GAAKM,GACjCc,EAAOpC,MAAMC,QAAU,SAE3B9B,EAAiBoC,UAAYtG,EAAeE,aAAaK,OAAO,CAAC,uBAAwB,2BAA4B,4BACrH2D,EAAiBgC,cAAgB,EACjChC,EAAiBwC,UAAY,EAC7BxC,EAAiB0E,aAAe,GAChC1E,EAAiB2D,gBAAkB,GACnC3D,EAAiB4D,YAAc,GAC/B5D,EAAiB2C,cAAgB,GACjC3C,EAAiBuC,UAAW,EAC5BvC,EAAiB2E,iBAAmB,SAAUpG,EAAOD,EAAUkD,EAAc7E,EAAW8E,EAAcmD,EAASzH,EAAOgG,GAWlH,GADAhG,MAAAA,GAA8CA,EAAMuE,2BAChD3E,SAASoF,cAAc,kBAAmB,CAC1CnC,EAAiBsB,eAAe/C,GAChCyB,EAAiB6E,gBAAgBtG,EAAOiD,EAAc2B,EAAO,aAC7DnD,EAAiBwC,SAAWhB,EAC5BxB,EAAiBgC,aAAeR,EAChC,IAAIG,EAAQ5E,SAAS6E,eAAerD,EAAQ,uBAG5C,GAFAoD,EAAME,MAAMC,QAAU,SACtBH,EAAMmB,UAAY,YAAcrB,EAAe,cAAgB,IAAM,YAAcmD,GAAoB,IAAM,IAAMpD,EAAe,aAC7HC,EAAc,CACf,IAAIqD,EAA2B,UAAdnI,EAAyB,uBAAyB,2BAC/DsF,EAAS,CAAE1D,MAAOA,EAAOiD,aAAcA,EAAclD,SAAUA,GAC/D4D,EAAcnF,SAASoF,cAAc,YAAc5D,EAAQ,IAAMiD,GACjEU,GACApG,EAAeE,aAAakB,oBAAoB8C,EAAiBoC,UAAU0C,GAAY7C,EAAQC,MAK/GlC,EAAiB6E,gBAAkB,SAAUtG,EAAOiD,EAAc2B,EAAO4B,EAAMC,GAS3E,IAAIC,EAAc9B,GAAS,SAC3B,GAAa,UAAT6B,EAAmB,CACnB,IAAIf,EAASlH,SAASoF,cAAc,kBAAkBO,uBAAuB,UAAYnE,EAAQ,IAAMiD,GAAc,GACzG,aAARuD,GACId,EAAO/C,aAAa,YACpBlB,EAAiB2C,cAAgBsB,EAAO/C,aAAa,WAGzD+C,IACAA,EAAOpB,aAAa,SAAU,GAAKM,GACnCc,EAAOpB,aAAa,OAAQ,GAAKM,GACjCc,EAAOpC,MAAMC,QAAU,SAG/B,IAAIW,EAAa1F,SAASoF,cAAc,kBAAkBO,uBAAuB,yBAA2BnE,EAAQ,YAAcA,EAAQ,IAAMiD,GAAc,GAC1JiB,IAC2B,QAAvBA,EAAWG,UACC,aAARmC,IACItC,EAAWvB,aAAa,UACxBlB,EAAiB2C,cAAgBF,EAAWvB,aAAa,UAGzDlB,EAAiB2C,cAAgB,WAGzCF,EAAWI,aAAa,SAAUoC,IAEN,QAAvBxC,EAAWG,WACJ,aAARmC,IACItC,EAAWvB,aAAa,QACxBlB,EAAiB2C,cAAgBF,EAAWvB,aAAa,QAGzDlB,EAAiB2C,cAAgB,WAGzCF,EAAWI,aAAa,OAAQoC,MAIrCjF,EA/Q0B,GAiRrC7D,EAAQ6D,iBAAmBA,EAE3BlD,OAAOkD,iBAAmBA,iBCtR1B/D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+I,uBAAoB,EAC5B,IAAIrJ,EAAc,EAAQ,KACtBF,EAAS,EAAQ,KACjBuJ,EAAmC,WACnC,SAASA,EAAkBC,EAAkBC,EAAeC,GACxD,IAAIC,EAAU7G,KAIdA,KAAK8G,mBAAqBzI,OAAOyI,mBACjC9G,KAAK+G,mBAAqB1I,OAAO0I,mBACjC/G,KAAKgH,oBAAsB3I,OAAO2I,oBAClChH,KAAKiH,WAAa5I,OAAO4I,WACzBjH,KAAKkH,YAAc7I,OAAO6I,YAC1BlH,KAAKmH,sBAAwB9I,OAAO8I,sBACpCnH,KAAKoH,kBAAoB/I,OAAO+I,kBAChCpH,KAAKqH,qBAAuBhJ,OAAOgJ,qBACnCrH,KAAKsH,mBAAqBjJ,OAAOiJ,mBACjCtH,KAAKuH,gBAAkBlJ,OAAOmJ,GAC9BxH,KAAKyH,UAAY,IAAIC,IACrB1H,KAAK2H,UAAY,kKACjB3H,KAAK4H,SAAW,GAChB5H,KAAK6H,eAAiB,GACtB7H,KAAK8H,WAAa,GAClB9H,KAAK+H,SAAW,IAAIL,IACpB1H,KAAKgI,eAAiB,IAAIN,IAC1B1H,KAAKiI,YAAc,GACnBjI,KAAKkI,aAAe,GACpBlI,KAAKmI,oBAAqB,EAC1BnI,KAAKoI,aAAe,IAAIV,IACxB1H,KAAKqI,SAAW,IAAIX,IACpB1H,KAAKsI,SAAW,IAAIZ,IACpB1H,KAAKuI,mBAAqB,GAC1BvI,KAAKwI,eAAiB,CAClBC,gBAAiB,eACjBC,UAAW,mBACXC,YAAa,aACbC,aAAc,8BACdC,WAAY,8BACZC,cAAe,6DACfC,kBAAmB,mBACnBC,cAAe,+CACfC,aAAc,oBAElBjJ,KAAKkJ,cAAgB,IAAIC,IACzBnJ,KAAKoJ,qBAAuB,IAAID,IAChCnJ,KAAKsF,WAAa,SAAUxF,EAAOuJ,EAAG3E,GAMlC,IAAIc,EAASlH,SAASoF,cAAc,kBAAkBO,uBAAuB,UAAYnE,EAAQ,IAAMuJ,GAAG,GAC1G7D,EAAOpB,aAAa,SAAU,GAAKM,GACnCc,EAAOpB,aAAa,OAAQ,GAAKM,GACjCc,EAAOpC,MAAMC,QAAU,SAE3BrD,KAAKsJ,SAAW,WAIZ,IAAIC,EAAe1C,EAAQH,iBAAiBhD,cAAc,qBACtD8F,EAAgBC,SAASF,EAAa5L,OAC1C,GAAI6L,EAAe,CACf,IAAIE,EAAiB7C,EAAQ8C,YAAYH,GACrCE,EAAeE,MACfF,EAAeE,KAAKC,SAAQ,SAAUC,EAAKT,GAC5B/F,MAAPwG,GAAiCxG,MAAbwG,EAAIpF,OACpBoF,EAAIpF,MAAMqF,QAAQ,OAAS,GAC3B3M,EAAYmE,iBAAiB6E,gBAAgBS,EAAQF,cAAc7G,MAAOgK,EAAIE,MAAOF,EAAIpF,WAAOpB,EAAWuD,EAAQqB,qBAMlI,CACD,IAAI+B,EAAapD,EAAQ8C,YAAY,GACjCM,EAAWL,MACXK,EAAWL,KAAKC,SAAQ,SAAUC,EAAKT,GACxB/F,MAAPwG,GAAiCxG,MAAbwG,EAAIE,OACxB5M,EAAYmE,iBAAiB6E,gBAAgBS,EAAQF,cAAc7G,MAAOgK,EAAIE,MAAO,kBAAc1G,EAAWuD,EAAQqB,mBAM1IlI,KAAKkK,eAAiB,WAIlB,IAAIC,EAAkBtD,EAAQH,iBAAiBhD,cAAc,qBACzD0G,GAAOD,EAAgBxM,MAC3BW,SAAS6E,eAAe,2BAA2BxF,MAAQwM,EAAgB/K,QAAQgL,GAAK5F,KACxFqC,EAAQU,gBAAgB8C,kBAAoBF,EAAgB/K,QAAQgL,GAAK5F,MAE7ExE,KAAKsK,iBAAmB,WAyBpB,IAAK,IAAIR,KArBLjD,EAAQU,gBAAgBgD,SAAStM,OAAS,GAAkD,eAA7C4I,EAAQU,gBAAgB8C,oBACvExD,EAAQU,gBAAgB8C,kBAAoB,eAEhDxD,EAAQqC,cAAcW,SAAQ,SAAUC,GACpC,IAAKjD,EAAQU,gBAAgBgD,SAASC,SAASV,GAAM,CACjD,IAAK,IAAIT,KAAKxC,EAAQU,gBAAgBkD,iBAAiBX,GAAM,CACzD1M,EAAYmE,iBAAiB6E,gBAAgBS,EAAQF,cAAc7G,MAAO+G,EAAQU,gBAAgBkD,iBAAiBX,GAAKT,GAAI,eAAW/F,EAAWuD,EAAQqB,cAC1J,IAAIwC,EAAQ,yBAA2B7D,EAAQF,cAAc7G,MAAQ,YAAc+G,EAAQF,cAAc7G,MAAQ,IAAM+G,EAAQU,gBAAgBkD,iBAAiBX,GAAKT,GACjKsB,EAAQ,UAAY9D,EAAQF,cAAc7G,MAAQ,IAAM+G,EAAQU,gBAAgBkD,iBAAiBX,GAAKT,GACtG/K,SAAS2F,uBAAuByG,GAAOzM,OAAS,IAChDK,SAAS2F,uBAAuByG,GAAO,GAAGtG,aAAa,cAAe9F,SAAS2F,uBAAuByG,GAAO,GAAGjI,aAAa,eAAemI,MAAM,KAAK,IACvJtM,SAAS2F,uBAAuByG,GAAO,GAAGtG,aAAa,aAAc9F,SAAS2F,uBAAuByG,GAAO,GAAGjI,aAAa,cAAcmI,MAAM,KAAK,KAErJtM,SAAS2F,uBAAuB0G,GAAO1M,OAAS,IAChDK,SAAS2F,uBAAuB0G,GAAO,GAAGvG,aAAa,cAAe9F,SAAS2F,uBAAuB0G,GAAO,GAAGlI,aAAa,eAAemI,MAAM,KAAK,IACvJtM,SAAS2F,uBAAuB0G,GAAO,GAAGvG,aAAa,aAAc9F,SAAS2F,uBAAuB0G,GAAO,GAAGlI,aAAa,cAAcmI,MAAM,KAAK,KAG7J/D,EAAQqC,cAAc2B,OAAOf,OAGrBjD,EAAQU,gBAAgBgD,SAAU,CAC9C,IAAIO,EAAQjE,EAAQU,gBAAgBgD,SAAST,GAC7C,IAAK,IAAIT,KAAKxC,EAAQU,gBAAgBkD,iBAAiBK,GACnD1N,EAAYmE,iBAAiB6E,gBAAgBS,EAAQF,cAAc7G,MAAO+G,EAAQU,gBAAgBkD,iBAAiBK,GAAOzB,GAAIxC,EAAQU,gBAAgBwD,gBAAgBC,IAAIF,QAAQxH,EAAWuD,EAAQqB,cAEzMrB,EAAQqC,cAAc+B,IAAIH,GAE9BjE,EAAQqE,aAEZlL,KAAKmL,sBAAwB,WAsBzB,IAAK,IAAIrB,KAlBTjD,EAAQuC,qBAAqBS,SAAQ,SAAUC,GAC3C,IAAKjD,EAAQU,gBAAgB6D,cAAcZ,SAASV,GAAM,CACtD,IAAK,IAAIT,KAAKxC,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAM,CAC9D1M,EAAYmE,iBAAiB6E,gBAAgBS,EAAQF,cAAc7G,MAAO+G,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAKT,GAAI,eAAW/F,EAAWuD,EAAQqB,cAC/J,IAAIwC,EAAQ,yBAA2B7D,EAAQF,cAAc7G,MAAQ,YAAc+G,EAAQF,cAAc7G,MAAQ,IAAM+G,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAKT,GACtKsB,EAAQ,UAAY9D,EAAQF,cAAc7G,MAAQ,IAAM+G,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAKT,GAC3G/K,SAAS2F,uBAAuByG,GAAOzM,OAAS,IAChDK,SAAS2F,uBAAuByG,GAAO,GAAGtG,aAAa,cAAe9F,SAAS2F,uBAAuByG,GAAO,GAAGjI,aAAa,eAAemI,MAAM,KAAK,IACvJtM,SAAS2F,uBAAuByG,GAAO,GAAGtG,aAAa,aAAc9F,SAAS2F,uBAAuByG,GAAO,GAAGjI,aAAa,cAAcmI,MAAM,KAAK,KAErJtM,SAAS2F,uBAAuB0G,GAAO1M,OAAS,IAChDK,SAAS2F,uBAAuB0G,GAAO,GAAGvG,aAAa,cAAe9F,SAAS2F,uBAAuB0G,GAAO,GAAGlI,aAAa,eAAemI,MAAM,KAAK,IACvJtM,SAAS2F,uBAAuB0G,GAAO,GAAGvG,aAAa,aAAc9F,SAAS2F,uBAAuB0G,GAAO,GAAGlI,aAAa,cAAcmI,MAAM,KAAK,KAG7J/D,EAAQuC,qBAAqByB,OAAOf,OAG5BjD,EAAQU,gBAAgB6D,cAAe,CACnD,IAAIE,EAAMzE,EAAQU,gBAAgB6D,cAActB,GAChD,IAAK,IAAIT,KAAKxC,EAAQU,gBAAgB8D,kBAAkBL,IAAIM,GACxDlO,EAAYmE,iBAAiB6E,gBAAgBS,EAAQF,cAAc7G,MAAO+G,EAAQU,gBAAgB8D,kBAAkBL,IAAIM,GAAKjC,GAAIxC,EAAQU,gBAAgBgE,iBAAiBP,IAAIM,QAAMhI,EAAWuD,EAAQqB,cAE3MrB,EAAQuC,qBAAqB6B,IAAIK,GAErCzE,EAAQqE,aAOZlL,KAAK0G,iBAAmBA,EACxB1G,KAAK2G,cAAgBA,EACrB3G,KAAK4G,QAAUA,EACf5G,KAAKwL,iBAAmB,IAAIpO,EAAYmE,iBAAiBvB,KAAK2G,cAAc7G,OAwnBhF,OAtnBA2G,EAAkB9G,UAAU8L,OAAS,SAAU7E,EAAS8E,EAAUC,GAM9D3L,KAAK0G,iBAAiBrC,UAClB,6DAAgErE,KAAK2G,cAAc7G,MAAQ,mBAAsBE,KAAK4L,YAAYhF,EAAS8E,EAAUC,GAAkB,iBAAmB3L,KAAK6L,QAAU,iBAAmB7L,KAAK4E,UAAY,iBAAmB5E,KAAK8L,gBAAkB,yCAA4C9L,KAAK2H,UAAY,qvCACxV3H,KAAK+L,qBACL/L,KAAKgM,mBACLhM,KAAKwL,iBAAiBhK,qBACtBxB,KAAKkL,YACL5M,SAASoF,cAAc,YAAY1E,iBAAiB,QAASgB,KAAKiM,QAAQC,KAAKlM,OAC/EA,KAAKmM,4BAA4BnM,KAAKgH,sBAE1CP,EAAkB9G,UAAUyM,SAAW,SAAUtC,GAC7C,IAAIjD,EAAU7G,KAKdA,KAAKqM,gBAAkB,GACvBrM,KAAKsM,sBAAwB,GAC7B,IAAIC,EAAQvM,KAAK0G,iBAAiBhD,cAAc,iBAAiB8I,QACrD,OAAP1C,EACD9J,KAAK+H,SAAS8B,SAAQ,SAAUlM,EAAO8O,GACnC5F,EAAQkB,SAAS2E,IAAID,EAAK,CAACF,EAAO5O,EAAM,KACxCkJ,EAAQmB,eAAe0E,IAAID,EAAK,CAACF,EAAO1F,EAAQmB,eAAegD,IAAIyB,GAAK,KACxEnO,SAAS6E,eAAe,YAAcsJ,GAAKD,QAAUD,EACjDA,IACA1F,EAAQwF,iBAAmB1O,EAAM,GAAGgP,KAAK,IACzC9F,EAAQyF,uBAAyBzF,EAAQmB,eAAegD,IAAIyB,GAAK,GAAGE,KAAK,SAK7E3M,KAAK+H,SAASiD,IAAIlB,GAAK,IACvB9J,KAAK+H,SAAS2E,IAAI5C,EAAK,EAAC,EAAO9J,KAAK+H,SAASiD,IAAIlB,GAAK,KACtD9J,KAAKgI,eAAe0E,IAAI5C,EAAK,EAAC,EAAO9J,KAAKgI,eAAegD,IAAIlB,GAAK,OAGlE9J,KAAK+H,SAAS2E,IAAI5C,EAAK,EAAC,EAAM9J,KAAK+H,SAASiD,IAAIlB,GAAK,KACrD9J,KAAKgI,eAAe0E,IAAI5C,EAAK,EAAC,EAAM9J,KAAKgI,eAAegD,IAAIlB,GAAK,MAErE9J,KAAK+H,SAAS8B,SAAQ,SAAUlM,EAAO8O,GAC/B9O,EAAM,KACNkJ,EAAQwF,iBAAmB1O,EAAM,GAAGgP,KAAK,IACzC9F,EAAQyF,uBAAyBzF,EAAQmB,eAAegD,IAAIyB,GAAK,GAAGE,KAAK,SAIrF3M,KAAK4M,oBAETnG,EAAkB9G,UAAUqM,iBAAmB,WAC3C,IACI5L,EADAyG,EAAU7G,KAKd,GAAIA,KAAK+H,SAAS8E,KAAO,EAAG,CACxB,IAAIC,EAAe,0GACfzD,EAAI,EACRrJ,KAAK+H,SAAS8B,SAAQ,SAAUlM,EAAO8O,GAC/BpD,EAAI,GAAK,IACTyD,GAA8B,QAG9BA,EADO,OAAPL,EACeK,EAAe,8BAAiCL,EAAM,yCAA+CA,EAAM,sBAAyBA,EAAM,gBAG1IK,EAAe,8BAAiCL,EAAM,yCAA+CA,EAAM,OAAUA,EAAM,gBAE1IpD,EAAI,GAAK,IACTyD,GAA8B,SAElCzD,GAAK,KAETyD,GAA8B,WACXxO,SAAS6E,eAAe,cAC9BkB,UAAYyI,EAC0B,QAAlD1M,EAAK9B,SAAS6E,eAAe,uBAAoC,IAAP/C,GAAyBA,EAAGpB,iBAAiB,SAAUgB,KAAKoM,SAASF,KAAKlM,KAAM,QAC3IA,KAAK+H,SAAS8B,SAAQ,SAAUlM,EAAO8O,GACnC,IAAIrM,EACkD,QAArDA,EAAK9B,SAAS6E,eAAe,YAAcsJ,UAAyB,IAAPrM,GAAyBA,EAAGpB,iBAAiB,SAAU6H,EAAQuF,SAASF,KAAKrF,EAAS4F,SAIhKhG,EAAkB9G,UAAUoM,mBAAqB,WAI7C,IACIxC,EAAevJ,KAAK0G,iBAAiBhD,cAAc,kBACvD6F,EAAalF,UAFI,yGAGjBkF,EAAavK,iBAAiB,SAAUgB,KAAK4M,iBAAiBV,KAAKlM,OACpDA,KAAK0G,iBAAiBhD,cAAc,aAC1C1E,iBAAiB,SAAUgB,KAAK4M,iBAAiBV,KAAKlM,QAEnEyG,EAAkB9G,UAAUoN,qBAAuB,WAK/C,GADA/M,KAAK0J,eAAiB1J,KAAK2J,YAAY,GACnC3J,KAAK2J,YAAY1L,OAAS,EAAG,CAC7B,IAAI+O,EAAe,GACnBhN,KAAK2J,YAAYE,SAAQ,SAAUoD,EAAK5D,GACpC2D,EAAeA,EAAe,kBAAqB3D,EAAI,KAAQ4D,EAAI5M,MAAQ,eAE/E,IAAIkJ,EAAevJ,KAAK0G,iBAAiBhD,cAAc,qBACvD6F,EAAalF,UAAY2I,EACzBzD,EAAavK,iBAAiB,SAAUgB,KAAKkK,eAAegC,KAAKlM,YAGjEA,KAAK0G,iBAAiBhD,cAAc,gBAAgBN,MAAMC,QAAU,QAG5EoD,EAAkB9G,UAAUuN,sBAAwB,SAAUC,EAAMC,EAAgBC,EAAWC,EAASC,EAAaC,GAUjH,IAAI/L,EAAQzB,KAqBZ,OApBAsN,EAAQzD,SAAQ,SAAUlM,EAAO4H,GAC7B,GAAIgI,GAAehI,GAASA,GAASiI,EAAW,CAC5C,IAAIC,EAAYJ,EAAUrC,IAAIzF,GAC9BlH,OAAOyI,mBAAmBkE,IAAImC,GAAM5M,KAAK,CACrCmN,UAAWjM,EAAMkF,cAAc9G,SAC/B8N,eAAgBpI,EAChBb,MAAO+I,EAAU,GACjBG,WAAW,IAEfnM,EAAM+G,eAAeO,kBAAoB,IAAM8E,OAAOJ,EAAU,GAAGd,KAAK,KACxE,IAAImB,EAAS,OAASD,OAAOJ,EAAU,GAAGd,KAAK,MAAQ,IACvDS,EAAe7M,KAAK,CAChByJ,MAAOzE,EACPwI,IAAKxI,EACLb,MAAOoJ,EACPE,WAAYC,OAAOC,WAAWvQ,GAAOwQ,YAAY,GACjDC,gBAAiB,eAItBhB,GAEX3G,EAAkB9G,UAAUwM,4BAA8B,SAAUnF,GAChE,IAAIH,EAAU7G,KAMVyB,EAAQzB,KACRgK,EAAQhK,KAAK4G,QAAU5G,KAAK4G,QAAQyH,cAAc,GAAK,OAC3B,IAArB5M,EAAMkI,cACblI,EAAMkI,YAAc,CAAC,CACbtJ,MAAO,cACPuJ,KAAM,QAGlB5J,KAAK8G,mBAAqBzI,OAAOyI,mBACjC9G,KAAK8G,mBAAmB4F,IAAI,cAAe,CAAC,CACpCgB,UAAWjM,EAAMkF,cAAc9G,SAC/ByO,OAAO,KAQftO,KAAK+G,mBAAqB1I,OAAO0I,mBACjC/G,KAAKiH,WAAa5I,OAAO4I,WACrBD,IACAA,EAAoB6C,SAAQ,SAAUlM,EAAO4H,GACzC,IAAI6H,EAAiB,CAAC,IAClBD,EAAO5H,EACPgJ,EAAgB5Q,EACpBkJ,EAAQC,mBAAmB4F,IAAIS,EAAM,IACrC,IAAIqB,EAAMC,KAAKD,IAAIE,MAAMD,KAAM5H,EAAQE,mBAAmBiE,IAAImC,IAC1DwB,EAAMF,KAAKE,IAAID,MAAMD,KAAM5H,EAAQE,mBAAmBiE,IAAImC,IAC1DyB,EAAgB/H,EAAQI,WAAW+D,IAAImC,GAC/B,mBAARA,GACAtG,EAAQM,sBAAsBoH,EAAeC,EAAKG,EAAK9H,EAAQF,cAActH,SAIrE,YAAR8N,GACAtG,EAAQO,kBAAkBmH,EAAeC,EAAKG,EAAK9H,EAAQF,cAActH,SAGjE,eAAR8N,GACAtG,EAAQQ,qBAAqBkH,EAAeC,EAAKG,EAAK9H,EAAQF,cAActH,SAGhF,IAAIe,EAAKyG,EAAQK,YAAYqH,EAAeC,EAAKG,EAAKC,GAAgBvB,EAAYjN,EAAG,GAAIkN,EAAUlN,EAAG,GACtGyG,EAAQC,mBAAmBkE,IAAImC,GAAM5M,KAAK,CAAEmN,UAAWjM,EAAMkF,cAAc9G,SAAUyO,OAAO,IAC5F,IAAIP,EAAMT,EAAQT,KAClB,QAAI,IAAWS,GAEP,GADJF,EAAiB3L,EAAMyL,sBAAsBC,EAAMC,EAAgBC,EAAWC,EAAStD,EAAO+D,IACvE9P,OAAQ,CAC3B,IAAI4Q,EAAUpN,EAAMkI,YAAYmF,QAAO,SAAUC,GAAS,OAAQA,EAAM1O,QAAU8M,KAAU,GACxF0B,GAAsB,MAAXA,EACXA,EAAQjF,KAAOwD,EAGf3L,EAAMkI,YAAYpJ,KAAK,CACnBF,MAAO8M,EACPvD,KAAMwD,QAM1BpN,KAAK+M,uBACL/M,KAAKuH,gBAAgByH,iBAAkB,IAO/CvI,EAAkB9G,UAAUsP,kBAAoB,SAAUrI,GAKtD,IAAIsI,EAAQ,GACRC,EAAQ,GACRC,EAAO,GACPC,EAAgBzI,EAAQ0I,UAAUrR,OAAS,EAC/C2I,EAAQ0I,UAAUzF,SAAQ,SAAU0F,EAASC,GACzC,GAAoB,IAAhBA,GAAqBA,IAAgBH,EAAzC,CAEA,IAAII,EAAgBF,EAAQ3E,MAAM,KAAK+B,KAAK,KAAK/B,MAAM,KAGvD,GAFAsE,EAAMM,IAAgBvB,OAAOwB,EAAc,IAAMxB,OAAOwB,EAAc,KAAO,EAC7EN,EAAMK,IAAgBvB,OAAOwB,EAAc,IAAMxB,OAAOwB,EAAc,KAAO,EACzED,EAAc,EAAG,CACjB,IAAIE,EAAQR,EAAMM,GAAeN,EAAMM,EAAc,GACjDG,EAAQR,EAAMK,GAAeL,EAAMK,EAAc,GACrDJ,EAAKI,GAAef,KAAKmB,IAAKnB,KAAKmB,IAAID,EAAO,GAAKlB,KAAKmB,IAAIF,EAAO,GAAK,SAGhF,IAAIG,EAAaT,EAAKU,MAAK,SAAUC,EAAGC,GAAK,OAAOD,EAAIC,KACxD,MAAO,GAAMH,EAAWpB,KAAKwB,MAA0B,IAApBJ,EAAW5R,UAElDwI,EAAkB9G,UAAUuQ,aAAe,SAAUC,EAASC,EAASC,GAQnE,IAAIrG,GAASmG,EAAQG,QACjBvC,GAAOoC,EAAQI,QACnB,GAAIJ,GAAWnG,GAAS+D,EAAK,CACzB,IAAIzH,EAAO6J,EAAQK,GACfC,EAAS,uBAAyBzQ,KAAK2G,cAAc7G,MAAQ,IAAME,KAAK2G,cAActH,QAAU,IAAMiH,EAAO,IAAM0D,EAAQ,IAAM+D,EACjI2C,EAAKP,EAAQQ,IACbC,EAAKT,EAAQU,IACjB,GAAY,OAARvK,GAAyB,OAARA,GAAyB,OAARA,GAAyB,OAARA,GAAyB,OAARA,GAAyB,OAARA,EAAe,CACpG,IAAIwK,EAAO/C,EACXA,EAAM/D,EACNA,EAAQ8G,EACR,IAAIC,EAAQL,EACZA,EAAKE,EACLA,EAAKG,EACLzK,EAAOA,EAAK0K,OAAO,GAAK1K,EAAK2K,OAAO,GAAGrG,MAAM,IAAIsG,UAAUvE,KAAK,IAEpE,IAAIwE,EAAKnR,KAAKyH,UAAUuD,IAAIhB,GAAO,GAAKqG,EAAY,IAChDe,EAAKpR,KAAKyH,UAAUuD,IAAI+C,GAAK,GAAKsC,EAAY,IAC9CgB,EAAKrR,KAAKyH,UAAUuD,IAAIhB,GAAO,GAAKqG,EAAY,IAChDiB,EAAKtR,KAAKyH,UAAUuD,IAAI+C,GAAK,GAAKsC,EAAY,IAC9CkB,EAAW9C,KAAKmB,IAAInB,KAAKmB,IAAKuB,EAAKC,EAAK,GAAK3C,KAAKmB,IAAKyB,EAAKC,EAAK,GAAI,IACrEE,EAAW/K,EAAkBgL,oBAAoBN,EAAIC,EAAIf,EAAYkB,GACrEG,EAAWjL,EAAkBgL,oBAAoBJ,EAAIC,EAAIjB,EAAYkB,GACrEI,EAAWlL,EAAkBgL,oBAAoBN,EAAIC,EAAI,EAAIf,EAAYkB,GACzEK,EAAWnL,EAAkBgL,oBAAoBJ,EAAIC,EAAI,EAAIjB,EAAYkB,GAE7E,GAAsB,KAAlBjL,EAAK0K,OAAO,GACZ,IAAIrM,EAAO,YAGPA,EAAO,OAEf,IAAIkN,GAAML,EAAWG,GAAY,EAC7BG,GAAMJ,EAAWE,GAAY,EAC7BG,EAAYR,EAAW,EAAIlB,EAC3BrK,EAASqK,EAAY,IACrB2B,EAAgB,gBAAmBvB,EAAS,sDAAyDC,EAAK1G,EAAQ,MAAQ4G,EAAK7C,EAAM,KAAOzH,EAAO,OAASmK,EAA5I,eAAgL9L,EAAO,oDAAsD8L,EAAS,QACtQwB,EAAM,IAAyC,IAAnCxD,KAAKyD,MAAOb,EAAKC,EAAMH,EAAKC,GAAa3C,KAAK0D,GAC9D,GAAY,OAAR7L,EACU,KAANoK,GAAmB,KAANE,GAAmB,KAANF,GAAmB,KAANE,EACvCR,EAAQpF,IAAI1E,GAAM,GAAG/F,KAAK,gBAAmBkQ,EAAS,sDAAyDC,EAAK1G,EAAQ,MAAQ4G,EAAK7C,EAAM,KAAOzH,EAAO,OAASmK,EAAS,yFAA2FA,EAAS,2DAA8De,EAAWG,GAAY,EAAItB,EAAY,GAAK,MAAQqB,EAAWE,GAAY,EAAI,2BAA6BvB,EAAY,EAAI,IAAMA,EAAY,EAAI,UAAYA,EAAY,EAAI,6BAA+BA,EAAY,EAAI,IAAMA,EAAY,EAAI,WAAa,EAAIA,EAAY,EAAI,8EAAoFA,EAAY,EAAI,qCAGzsBD,EAAQpF,IAAI1E,GAAM,GAAG/F,KAAK,gBAAmBkQ,EAAS,uDAA0DC,EAAK1G,EAAQ,MAAQ4G,EAAK7C,EAAM,KAAOzH,EAAO,OAASmK,EAAS,oEAAsEA,EAAS,uBAA0BJ,EAAY,EAAI,gDAAwDmB,EAAW,IAAME,EAAW,IAAMC,EAAW,IAAMC,EAAW,kBAGla,GAAY,OAARtL,EAAe,CACpB,IAAI8L,EAAM3L,EAAkBgL,oBAAoBD,EAAUK,EAAI,EAAKxB,EAAY,GAAMkB,EAAW,IAC5Fc,EAAM5L,EAAkBgL,oBAAoBC,EAAUI,EAAI,EAAKzB,EAAY,GAAMkB,EAAW,IAC5Fe,EAAM7L,EAAkBgL,oBAAoBI,EAAIF,EAAWtB,EAAY,GAAMkB,EAAW,IACxFgB,EAAM9L,EAAkBgL,oBAAoBK,EAAIF,EAAWvB,EAAY,GAAMkB,EAAW,IAC5FnB,EAAQpF,IAAI1E,GAAM,GAAG/F,KAAKyR,EACrB,8BAAiCR,EAAW,IAAME,EAAW,IAAMU,EAAM,IAAMC,EAAM,4BAA8BR,EAAKxB,EAAY,GAAK,IAAMyB,EAAK,2BAA6BzB,EAAY,EAAI,IAAMA,EAAY,EAAI,UAAYA,EAAY,IAAM,6BAA+BA,EAAY,EAAI,IAAMA,EAAY,EAAI,WAAa,EAAIA,EAAY,IAAM,6BAA+BiC,EAAM,IAAMC,EAAM,IAAMZ,EAAW,IAAMC,EADhZI,sDACie3B,EAAY,EAAI,aAAiB1L,EAAO,WAEthB,OAAR2B,GAAyB,OAARA,EACtB8J,EAAQpF,IAAI1E,GAAM,GAAG/F,KAAKyR,EAAiB,4CAA+CH,EAAK,KAAOC,EAAKC,EAAY,GAAK,IAAMF,EAAK,KAAOC,EAAK9L,EAAS,GAAK,wBAA0BA,EAAS,EAAI,0BAA4BA,EAAS,EAAI,KAAOA,EAAS,yBAA2BA,EAAS,EAAI,IAAMA,EAAS,uBAAyBA,EAAS,EAAI,yBAA2B6L,EAAK,KAAOC,EAAK9L,EAAS,GAAK,IAAM6L,EAAK,KAAOC,EAAKC,EAAY,GAAjaC,kDAAwe3B,EAAY,EAAI,aAAiB1L,EAAO,yBAA6BsN,EAAM,IAAMJ,EAAK,IAAMC,EAAK,QAEtlB,OAARxL,GAAyB,OAARA,EACtB8J,EAAQpF,IAAI1E,GAAM,GAAG/F,KAAKyR,EAAiB,4CAA+CH,EAAK,KAAOC,EAAKC,EAAY,GAAK,IAAMF,EAAK,KAAOC,EAAK9L,EAASA,EAAS,GAAK,yBAA2BA,EAAS,EAAI,wBAA0BA,EAAS,uBAAyBA,EAAS,uBAAyBA,EAAS,wBAA0BA,EAAS,EAAI,uBAAyB6L,EAAK,KAAOC,EAAK9L,EAAS,GAAK,IAAM6L,EAAK,KAAOC,EAAK9L,EAAS,GAAK,uBAAyBA,EAAS,EAAI,0BAA4BA,EAAS,EAAI,KAAOA,EAAS,yBAA2BA,EAAS,EAAI,IAAMA,EAAS,uBAAyBA,EAAS,EAAI,yBAA2B6L,EAAK,KAAOC,EAAK9L,EAASA,EAAS,GAAK,IAAM6L,EAAK,KAAOC,EAAKC,EAAY,GAArsBC,kDAA4wB3B,EAAY,EAAI,aAAiB1L,EAAO,yBAA6BsN,EAAM,IAAMJ,EAAK,IAAMC,EAAK,QAE13B,OAARxL,GAAyB,OAARA,EACtB8J,EAAQpF,IAAI1E,GAAM,GAAG/F,KAAKyR,EAAiB,4CAA+CH,EAAK,KAAOC,EAAKC,EAAY,GAAK,IAAMF,EAAK,KAAOC,EAAK9L,EAASA,EAAS,GAAK,yBAA2B6L,EAAK7L,EAAS,GAAK,KAAO8L,EAAK,EAAI9L,EAAS,GAAK,wBAA0BA,EAAS,EAAI,IAAMA,EAAS,EAAI,UAAYA,EAAS,yBAA2BA,EAAS,EAAI,IAAMA,EAAS,EAAI,WAAa,EAAIA,EAAS,yBAA2B6L,EAAK,KAAOC,EAAK9L,EAAS,GAAK,IAAM6L,EAAK,KAAOC,EAAK9L,EAAS,GAAK,uBAAyBA,EAAS,EAAI,0BAA4BA,EAAS,EAAI,KAAOA,EAAS,yBAA2BA,EAAS,EAAI,IAAMA,EAAS,uBAAyBA,EAAS,EAAI,yBAA2B6L,EAAK,KAAOC,EAAK9L,EAASA,EAAS,GAAK,IAAM6L,EAAK,KAAOC,EAAKC,EAAY,GAAjwBC,kDAAw0B3B,EAAY,EAAI,aAAiB1L,EAAO,yBAA6BsN,EAAM,IAAMJ,EAAK,IAAMC,EAAK,QAEt7B,OAARxL,GAAyB,OAARA,EACtB8J,EAAQpF,IAAI1E,GAAM,GAAG/F,KAAKyR,EAAiB,4CAA+CH,EAAK,KAAOC,EAAKC,EAAY,GAAK,IAAMF,EAAK,KAAOC,EAAK9L,EAASA,EAAS,GAAK,yBAA2B6L,EAAK7L,EAAS,GAAK,KAAO8L,EAAK,EAAI9L,EAAS,GAAK,wBAA0BA,EAAS,EAAI,IAAMA,EAAS,EAAI,UAAYA,EAAS,yBAA2BA,EAAS,EAAI,IAAMA,EAAS,EAAI,WAAa,EAAIA,EAAS,yBAA2B6L,EAAK,KAAOC,EAAK9L,EAAS,GAAK,IAAM6L,EAAK,KAAOC,EAAK9L,EAAS,GAAK,wBAA0BA,EAAS,EAAI,wBAA0BA,EAAS,uBAAyBA,EAAS,uBAAyBA,EAAS,wBAA0BA,EAAS,EAAI,uBAAyB6L,EAAK,KAAOC,EAAK9L,EAASA,EAAS,GAAK,IAAM6L,EAAK,KAAOC,EAAKC,EAAY,GAAxvBC,kDAA+zB3B,EAAY,EAAI,aAAiB1L,EAAO,yBAA6BsN,EAAM,IAAMJ,EAAK,IAAMC,EAAK,QAE76B,OAARxL,GAAyB,OAARA,GACtB8J,EAAQpF,IAAI1E,GAAM,GAAG/F,KAAKyR,EAAiB,4CAA+CH,EAAK,KAAOC,EAAKC,EAAY,GAAK,IAAMF,EAAK,KAAOC,EAAK9L,EAAS,GAAK,yBAA2BA,EAAS,EAAI,wBAA0BA,EAAS,uBAAyBA,EAAS,uBAAyBA,EAAS,wBAA0BA,EAAS,EAAI,uBAAyB6L,EAAK,KAAOC,EAAK9L,EAAS,GAAK,IAAM6L,EAAK,KAAOC,EAAKC,EAAY,GAAxZC,kDAA+d3B,EAAY,EAAI,aAAiB1L,EAAO,yBAA6BsN,EAAM,IAAMJ,EAAK,IAAMC,EAAK,UAItmBrL,EAAkBgL,oBAAsB,SAAUe,EAAIC,EAAIC,GAEtD,OAAQ,EAAIA,GAAuBF,EAAKE,EAAsBD,GAElEhM,EAAkB9G,UAAUiN,iBAAmB,SAAU3N,GAKrD,IAAIsK,EAAevJ,KAAK0G,iBAAiBhD,cAAc,kBACnD8F,EAAgBC,SAASF,EAAa5L,OAG1C,GAFAqC,KAAKkI,aAAe,GACLlI,KAAK0G,iBAAiBhD,cAAc,aACtC8I,QACT,IAAImG,EAAY3S,KAAKsM,2BAGjBqG,EAAY3S,KAAKqM,gBAEJ,GAAjB7C,EACAlL,SAASoF,cAAc,kBAAkBO,uBAAuB,cAAgBjE,KAAK2G,cAAc7G,OAAO,GAAGuE,UAAYrE,KAAK6H,eAAe8E,KAAK,IAAM3M,KAAK8H,WAAW6E,KAAK,IAAMgG,EAE7J,GAAjBnJ,EACLlL,SAASoF,cAAc,kBAAkBO,uBAAuB,cAAgBjE,KAAK2G,cAAc7G,OAAO,GAAGuE,UAAYrE,KAAK4H,SAAS+E,KAAK,IAAM3M,KAAK8H,WAAW6E,KAAK,IAAMgG,EAEvJ,GAAjBnJ,IACLxJ,KAAKkI,aAAe,UAEpBjJ,GAEAe,KAAKsJ,WAETtJ,KAAKsK,mBACLtK,KAAKmL,yBAET1E,EAAkB9G,UAAUuL,UAAY,WACpC,IAAIrE,EAAU7G,KAIV4S,EAAW,IAAIlL,IACnB1H,KAAKkJ,cAAcW,SAAQ,SAAUC,GAEjC,IAAK,IAAIT,KAAKxC,EAAQU,gBAAgBkD,iBAAiBX,GAAM,CACzD,IAAIrF,EAAO,UAAYoC,EAAQF,cAAc7G,MAAQ,IAAM+G,EAAQU,gBAAgBkD,iBAAiBX,GAAKT,GACzG,GAAI/K,SAAS2F,uBAAuBQ,GAAM,GACtC,GAAImO,EAAS5H,IAAInE,EAAQU,gBAAgBkD,iBAAiBX,GAAKT,IAAK,CAChE,IAAIwJ,EAAUD,EAAS5H,IAAInE,EAAQU,gBAAgBkD,iBAAiBX,GAAKT,IACzEwJ,EAAQtS,KAAKuJ,GACb8I,EAASlG,IAAI7F,EAAQU,gBAAgBkD,iBAAiBX,GAAKT,GAAIwJ,QAG/DD,EAASlG,IAAI7F,EAAQU,gBAAgBkD,iBAAiBX,GAAKT,GAAI,CAACS,QAKhF,IAAIgJ,EAAY,IAAIpL,IACpB1H,KAAKoJ,qBAAqBS,SAAQ,SAAUC,GACxC,IAAK,IAAIT,KAAKxC,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAM,CAC9D,IAAIrF,EAAO,UAAYoC,EAAQF,cAAc7G,MAAQ,IAAM+G,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAKT,GAC9G,GAAI/K,SAAS2F,uBAAuBQ,GAAM,GACtC,GAAIqO,EAAU9H,IAAInE,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAKT,IAAK,CACtE,IAAIwJ,EAAUC,EAAU9H,IAAInE,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAKT,IAC/EwJ,EAAQtS,KAAKuJ,GACbgJ,EAAUpG,IAAI7F,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAKT,GAAIwJ,QAGrEC,EAAUpG,IAAI7F,EAAQU,gBAAgB8D,kBAAkBL,IAAIlB,GAAKT,GAAI,CAACS,QAOtF8I,EAAS/I,SAAQ,SAAUlM,EAAO8O,GAC9B,IAAI7H,EAAU,WACVmO,EAAa,UAAYlM,EAAQF,cAAc7G,MAAQ,IAAM2M,EAC7DhI,EAAO,yBAA2BoC,EAAQF,cAAc7G,MAAQ,YAAc+G,EAAQF,cAAc7G,MAAQ,IAAM2M,EAClH3B,EAAQ,GACRkI,EAAW,GACf,IAAK,IAAIlJ,KAAOnM,EACZqV,EAASzS,KAAKrD,EAAOuC,cAAc4B,WAAWwF,EAAQF,cAAc7G,MAAOnC,EAAMmM,KACjFgB,EAAQnN,EAAMmM,GAElBmJ,QAAQC,IAAIF,GAAUG,MAAK,SAAUC,GACjCA,EAASvJ,SAAQ,SAAUwJ,GACnBA,EAAQpV,OAAS,EACjB2G,GAAW,IAAMyO,EAAQ,GAAK,YAAcvI,EAG5ClG,EAAU,UAAYkG,KAG9BjE,EAAQyB,SAASoE,IAAID,EAAK7H,GAC1BtG,SAAS2F,uBAAuB8O,GAAY,GAAG3O,aAAa,cAAe9F,SAAS2F,uBAAuB8O,GAAY,GAAGtQ,aAAa,eAAemI,MAAM,KAAK,GAAM,uCAAyChG,EAAU,OAASmO,EAAa,OAASlM,EAAQU,gBAAgBwD,gBAAgBC,IAAIF,GAAS,OAASjE,EAAQU,gBAAgBwD,gBAAgBC,IAAIF,GAAS,MAC5WxM,SAAS2F,uBAAuB8O,GAAY,GAAG3O,aAAa,aAAc9F,SAAS2F,uBAAuB8O,GAAY,GAAGtQ,aAAa,cAAcmI,MAAM,KAAK,GAAM,kCAAoCmI,EAAa,MAClNzU,SAAS2F,uBAAuBQ,GAAM,KACtCnG,SAAS2F,uBAAuBQ,GAAM,GAAGL,aAAa,cAAe9F,SAAS2F,uBAAuBQ,GAAM,GAAGhC,aAAa,eAAemI,MAAM,KAAK,GAAM,uCAAyChG,EAAU,OAASH,EAAO,OAASoC,EAAQU,gBAAgBwD,gBAAgBC,IAAIF,GAAS,OAASjE,EAAQU,gBAAgBwD,gBAAgBC,IAAIF,GAAS,MAC1VxM,SAAS2F,uBAAuBQ,GAAM,GAAGL,aAAa,aAAc9F,SAAS2F,uBAAuBQ,GAAM,GAAGhC,aAAa,cAAcmI,MAAM,KAAK,GAAM,kCAAoCnG,EAAO,aAIhNqO,EAAUjJ,SAAQ,SAAUlM,EAAO8O,GAC/B,IAAI7H,EAAU,uBACVmO,EAAa,UAAYlM,EAAQF,cAAc7G,MAAQ,IAAM2M,EAC7DhI,EAAO,yBAA2BoC,EAAQF,cAAc7G,MAAQ,YAAc+G,EAAQF,cAAc7G,MAAQ,IAAM2M,EAClHnB,EAAM,GACV,IAAK,IAAIxB,KAAOnM,EACZiH,GAAW,IAAMjH,EAAMmM,GACvBwB,EAAM3N,EAAMmM,GAEhBjD,EAAQyB,SAASoE,IAAID,EAAK7H,GAC1BtG,SAAS2F,uBAAuB8O,GAAY,GAAG3O,aAAa,cAAe9F,SAAS2F,uBAAuB8O,GAAY,GAAGtQ,aAAa,eAAemI,MAAM,KAAK,GAAM,uCAAyChG,EAAU,OAASmO,EAAa,OAASlM,EAAQU,gBAAgBgE,iBAAiBP,IAAIM,GAAO,OAASzE,EAAQU,gBAAgBgE,iBAAiBP,IAAIM,GAAO,MAC1WhN,SAAS2F,uBAAuB8O,GAAY,GAAG3O,aAAa,aAAc9F,SAAS2F,uBAAuB8O,GAAY,GAAGtQ,aAAa,cAAcmI,MAAM,KAAK,GAAM,kCAAoCmI,EAAa,MAClNzU,SAAS2F,uBAAuBQ,GAAM,KACtCnG,SAAS2F,uBAAuBQ,GAAM,GAAGL,aAAa,cAAe9F,SAAS2F,uBAAuBQ,GAAM,GAAGhC,aAAa,eAAemI,MAAM,KAAK,GAAM,uCAAyChG,EAAU,OAASH,EAAO,OAASoC,EAAQU,gBAAgBgE,iBAAiBP,IAAIM,GAAO,OAASzE,EAAQU,gBAAgBgE,iBAAiBP,IAAIM,GAAO,MACxVhN,SAAS2F,uBAAuBQ,GAAM,GAAGL,aAAa,aAAc9F,SAAS2F,uBAAuBQ,GAAM,GAAGhC,aAAa,cAAcmI,MAAM,KAAK,GAAM,kCAAoCnG,EAAO,WAIhNgC,EAAkB9G,UAAU2T,oBAAsB,SAAUC,GAIxD,IAAIC,EAAWD,EAAQE,WAAW,GAAGA,WACrC,IAAK,IAAIpK,KAAKmK,EAAU,CACpB,IAAIxV,EAAKwV,EAASnK,GAClB,GAAIrL,EAAG0V,WAEH,IADA,IAAIA,EAAa,GAAGzC,MAAM/O,KAAKlE,EAAG0V,YACzBC,EAAM,EAAGA,EAAMD,EAAWzV,OAAQ0V,IAAO,CAC9C,IAAIC,EAAMF,EAAWC,GAAKxG,KACA,IAAtByG,EAAI7J,QAAQ,OACZ/L,EAAG0V,WAAWG,gBAAgBD,IAK9C,OAAOL,GAEX9M,EAAkB9G,UAAUiM,YAAc,SAAUhF,EAAS8E,EAAUC,GACnE,IAAI9E,EAAU7G,KAOVqQ,EAAYrQ,KAAKiP,kBAAkBrI,GACnCyI,EAAgBzI,EAAQ0I,UAAUrR,OAAS,EAC3C6V,EAAa,IAAIpM,IACrBd,EAAQ0I,UAAUzF,SAAQ,SAAU0F,EAASC,GACzC,GAAoB,IAAhBA,GAAqC,IAAhBA,GAAqBA,IAAgBH,EAAgB,EAA9E,CAEA,IAAII,EAAgBF,EAAQ3E,MAAM,KAAK+B,KAAK,KAAK/B,MAAM,KACnDmJ,EAAQ9F,OAAOwB,EAAc,IAC7BuE,EAAQ/F,OAAOwB,EAAc,IAC7BwE,EAAOhG,OAAOwB,EAAc,IAC5ByE,EAAOjG,OAAOwB,EAAc,IAC5B0E,GAAQF,EAAOF,GAAS,EACxBK,GAAQF,EAAOF,GAAS,EAC5BF,EAAWpH,IAAI9F,EAAQyH,cAAcmB,EAAc,GAAI,CAAC2E,EAAMC,IAC9DvN,EAAQY,UAAUiF,IAAI9F,EAAQyH,cAAcmB,EAAc,GAAI,CAACyE,EAAMC,QAEzEtN,EAAQ0I,UAAUzF,SAAQ,SAAU0F,EAASC,GACzC,IAAIpP,EAAIiU,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EACpC,GAAoB,IAAhBpF,GAAqC,IAAhBA,GAAqBA,IAAiBH,EAAgB,EAA/E,CAEA,IAAIwF,EAAe,yBAA2BhO,EAAQF,cAAc7G,MAAQ,YAAc+G,EAAQF,cAAc7G,MAAQ,IAAM8G,EAAQyH,cAAcmB,EAAc,GAC9JhJ,GAAsD,QAAtCpG,EAAKyG,EAAQF,cAAcmO,aAA0B,IAAP1U,OAAgB,EAASA,EAAGsE,QAAU,UACpGqQ,GAAqD,QAAtCV,EAAKxN,EAAQF,cAAcmO,aAA0B,IAAPT,OAAgB,EAASA,EAAGW,cAAgB,IACzGhS,GAAe,EACf4D,EAAQqO,0BAA4BrO,EAAQqO,yBAAyBlL,QAAQnD,EAAQyH,cAAcmB,EAAc,KAAO,IACxHhJ,GAAsD,QAAtC8N,EAAKzN,EAAQF,cAAcmO,aAA0B,IAAPR,OAAgB,EAASA,EAAGY,kBAAoB,OAC9GlS,GAAe,GAEnB,IAKImS,EALA1F,EAAgBF,EAAQ3E,MAAM,KAAK+B,KAAK,KAAK/B,MAAM,KACnDqJ,EAAOhG,OAAOwB,EAAc,IAC5ByE,EAAOjG,OAAOwB,EAAc,IAC5B2F,EAAS/E,EAAY,EACrBgF,EAAShF,EAAY,EAEzB,GAAIb,EAAc,EAAiB,CAC/B,IAAI8F,EAAOxB,EAAW9I,IAAIpE,EAAQyH,cAAcmB,EAAc,IAAI,GAC9D+F,EAAQzB,EAAW9I,IAAIpE,EAAQyH,cAAcmB,IAAc,GAG/D2F,EAAa,KAAOG,EAAOF,GAAU,MAFjCI,EAAO1B,EAAW9I,IAAIpE,EAAQyH,cAAcmB,EAAc,IAAI,IAEf6F,GAAU,KAAOE,EAAQH,GAAU,KAD1EtB,EAAW9I,IAAIpE,EAAQyH,cAAcmB,IAAc,GACsC6F,OAEpG,CACD,IACIG,EAGJL,EAAa,MAJTG,EAAOxB,EAAW9I,IAAIpE,EAAQyH,cAAcmB,EAAc,IAAI,IAIvC4F,GAAU,MAHjCI,EAAO1B,EAAW9I,IAAIpE,EAAQyH,cAAcmB,EAAc,IAAI,IAGf6F,GAAU,MAFzDE,EAAQ,EAAItB,EAAOqB,GAEqDF,GAAU,KAD1E,EAAIlB,EAAOsB,EAC8EH,GAEzG9F,EAAU4F,EACVtO,EAAQe,SAASrH,KAAK,sCAAyCsU,EAAe,mBAAuBE,EAAa,aAAiBvO,EAAc,QAAY+I,EAAU,8CAAkD/I,EAAc,wEAA2EK,EAAQF,cAAc7G,MAAQ,OAAS+G,EAAQF,cAAc9G,SAAW,MAAQ+G,EAAQyH,cAAcmB,EAAc,GAAK,cAAgBxM,EAAe,MAAQ4D,EAAQ6O,SAASjG,EAAc,GAAK,eAAwD,QAAtC+E,EAAK1N,EAAQF,cAAcmO,aAA0B,IAAPP,OAAgB,EAASA,EAAGmB,gBAAkB,IAAM7O,EAAQF,cAAcmO,MAAMY,eAAiB,SAAMpS,GAAa,6EAAgFuD,EAAQF,cAAc7G,MAAQ,OAAS+G,EAAQF,cAAc9G,SAAW,MAAQ+G,EAAQyH,cAAcmB,EAAc,GAAK,kBAAoBxM,EAAe,MAAQ4D,EAAQ6O,SAASjG,EAAc,GAAK,eAAwD,QAAtCgF,EAAK3N,EAAQF,cAAcmO,aAA0B,IAAPN,OAAgB,EAASA,EAAGkB,gBAAkB,IAAM7O,EAAQF,cAAcmO,MAAMY,eAAiB,SAAMpS,GAAa,8EAAiFuD,EAAQF,cAAc7G,MAAQ,OAAS+G,EAAQF,cAAc9G,SAAW,MAAQ+G,EAAQyH,cAAcmB,EAAc,GAAK,KAAOxM,EAAe,uCACt1C6D,EAAQiB,WAAWvH,KAAK,yBAA4BsG,EAAQF,cAAc7G,MAAQ,IAAM8G,EAAQyH,cAAcmB,EAAc,GAAK,UAAcyE,EAAOmB,GAAU,UAAclB,EAAOmB,GAAU,QAAY,EAAIhF,EAAY,EAAI,8DAAsEA,EAAY,EAAI,kDAAqDxJ,EAAQF,cAAc7G,MAAQ,OAAS+G,EAAQF,cAAc9G,SAAW,MAAQ+G,EAAQyH,cAAcmB,EAAc,GAAK,cAAgBxM,EAAe,MAAQ4D,EAAQ6O,SAASjG,EAAc,GAAK,eAAwD,QAAtCiF,EAAK5N,EAAQF,cAAcmO,aAA0B,IAAPL,OAAgB,EAASA,EAAGiB,gBAAkB,IAAM7O,EAAQF,cAAcmO,MAAMY,eAAiB,SAAMpS,GAAa,yEAA4EuD,EAAQF,cAAc7G,MAAQ,OAAS+G,EAAQF,cAAc9G,SAAW,MAAQ+G,EAAQyH,cAAcmB,EAAc,GAAK,kBAAoBxM,EAAe,MAAQ4D,EAAQ6O,SAASjG,EAAc,GAAK,eAAwD,QAAtCkF,EAAK7N,EAAQF,cAAcmO,aAA0B,IAAPJ,OAAgB,EAASA,EAAGgB,gBAAkB,IAAM7O,EAAQF,cAAcmO,MAAMY,eAAiB,SAAMpS,GAAa,0EAA6EuD,EAAQF,cAAc7G,MAAQ,OAAS+G,EAAQF,cAAc9G,SAAW,MAAQ+G,EAAQyH,cAAcmB,EAAc,GAAK,KAAOxM,EAAe,eACt4C6D,EAAQgB,eAAetH,KAAK,gBAAmBsU,EAAe,YAAgBA,EAAe,QAAYZ,EAAO,QAAYC,EAAO,kBAAsB7D,EAAY,oDAAuDxJ,EAAQF,cAAc7G,MAAQ,OAAS+G,EAAQF,cAAc9G,SAAW,MAAQ+G,EAAQyH,cAAcmB,EAAc,GAAK,cAAgBxM,EAAe,MAAQ4D,EAAQ6O,SAASjG,EAAc,GAAK,eAAwD,QAAtCmF,EAAK9N,EAAQF,cAAcmO,aAA0B,IAAPH,OAAgB,EAASA,EAAGe,gBAAkB,IAAM7O,EAAQF,cAAcmO,MAAMY,eAAiB,SAAMpS,GAAa,yEAA4EuD,EAAQF,cAAc7G,MAAQ,OAAS+G,EAAQF,cAAc9G,SAAW,MAAQ+G,EAAQyH,cAAcmB,EAAc,GAAK,kBAAoBxM,EAAe,MAAQ4D,EAAQ6O,SAASjG,EAAc,GAAK,eAAwD,QAAtCoF,EAAK/N,EAAQF,cAAcmO,aAA0B,IAAPF,OAAgB,EAASA,EAAGc,gBAAkB,IAAM7O,EAAQF,cAAcmO,MAAMY,eAAiB,SAAMpS,GAAa,0EAA6EuD,EAAQF,cAAc7G,MAAQ,OAAS+G,EAAQF,cAAc9G,SAAW,MAAQ+G,EAAQyH,cAAcmB,EAAc,GAAK,KAAOxM,EAAe,aAAgB4D,EAAQ6O,SAASjG,EAAc,GAAK,eAEhzC,IAAImG,EAAYjK,EAASkK,YACrBC,EAAkBlK,EAAeiK,YAuCrC,OAtCA5V,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAM,KAChC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAK+H,SAAS2E,IAAI,MAAO,EAAC,EAAO,KACjC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAM,KACtC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvC1M,KAAKgI,eAAe0E,IAAI,MAAO,EAAC,EAAO,KACvCmJ,EAAgBhM,SAAQ,SAAUsG,GAC9BtJ,EAAQqJ,aAAaC,EAAStJ,EAAQmB,eAAgBqI,MAE1DsF,EAAU9L,SAAQ,SAAUsG,GACxBtJ,EAAQqJ,aAAaC,EAAStJ,EAAQkB,SAAUsI,MAEpDrQ,KAAK+H,SAAS8B,SAAQ,SAAUlM,EAAO8O,GAC/B9O,EAAM,KACNkJ,EAAQwF,iBAAmB1O,EAAM,GAAGgP,KAAK,KAEzC9F,EAAQmB,eAAegD,IAAIyB,GAAK,KAChC5F,EAAQyF,uBAAyBzF,EAAQmB,eAAegD,IAAIyB,GAAK,GAAGE,KAAK,QAG1E,gKAAuK/F,EAAQkP,WAAWjQ,MAAQ,IAAMe,EAAQkP,WAAW9P,OAAS,yIAA+IhG,KAAK2G,cAAc7G,MAAQ,yMAAiN8G,EAAQkP,WAAWjQ,MAAQ,IAAMe,EAAQkP,WAAW9P,OAAS,yIAA+IhG,KAAK2G,cAAc7G,MAAQ,yUAAyV8G,EAAQkP,WAAWjQ,MAAQ,IAAMe,EAAQkP,WAAW9P,OAAS,0GAAgHhG,KAAK2G,cAAc7G,MAAQ,KAAQE,KAAK6H,eAAe8E,KAAK,IAAM3M,KAAK8H,WAAW6E,KAAK,IAAM3M,KAAKqM,gBAAkB,oDAE38C5F,EAAkB9G,UAAUkM,MAAQ,WAIhC,MAAO,oCAAwC7L,KAAK2G,cAAc7G,MAAMiW,cAAgB,UAAY/V,KAAK2G,cAActH,QAAU,WAErIoH,EAAkB9G,UAAUiF,QAAU,WAIlC,MAAO,0CAA+C5E,KAAK2G,cAAc7G,MAAQ,gCAErF2G,EAAkB9G,UAAUmM,cAAgB,WAIxC,MAAO,2HAAoI9L,KAAK2G,cAAc7G,MAAQ,wRAAwSE,KAAK2G,cAAc7G,MAAQ,8jBAA8kBE,KAAK2G,cAAc7G,MAAQ,uhBAAuiBE,KAAK2G,cAAc7G,MAAQ,8aAExpD2G,EAAkB9G,UAAUqW,YAAc,SAAU1P,GAIhD,IAAI2P,EAAe,qEACN,aAAT3P,IACA2P,EAAe,2EAA+EjW,KAAK2G,cAAc7G,MAAMiW,cAAgB,MAAQ/V,KAAK2G,cAAc9G,SAAW,MAAQG,KAAK2G,cAActH,QAAQ0W,cAAgB,0CAEpO/V,KAAK0G,iBAAiBrC,UAAY,uCAA2C4R,EAAe,UAEhGxP,EAAkB9G,UAAUsM,QAAU,WAUlC,IACIiK,EADW5X,SAASoF,cAAc,kBACPyS,WAAU,GACzCD,EAAkBlW,KAAKsT,oBAAoB4C,GAC3C,IAAIE,EATJ,SAAiBC,EAAGC,GAEhB,IAAK,IAAIC,KADTF,EAAI/X,SAASkY,gBAAgB,6BAA8BH,GAC7CC,EACVD,EAAEI,eAAe,KAAMF,EAAEG,QAAQ,SAAU,KAAKA,QAAQ,MAAO,KAAKA,QAAQ,MAAO,KAAKA,QAAQ,UAAU,SAAUC,EAAGJ,EAAGK,EAAGC,GAAK,MAAO,IAAMF,EAAEnW,iBAAmB8V,EAAEC,IAC1K,OAAOF,EAKDS,CAAQ,OAClBV,EAAIW,YAAYb,GAChB,SAAkBc,EAAO7J,GACrB6J,EAAM5S,aAAa,QAAS,8BAC5B,IAAImP,EAAUyD,EAAMC,UAEhBC,EAAU,IAAIC,KAAK,CADT,4CACmB5D,GAAU,CAAEjN,KAAM,gCAC/C8Q,EAASC,IAAIC,gBAAgBJ,GAC7BK,EAAejZ,SAASkZ,cAAc,KAC1CD,EAAaE,KAAOL,EACpBG,EAAaG,SAKH,kBAJVpZ,SAASqZ,KAAKZ,YAAYQ,GAC1BA,EAAaK,QACbtZ,SAASqZ,KAAKE,YAAYN,GAE9BO,CAAS1B,IAEN3P,EA7xB2B,GA+xBtC/I,EAAQ+I,kBAAoBA,0eCpxB5B,IAAIsR,EAAgB,SAASC,EAAGhI,GAI5B,OAHA+H,EAAgBva,OAAOya,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUH,EAAGhI,GAAKgI,EAAEE,UAAYlI,IACvE,SAAUgI,EAAGhI,GAAK,IAAK,IAAIuG,KAAKvG,EAAOxS,OAAOmC,UAAUyY,eAAelW,KAAK8N,EAAGuG,KAAIyB,EAAEzB,GAAKvG,EAAEuG,KACzFwB,EAAcC,EAAGhI,IAGrB,SAASqI,EAAUL,EAAGhI,GACzB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIsI,UAAU,uBAAyBzK,OAAOmC,GAAK,iCAE7D,SAASuI,IAAOvY,KAAKwY,YAAcR,EADnCD,EAAcC,EAAGhI,GAEjBgI,EAAErY,UAAkB,OAANqQ,EAAaxS,OAAOI,OAAOoS,IAAMuI,EAAG5Y,UAAYqQ,EAAErQ,UAAW,IAAI4Y,GAG5E,IAAIE,EAAW,WAQlB,OAPAA,EAAWjb,OAAOkb,QAAU,SAAkBC,GAC1C,IAAK,IAAI9B,EAAGxN,EAAI,EAAGgN,EAAIuC,UAAU3a,OAAQoL,EAAIgN,EAAGhN,IAE5C,IAAK,IAAIkN,KADTM,EAAI+B,UAAUvP,GACO7L,OAAOmC,UAAUyY,eAAelW,KAAK2U,EAAGN,KAAIoC,EAAEpC,GAAKM,EAAEN,IAE9E,OAAOoC,GAEJF,EAAS/J,MAAM1O,KAAM4Y,YAGzB,SAASC,EAAOhC,EAAG5X,GACtB,IAAI0Z,EAAI,GACR,IAAK,IAAIpC,KAAKM,EAAOrZ,OAAOmC,UAAUyY,eAAelW,KAAK2U,EAAGN,IAAMtX,EAAE8K,QAAQwM,GAAK,IAC9EoC,EAAEpC,GAAKM,EAAEN,IACb,GAAS,MAALM,GAAqD,mBAAjCrZ,OAAOsb,sBACtB,KAAIzP,EAAI,EAAb,IAAgBkN,EAAI/Y,OAAOsb,sBAAsBjC,GAAIxN,EAAIkN,EAAEtY,OAAQoL,IAC3DpK,EAAE8K,QAAQwM,EAAElN,IAAM,GAAK7L,OAAOmC,UAAUoZ,qBAAqB7W,KAAK2U,EAAGN,EAAElN,MACvEsP,EAAEpC,EAAElN,IAAMwN,EAAEN,EAAElN,KAE1B,OAAOsP,EAGJ,SAASK,EAAWC,EAAYC,EAAQzM,EAAK0M,GAChD,IAA2HnB,EAAvHoB,EAAIR,UAAU3a,OAAQob,EAAID,EAAI,EAAIF,EAAkB,OAATC,EAAgBA,EAAO3b,OAAO8b,yBAAyBJ,EAAQzM,GAAO0M,EACrH,GAAuB,iBAAZI,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASP,EAAYC,EAAQzM,EAAK0M,QACpH,IAAK,IAAI9P,EAAI4P,EAAWhb,OAAS,EAAGoL,GAAK,EAAGA,KAAS2O,EAAIiB,EAAW5P,MAAIgQ,GAAKD,EAAI,EAAIpB,EAAEqB,GAAKD,EAAI,EAAIpB,EAAEkB,EAAQzM,EAAK4M,GAAKrB,EAAEkB,EAAQzM,KAAS4M,GAChJ,OAAOD,EAAI,GAAKC,GAAK7b,OAAOC,eAAeyb,EAAQzM,EAAK4M,GAAIA,EAGzD,SAASI,EAAQC,EAAYC,GAChC,OAAO,SAAUT,EAAQzM,GAAOkN,EAAUT,EAAQzM,EAAKiN,IAGpD,SAASE,EAAWC,EAAaC,GACpC,GAAuB,iBAAZP,SAAoD,mBAArBA,QAAQQ,SAAyB,OAAOR,QAAQQ,SAASF,EAAaC,GAG7G,SAAS/Z,EAAUia,EAASC,EAAYC,EAAGC,GAE9C,OAAO,IAAKD,IAAMA,EAAIjH,WAAU,SAAUmH,EAASC,GAC/C,SAASC,EAAU3c,GAAS,IAAM4c,EAAKJ,EAAUK,KAAK7c,IAAW,MAAOsB,GAAKob,EAAOpb,IACpF,SAASwb,EAAS9c,GAAS,IAAM4c,EAAKJ,EAAiB,MAAExc,IAAW,MAAOsB,GAAKob,EAAOpb,IACvF,SAASsb,EAAKG,GAJlB,IAAe/c,EAIa+c,EAAOC,KAAOP,EAAQM,EAAO/c,QAJ1CA,EAIyD+c,EAAO/c,MAJhDA,aAAiBuc,EAAIvc,EAAQ,IAAIuc,GAAE,SAAUE,GAAWA,EAAQzc,OAITwV,KAAKmH,EAAWG,GAClGF,GAAMJ,EAAYA,EAAUzL,MAAMsL,EAASC,GAAc,KAAKO,WAI/D,SAASra,EAAY6Z,EAASrC,GACjC,IAAsGiD,EAAG7U,EAAG4S,EAAGkC,EAA3GC,EAAI,CAAEza,MAAO,EAAGK,KAAM,WAAa,GAAW,EAAPiY,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOrY,KAAM,GAAIya,IAAK,IAChG,OAAOF,EAAI,CAAEL,KAAMQ,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXC,SAA0BJ,EAAEI,OAAOC,UAAY,WAAa,OAAOlb,OAAU6a,EACvJ,SAASG,EAAK3E,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAc6E,GACV,GAAIP,EAAG,MAAM,IAAItC,UAAU,mCAC3B,KAAOwC,OACH,GAAIF,EAAI,EAAG7U,IAAM4S,EAAY,EAARwC,EAAG,GAASpV,EAAU,OAAIoV,EAAG,GAAKpV,EAAS,SAAO4S,EAAI5S,EAAU,SAAM4S,EAAEzW,KAAK6D,GAAI,GAAKA,EAAEyU,SAAW7B,EAAIA,EAAEzW,KAAK6D,EAAGoV,EAAG,KAAKR,KAAM,OAAOhC,EAE3J,OADI5S,EAAI,EAAG4S,IAAGwC,EAAK,CAAS,EAARA,EAAG,GAAQxC,EAAEhb,QACzBwd,EAAG,IACP,KAAK,EAAG,KAAK,EAAGxC,EAAIwC,EAAI,MACxB,KAAK,EAAc,OAAXL,EAAEza,QAAgB,CAAE1C,MAAOwd,EAAG,GAAIR,MAAM,GAChD,KAAK,EAAGG,EAAEza,QAAS0F,EAAIoV,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKL,EAAEC,IAAIK,MAAON,EAAExa,KAAK8a,MAAO,SACxC,QACI,MAAkBzC,GAAZA,EAAImC,EAAExa,MAAYrC,OAAS,GAAK0a,EAAEA,EAAE1a,OAAS,KAAkB,IAAVkd,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEL,EAAI,EAAG,SACjG,GAAc,IAAVK,EAAG,MAAcxC,GAAMwC,EAAG,GAAKxC,EAAE,IAAMwC,EAAG,GAAKxC,EAAE,IAAM,CAAEmC,EAAEza,MAAQ8a,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYL,EAAEza,MAAQsY,EAAE,GAAI,CAAEmC,EAAEza,MAAQsY,EAAE,GAAIA,EAAIwC,EAAI,MAC7D,GAAIxC,GAAKmC,EAAEza,MAAQsY,EAAE,GAAI,CAAEmC,EAAEza,MAAQsY,EAAE,GAAImC,EAAEC,IAAIxa,KAAK4a,GAAK,MACvDxC,EAAE,IAAImC,EAAEC,IAAIK,MAChBN,EAAExa,KAAK8a,MAAO,SAEtBD,EAAKxD,EAAKzV,KAAK8X,EAASc,GAC1B,MAAO7b,GAAKkc,EAAK,CAAC,EAAGlc,GAAI8G,EAAI,EAAK,QAAU6U,EAAIjC,EAAI,EACtD,GAAY,EAARwC,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAExd,MAAOwd,EAAG,GAAKA,EAAG,QAAK,EAAQR,MAAM,GArB9BJ,CAAK,CAAClE,EAAGC,MAyBtD,IAAI+E,EAAkB7d,OAAOI,OAAS,SAAUgZ,EAAGD,EAAG2E,EAAGC,QACjDjY,IAAPiY,IAAkBA,EAAKD,GAC3B9d,OAAOC,eAAemZ,EAAG2E,EAAI,CAAEC,YAAY,EAAMxQ,IAAK,WAAa,OAAO2L,EAAE2E,OAC3E,SAAU1E,EAAGD,EAAG2E,EAAGC,QACTjY,IAAPiY,IAAkBA,EAAKD,GAC3B1E,EAAE2E,GAAM5E,EAAE2E,IAGP,SAASG,EAAa9E,EAAGC,GAC5B,IAAK,IAAIL,KAAKI,EAAa,YAANJ,GAAoB/Y,OAAOmC,UAAUyY,eAAelW,KAAK0U,EAAGL,IAAI8E,EAAgBzE,EAAGD,EAAGJ,GAGxG,SAASmF,EAAS9E,GACrB,IAAIC,EAAsB,mBAAXoE,QAAyBA,OAAOC,SAAUvE,EAAIE,GAAKD,EAAEC,GAAIxN,EAAI,EAC5E,GAAIsN,EAAG,OAAOA,EAAEzU,KAAK0U,GACrB,GAAIA,GAAyB,iBAAbA,EAAE3Y,OAAqB,MAAO,CAC1Cuc,KAAM,WAEF,OADI5D,GAAKvN,GAAKuN,EAAE3Y,SAAQ2Y,OAAI,GACrB,CAAEjZ,MAAOiZ,GAAKA,EAAEvN,KAAMsR,MAAO/D,KAG5C,MAAM,IAAI0B,UAAUzB,EAAI,0BAA4B,mCAGjD,SAAS8E,EAAO/E,EAAGP,GACtB,IAAIM,EAAsB,mBAAXsE,QAAyBrE,EAAEqE,OAAOC,UACjD,IAAKvE,EAAG,OAAOC,EACf,IAAmByC,EAAYpa,EAA3BoK,EAAIsN,EAAEzU,KAAK0U,GAAOgF,EAAK,GAC3B,IACI,WAAc,IAANvF,GAAgBA,KAAM,MAAQgD,EAAIhQ,EAAEmR,QAAQG,MAAMiB,EAAGrb,KAAK8Y,EAAE1b,OAExE,MAAOke,GAAS5c,EAAI,CAAE4c,MAAOA,GAC7B,QACI,IACQxC,IAAMA,EAAEsB,OAAShE,EAAItN,EAAU,SAAIsN,EAAEzU,KAAKmH,GAElD,QAAU,GAAIpK,EAAG,MAAMA,EAAE4c,OAE7B,OAAOD,EAIJ,SAASE,IACZ,IAAK,IAAIF,EAAK,GAAIvS,EAAI,EAAGA,EAAIuP,UAAU3a,OAAQoL,IAC3CuS,EAAKA,EAAGG,OAAOJ,EAAO/C,UAAUvP,KACpC,OAAOuS,EAIJ,SAASI,IACZ,IAAK,IAAInF,EAAI,EAAGxN,EAAI,EAAG4S,EAAKrD,UAAU3a,OAAQoL,EAAI4S,EAAI5S,IAAKwN,GAAK+B,UAAUvP,GAAGpL,OACxE,IAAIob,EAAIlB,MAAMtB,GAAIyE,EAAI,EAA3B,IAA8BjS,EAAI,EAAGA,EAAI4S,EAAI5S,IACzC,IAAK,IAAI0G,EAAI6I,UAAUvP,GAAI6S,EAAI,EAAGC,EAAKpM,EAAE9R,OAAQie,EAAIC,EAAID,IAAKZ,IAC1DjC,EAAEiC,GAAKvL,EAAEmM,GACjB,OAAO7C,EAGJ,SAAS+C,EAAcC,EAAIC,EAAMC,GACpC,GAAIA,GAA6B,IAArB3D,UAAU3a,OAAc,IAAK,IAA4B2d,EAAxBvS,EAAI,EAAGmT,EAAIF,EAAKre,OAAYoL,EAAImT,EAAGnT,KACxEuS,GAAQvS,KAAKiT,IACRV,IAAIA,EAAKzD,MAAMxY,UAAUsR,MAAM/O,KAAKoa,EAAM,EAAGjT,IAClDuS,EAAGvS,GAAKiT,EAAKjT,IAGrB,OAAOgT,EAAGN,OAAOH,GAAMzD,MAAMxY,UAAUsR,MAAM/O,KAAKoa,IAG/C,SAASG,EAAQnG,GACpB,OAAOtW,gBAAgByc,GAAWzc,KAAKsW,EAAIA,EAAGtW,MAAQ,IAAIyc,EAAQnG,GAG/D,SAASoG,EAAiB1C,EAASC,EAAYE,GAClD,IAAKc,OAAO0B,cAAe,MAAM,IAAIrE,UAAU,wCAC/C,IAAoDjP,EAAhDwR,EAAIV,EAAUzL,MAAMsL,EAASC,GAAc,IAAQ2C,EAAI,GAC3D,OAAOvT,EAAI,GAAI2R,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAW3R,EAAE4R,OAAO0B,eAAiB,WAAc,OAAO3c,MAASqJ,EACpH,SAAS2R,EAAK3E,GAASwE,EAAExE,KAAIhN,EAAEgN,GAAK,SAAUC,GAAK,OAAO,IAAIrD,SAAQ,SAAUlD,EAAGC,GAAK4M,EAAErc,KAAK,CAAC8V,EAAGC,EAAGvG,EAAGC,IAAM,GAAK6M,EAAOxG,EAAGC,QAC9H,SAASuG,EAAOxG,EAAGC,GAAK,KACV+C,EADqBwB,EAAExE,GAAGC,IACnB3Y,iBAAiB8e,EAAUxJ,QAAQmH,QAAQf,EAAE1b,MAAM2Y,GAAGnD,KAAK2J,EAASzC,GAAU0C,EAAOH,EAAE,GAAG,GAAIvD,GADpE,MAAOpa,GAAK8d,EAAOH,EAAE,GAAG,GAAI3d,GAC3E,IAAcoa,EACd,SAASyD,EAAQnf,GAASkf,EAAO,OAAQlf,GACzC,SAAS0c,EAAO1c,GAASkf,EAAO,QAASlf,GACzC,SAASof,EAAOnC,EAAGtE,GAASsE,EAAEtE,GAAIsG,EAAEI,QAASJ,EAAE3e,QAAQ4e,EAAOD,EAAE,GAAG,GAAIA,EAAE,GAAG,KAGzE,SAASK,EAAiBrG,GAC7B,IAAIvN,EAAGkN,EACP,OAAOlN,EAAI,GAAI2R,EAAK,QAASA,EAAK,SAAS,SAAU/b,GAAK,MAAMA,KAAO+b,EAAK,UAAW3R,EAAE4R,OAAOC,UAAY,WAAc,OAAOlb,MAASqJ,EAC1I,SAAS2R,EAAK3E,EAAGuE,GAAKvR,EAAEgN,GAAKO,EAAEP,GAAK,SAAUC,GAAK,OAAQC,GAAKA,GAAK,CAAE5Y,MAAO8e,EAAQ7F,EAAEP,GAAGC,IAAKqE,KAAY,WAANtE,GAAmBuE,EAAIA,EAAEtE,GAAKA,GAAOsE,GAGxI,SAASsC,EAActG,GAC1B,IAAKqE,OAAO0B,cAAe,MAAM,IAAIrE,UAAU,wCAC/C,IAAiCjP,EAA7BsN,EAAIC,EAAEqE,OAAO0B,eACjB,OAAOhG,EAAIA,EAAEzU,KAAK0U,IAAMA,EAAqC8E,EAAS9E,GAA2BvN,EAAI,GAAI2R,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAW3R,EAAE4R,OAAO0B,eAAiB,WAAc,OAAO3c,MAASqJ,GAC9M,SAAS2R,EAAK3E,GAAKhN,EAAEgN,GAAKO,EAAEP,IAAM,SAAUC,GAAK,OAAO,IAAIrD,SAAQ,SAAUmH,EAASC,IACvF,SAAgBD,EAASC,EAAQrC,EAAG1B,GAAKrD,QAAQmH,QAAQ9D,GAAGnD,MAAK,SAASmD,GAAK8D,EAAQ,CAAEzc,MAAO2Y,EAAGqE,KAAM3C,MAASqC,GADJ0C,CAAO3C,EAASC,GAA7B/D,EAAIM,EAAEP,GAAGC,IAA8BqE,KAAMrE,EAAE3Y,YAI7I,SAASwf,EAAqBC,EAAQC,GAEzC,OADI7f,OAAOC,eAAkBD,OAAOC,eAAe2f,EAAQ,MAAO,CAAEzf,MAAO0f,IAAiBD,EAAOC,IAAMA,EAClGD,EAGX,IAAIE,EAAqB9f,OAAOI,OAAS,SAAUgZ,EAAGN,GAClD9Y,OAAOC,eAAemZ,EAAG,UAAW,CAAE4E,YAAY,EAAM7d,MAAO2Y,KAC9D,SAASM,EAAGN,GACbM,EAAW,QAAIN,GAGZ,SAASiH,EAAajS,GACzB,GAAIA,GAAOA,EAAIkS,WAAY,OAAOlS,EAClC,IAAIoP,EAAS,GACb,GAAW,MAAPpP,EAAa,IAAK,IAAIgQ,KAAKhQ,EAAe,YAANgQ,GAAmB9d,OAAOmC,UAAUyY,eAAelW,KAAKoJ,EAAKgQ,IAAID,EAAgBX,EAAQpP,EAAKgQ,GAEtI,OADAgC,EAAmB5C,EAAQpP,GACpBoP,EAGJ,SAAS+C,EAAgBnS,GAC5B,OAAQA,GAAOA,EAAIkS,WAAclS,EAAM,CAAEoS,QAASpS,GAG/C,SAASqS,EAAuBC,EAAUC,EAAOC,EAAMlD,GAC1D,GAAa,MAATkD,IAAiBlD,EAAG,MAAM,IAAItC,UAAU,iDAC5C,GAAqB,mBAAVuF,EAAuBD,IAAaC,IAAUjD,GAAKiD,EAAME,IAAIH,GAAW,MAAM,IAAItF,UAAU,4EACvG,MAAgB,MAATwF,EAAelD,EAAa,MAATkD,EAAelD,EAAE1Y,KAAK0b,GAAYhD,EAAIA,EAAEjd,MAAQkgB,EAAM7S,IAAI4S,GAGjF,SAASI,EAAuBJ,EAAUC,EAAOlgB,EAAOmgB,EAAMlD,GACjE,GAAa,MAATkD,EAAc,MAAM,IAAIxF,UAAU,kCACtC,GAAa,MAATwF,IAAiBlD,EAAG,MAAM,IAAItC,UAAU,iDAC5C,GAAqB,mBAAVuF,EAAuBD,IAAaC,IAAUjD,GAAKiD,EAAME,IAAIH,GAAW,MAAM,IAAItF,UAAU,2EACvG,MAAiB,MAATwF,EAAelD,EAAE1Y,KAAK0b,EAAUjgB,GAASid,EAAIA,EAAEjd,MAAQA,EAAQkgB,EAAMnR,IAAIkR,EAAUjgB,GAASA,KC5OpGsgB,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB7a,IAAjB8a,EACH,OAAOA,EAAa1gB,QAGrB,IAAI2gB,EAASJ,EAAyBE,GAAY,CAGjDzgB,QAAS,IAOV,OAHA4gB,EAAoBH,GAAUE,EAAQA,EAAO3gB,QAASwgB,GAG/CG,EAAO3gB,QCpBfwgB,EAAoBlG,EAAI,CAACta,EAAS6gB,KACjC,IAAI,IAAI9R,KAAO8R,EACXL,EAAoBtH,EAAE2H,EAAY9R,KAASyR,EAAoBtH,EAAElZ,EAAS+O,IAC5EjP,OAAOC,eAAeC,EAAS+O,EAAK,CAAE+O,YAAY,EAAMxQ,IAAKuT,EAAW9R,MCJ3EyR,EAAoBtH,EAAI,CAAC4H,EAAKC,IAAUjhB,OAAOmC,UAAUyY,eAAelW,KAAKsc,EAAKC,GCClFP,EAAoB7E,EAAK3b,IACH,oBAAXud,QAA0BA,OAAOyD,aAC1ClhB,OAAOC,eAAeC,EAASud,OAAOyD,YAAa,CAAE/gB,MAAO,WAE7DH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,KTHnDV,EAAU,EAAQ,KAClBC,EAAS,EAAQ,KACjBC,EAAe,EAAQ,KACvBC,EAAc,EAAQ,KACtBC,EAAiB,EAAQ,KACzBC,EAAoC,WACpC,SAASA,IACL0C,KAAK2e,OAAQ,EAEb3e,KAAK4e,YAAc,IAAI1hB,EAAOwC,YAqFlC,OAlFApC,EAAmBqC,UAAU8L,OAAS,SAAUyN,EAAQ9Z,GACpD,OAAO,EAAInC,EAAQ8C,WAAWC,UAAM,OAAQ,GAAQ,WAChD,IAAII,EAAIiU,EAAIC,EAAIuK,EAAUtK,EAAIuK,EAAUC,EAAWC,EACnD,OAAO,EAAI/hB,EAAQkD,aAAaH,MAAM,SAAUwU,GAC5C,OAAQA,EAAGnU,OACP,KAAK,EAID,OAAK6Y,GAAW9Z,EAAQU,OAAUV,EAAQC,SAAYD,EAAQS,UAI9DG,KAAKZ,QAAUA,EACa,QAAtBY,KAAKZ,QAAQU,MAAyB,CAAC,EAAa,IAC1DM,EAAKJ,KACE,CAAC,EAAaA,KAAK4e,YAAYhf,WAAWI,KAAKZ,QAAQS,SAAUG,KAAKZ,QAAQC,QAASW,KAAKZ,QAAQU,WANvGqB,QAAQC,IAAI,yBACL,CAAC,IAMhB,KAAK,EAGD,OAFAhB,EAAGwG,QAAU4N,EAAG9T,OAChB2T,EAAKrU,KACE,CAAC,EAAaA,KAAK4e,YAAY/d,YAAYb,KAAKZ,QAAQU,MAAOE,KAAKZ,QAAQC,UACvF,KAAK,EAGD,OAFAgV,EAAG3I,SAAW8I,EAAG9T,OACjB4T,EAAKtU,KACE,CAAC,EAAaA,KAAK4e,YAAY3d,kBAAkBjB,KAAKZ,QAAQU,MAAOE,KAAKZ,QAAQC,UAC7F,KAAK,EACDiV,EAAG3I,eAAiB6I,EAAG9T,OACvB8T,EAAGnU,MAAQ,EACf,KAAK,EAGD,OAFAL,KAAKif,UAAY/F,EACjBlZ,KAAKkf,kBAAoB,IAAI/hB,EAAasJ,kBAAkBzG,KAAKif,UAAWjf,KAAKZ,QAASY,KAAK4G,SAC1F5G,KAAK4G,SAEV5G,KAAKkf,kBAAkBzT,OAAOzL,KAAK4G,QAAS5G,KAAK0L,SAAU1L,KAAK2L,gBAE5D3L,KAAKZ,QAAQ+f,iBACb9hB,EAAeE,aAAauB,2BAA2BkB,MAEpD,CAAC,EAAa,IAPK,CAAC,EAAa,GAQ5C,KAAK,EAGD,OAFqB,GAAjBZ,EAAQuf,QACR3e,KAAK2e,OAAQ,GACZ3e,KAAK2e,OACVE,EAAWxgB,OAAOmJ,GAAG6P,IACd,CAAC,EAAa5W,MAAMoe,KAFH,CAAC,EAAa,GAG1C,KAAK,EAAG,MAAO,CAAC,EAAcrK,EAAG9T,OAAQC,OAAOwS,MAAK,SAAUiM,GAAY,MAAO,CAC1EN,SAAUM,EAASC,YACnBN,UAAWK,EAASE,YACpBN,gBAAiBI,EAASE,iBAElC,KAAK,EACD/K,EAAKC,EAAG9T,OAAQoe,EAAWvK,EAAGuK,SAAUC,EAAYxK,EAAGwK,UAAWC,EAAkBzK,EAAGyK,gBACvFhf,KAAK4G,QAAUkY,EACf9e,KAAK0L,SAAWqT,EAChB/e,KAAK2L,eAAiBqT,EAEtBhf,KAAKkf,kBAAkBzT,OAAOzL,KAAK4G,QAAS5G,KAAK0L,SAAU1L,KAAK2L,gBAChE6I,EAAGnU,MAAQ,EACf,KAAK,EAEDmU,EAAGnU,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,WAKhC/C,EAAmBqC,UAAUL,cAAgB,SAAUyD,EAAc2B,GAEjEtH,EAAYmE,iBAAiB2E,iBAAiBlG,KAAKZ,QAAQU,MAAOE,KAAKZ,QAAQS,SAAUkD,EAAc,aAAa,EAAO2B,IAE/HpH,EAAmBqC,UAAUJ,eAAiB,SAAUwD,GAEpD3F,EAAYmE,iBAAiBuB,mBAAmB9C,KAAKZ,QAAQU,MAAOE,KAAKZ,QAAQS,SAAUkD,GAAc,IAE7GzF,EAAmBqC,UAAU4f,iBAAmB,SAAUxc,EAAc2B,GAEpEtH,EAAYmE,iBAAiB6E,gBAAgBpG,KAAKZ,QAAQU,MAAOiD,EAAc2B,EAAO,cAE1FpH,EAAmBqC,UAAUkD,eAAiB,WAE1CzF,EAAYmE,iBAAiBsB,eAAe7C,KAAKZ,QAAQU,QAEtDxC,EAzF4B,GA4FvCe,OAAOf,mBAAqBA","sources":["webpack://pdb-rna-viewer/./lib/index.js","webpack://pdb-rna-viewer/./lib/customEvents.js","webpack://pdb-rna-viewer/./lib/data.js","webpack://pdb-rna-viewer/./lib/uiActions.js","webpack://pdb-rna-viewer/./lib/uiTemplate.js","webpack://pdb-rna-viewer/./node_modules/tslib/tslib.es6.js","webpack://pdb-rna-viewer/webpack/bootstrap","webpack://pdb-rna-viewer/webpack/runtime/define property getters","webpack://pdb-rna-viewer/webpack/runtime/hasOwnProperty shorthand","webpack://pdb-rna-viewer/webpack/runtime/make namespace object"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar data_1 = require(\"./data\");\nvar uiTemplate_1 = require(\"./uiTemplate\");\nvar uiActions_1 = require(\"./uiActions\");\nvar customEvents_1 = require(\"./customEvents\");\nvar PdbRnaViewerPlugin = /** @class */ (function () {\n    function PdbRnaViewerPlugin() {\n        this.rvAPI = false;\n        //constructor\n        this.dataService = new data_1.DataService();\n    }\n    ;\n    PdbRnaViewerPlugin.prototype.render = function (target, options) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var _a, _b, _c, dataUrls, _d, apiDataJ, FR3DDataJ, FR3DNestedDataJ;\n            return (0, tslib_1.__generator)(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        /*\n                        Render PDB RNA viewer plugin\n                        */\n                        if (!target || !options.pdbId || !options.chainId || !options.entityId) {\n                            console.log('Invalid plugin input!');\n                            return [2 /*return*/];\n                        }\n                        this.options = options;\n                        if (!(this.options.pdbId != \"cust\")) return [3 /*break*/, 4];\n                        _a = this;\n                        return [4 /*yield*/, this.dataService.getApiData(this.options.entityId, this.options.chainId, this.options.pdbId)];\n                    case 1:\n                        _a.apiData = _e.sent();\n                        _b = this;\n                        return [4 /*yield*/, this.dataService.getFR3DData(this.options.pdbId, this.options.chainId)];\n                    case 2:\n                        _b.FR3DData = _e.sent();\n                        _c = this;\n                        return [4 /*yield*/, this.dataService.getFR3DNestedData(this.options.pdbId, this.options.chainId)];\n                    case 3:\n                        _c.FR3DNestedData = _e.sent();\n                        _e.label = 4;\n                    case 4:\n                        this.targetEle = target;\n                        this.uiTemplateService = new uiTemplate_1.UiTemplateService(this.targetEle, this.options, this.apiData);\n                        if (!this.apiData) return [3 /*break*/, 5];\n                        // draw topology\n                        this.uiTemplateService.render(this.apiData, this.FR3DData, this.FR3DNestedData);\n                        // Bind to other PDB Component events\n                        if (this.options.subscribeEvents) {\n                            customEvents_1.CustomEvents.subscribeToComponentEvents(this);\n                        }\n                        return [3 /*break*/, 9];\n                    case 5:\n                        if (options.rvAPI == true)\n                            this.rvAPI = true;\n                        if (!this.rvAPI) return [3 /*break*/, 8];\n                        dataUrls = window.vm.URL;\n                        return [4 /*yield*/, fetch(dataUrls)];\n                    case 6: return [4 /*yield*/, (_e.sent()).json().then(function (r2dtjson) { return ({\n                            apiDataJ: r2dtjson.RNA_2D_json,\n                            FR3DDataJ: r2dtjson.RNA_BP_json,\n                            FR3DNestedDataJ: r2dtjson.RNA_BP_json,\n                        }); })];\n                    case 7:\n                        _d = _e.sent(), apiDataJ = _d.apiDataJ, FR3DDataJ = _d.FR3DDataJ, FR3DNestedDataJ = _d.FR3DNestedDataJ;\n                        this.apiData = apiDataJ;\n                        this.FR3DData = FR3DDataJ;\n                        this.FR3DNestedData = FR3DNestedDataJ;\n                        // draw topology\n                        this.uiTemplateService.render(this.apiData, this.FR3DData, this.FR3DNestedData);\n                        _e.label = 8;\n                    case 8:\n                        ;\n                        _e.label = 9;\n                    case 9: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PdbRnaViewerPlugin.prototype.selectResidue = function (label_seq_id, color) {\n        //Color selected residue\n        uiActions_1.UiActionsService.selectNucleotide(this.options.pdbId, this.options.entityId, label_seq_id, 'mouseover', false, color);\n    };\n    PdbRnaViewerPlugin.prototype.clearSelection = function (label_seq_id) {\n        //Clear selected residue\n        uiActions_1.UiActionsService.unSelectNucleotide(this.options.pdbId, this.options.entityId, label_seq_id, false);\n    };\n    PdbRnaViewerPlugin.prototype.highlightResidue = function (label_seq_id, color) {\n        //Highlight selected residue\n        uiActions_1.UiActionsService.colorNucleotide(this.options.pdbId, label_seq_id, color, 'highlight');\n    };\n    PdbRnaViewerPlugin.prototype.clearHighlight = function () {\n        //Clear highlighted residue\n        uiActions_1.UiActionsService.clearHighlight(this.options.pdbId);\n    };\n    return PdbRnaViewerPlugin;\n}());\n//Make plugin accessible to the window\nwindow.PdbRnaViewerPlugin = PdbRnaViewerPlugin;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CustomEvents = void 0;\nvar CustomEvents;\n(function (CustomEvents) {\n    function create(eventTypeArr) {\n        /*Create new custom events\n        @param eventTypeArr {string[]}: a string array of custom event types\n        */\n        var eventObj = {};\n        for (var ei = 0, el = eventTypeArr.length; ei < el; ei++) {\n            var eventType = eventTypeArr[ei];\n            var event_1 = void 0;\n            if (typeof MouseEvent == 'function') {\n                // current standard\n                event_1 = new MouseEvent(eventType, { 'view': window, 'bubbles': true, 'cancelable': true });\n            }\n            else if (typeof document.createEvent == 'function') {\n                // older standard\n                event_1 = document.createEvent('MouseEvents');\n                event_1.initEvent(eventType, true /* bubbles */, true /* cancelable */);\n            }\n            eventObj[eventType] = event_1;\n        }\n        ;\n        return eventObj;\n    }\n    CustomEvents.create = create;\n    function dispatchCustomEvent(event, eventData, targetElement) {\n        /*Dispatch custom event\n        @param event {any}: the custom event\n        @param eventData {any}: the event data\n        @param targetElement {HTMLElement}: the event target\n        */\n        event['eventData'] = eventData;\n        targetElement.dispatchEvent(event);\n    }\n    CustomEvents.dispatchCustomEvent = dispatchCustomEvent;\n    function subscribeToComponentEvents(pluginCtx) {\n        /* Custom event tracking for other PDB viewers\n        @param pluginCtx {any}: the RNA viewer plugin instance\n        */\n        //Add event listeners for PDB Mol* viewer\n        document.addEventListener(\"PDB.molstar.mouseover\", (function (e) {\n            if (e.eventData && e.eventData.auth_seq_id && e.eventData.auth_asym_id === pluginCtx.options.chainId) {\n                pluginCtx.selectResidue(e.eventData.auth_seq_id);\n            }\n        })),\n            document.addEventListener(\"PDB.molstar.mouseout\", (function (e) {\n                pluginCtx.clearSelection(e.eventData.residueNumber);\n            }));\n    }\n    CustomEvents.subscribeToComponentEvents = subscribeToComponentEvents;\n})(CustomEvents = exports.CustomEvents || (exports.CustomEvents = {}));\n//# sourceMappingURL=customEvents.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BanNameHelper = exports.DataService = void 0;\nvar tslib_1 = require(\"tslib\");\nvar DataService = /** @class */ (function () {\n    function DataService() {\n    }\n    DataService.prototype.getApiData = function (entityId, chainId, pdbId) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var apiUrl, e_1;\n            return (0, tslib_1.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        apiUrl = \"https://www.ebi.ac.uk/pdbe/static/entry/\" + pdbId.toLowerCase() + \"_\" + entityId + \"_\" + chainId + \".json\";\n                        return [4 /*yield*/, fetch(apiUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_1 = _a.sent();\n                        this.handleError(e_1);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.getFR3DData = function (pdbId, chainId) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var csvUrl, e_2;\n            return (0, tslib_1.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        csvUrl = \"https://rnacentral.org/api/internal/proxy?url=http://rna.bgsu.edu/rna3dhub/rest/getChainSequenceBasePairs?pdb_id=\" + pdbId.toLowerCase() + \"&chain=\" + chainId + \"&only_nested=False\";\n                        return [4 /*yield*/, fetch(csvUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_2 = _a.sent();\n                        this.handleFR3DError(e_2);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.getFR3DNestedData = function (pdbId, chainId) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var csvUrl, e_3;\n            return (0, tslib_1.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        csvUrl = \"https://rnacentral.org/api/internal/proxy?url=http://rna.bgsu.edu/rna3dhub/rest/getChainSequenceBasePairs?pdb_id=\" + pdbId.toLowerCase() + \"&chain=\" + chainId + \"&only_nested=True\";\n                        return [4 /*yield*/, fetch(csvUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_3 = _a.sent();\n                        this.handleFR3DError(e_3);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.handleError = function (e) {\n        /*\n        Error message for PDBe API\n        */\n        console.log(\"RNA topology data not available!\", e);\n    };\n    DataService.prototype.handleFR3DError = function (e) {\n        /*\n        Error message for FR3D API\n        */\n        console.log(\"FR3D mapping data not available!\", e);\n    };\n    return DataService;\n}());\nexports.DataService = DataService;\nvar BanNameHelper = /** @class */ (function () {\n    function BanNameHelper() {\n    }\n    /*\n    BanNameHelper class\n    */\n    BanNameHelper.getBanName = function (pdbId, PchainId) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var apiUrl, e_4;\n            return (0, tslib_1.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        apiUrl = \"https://api.ribosome.xyz/neo4j/get_banclass_for_chain/?pdbid=\" + pdbId + \"&auth_asym_id=\" + PchainId + \"&format=json\";\n                        return [4 /*yield*/, fetch(apiUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_4 = _a.sent();\n                        //console.log(`Ban naming is not available!`, e);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return BanNameHelper;\n}());\nexports.BanNameHelper = BanNameHelper;\n//# sourceMappingURL=data.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UiActionsService = void 0;\nvar customEvents_1 = require(\"./customEvents\");\nvar UiActionsService = /** @class */ (function () {\n    function UiActionsService(pdbId) {\n        this.pdbId = pdbId;\n    }\n    UiActionsService.prototype.applyButtonActions = function () {\n        var _this = this;\n        /*\n        Applies actions to buttons in upper right corner of viewer\n        */\n        var svgEle = d3.select('.rnaTopoSvg');\n        // initialize SVG zoom behaviour and remove mouse wheel zoom events\n        var zoom1 = d3.zoom().on('zoom', function () {\n            d3.select(\".rnaTopoSvg_\" + _this.pdbId).attr(\"transform\", d3.event.transform);\n            d3.select(\".rnaTopoSvgHighlight_\" + _this.pdbId).attr(\"transform\", d3.event.transform);\n            d3.select(\".rnaTopoSvgSelection_\" + _this.pdbId).attr(\"transform\", d3.event.transform);\n        });\n        d3.select(\".rnaTopoSvg\").call(zoom1)\n            .on('dblclick.zoom', null)\n            .on('wheel.zoom', null)\n            .on('mousewheel.zoom', null);\n        // zoom-in button behaviour\n        d3.select(\"#rnaTopologyZoomIn-\" + this.pdbId)\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            zoom1.scaleBy(svgEle.transition().duration(300), 1.2);\n        });\n        // zoom-out button behaviour\n        d3.select(\"#rnaTopologyZoomOut-\" + this.pdbId)\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            var rnaTopoSvg = d3.select(\".rnaTopoSvg_\" + _this.pdbId);\n            var transformValue = rnaTopoSvg._groups[0][0].getAttribute('transform');\n            if (transformValue && transformValue !== '') {\n                if (transformValue === null)\n                    return;\n                var transformValMatch = +transformValue.match(/.+scale\\((.*)\\)/)[1];\n                if (transformValMatch <= 1 || (transformValMatch - 0.3 <= 1)) {\n                    svgEle.transition().duration(300).call(zoom1.transform, d3.zoomIdentity);\n                    return;\n                }\n            }\n            zoom1.scaleBy(d3.select(\".rnaTopoSvg\").transition().duration(300), 0.8);\n        });\n        // reset button behaviour\n        d3.select(\"#rnaTopologyReset-\" + this.pdbId)\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            svgEle.transition().duration(300).call(zoom1.transform, d3.zoomIdentity);\n        });\n        // selection and highlight reset on canvas click\n        d3.select(\".pdb-rna-view-container-\" + this.pdbId)\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            UiActionsService.clearHighlight(_this.pdbId);\n            UiActionsService.clearSelection(_this.pdbId);\n        });\n    };\n    UiActionsService.unSelectNucleotide = function (pdbId, entityId, label_seq_id, isUnobserved, event) {\n        /*\n        @param pdbId (string): the PDB ID of the PDB molecule\n        @param entityId {string}: the entity ID of the PDB molecule\n        @param label_seq_id {number}: the index of the nucleotide\n        @param isUnobserved {boolean}: whether the nucleotide is unobserved\n        @param event {event}: the event if there was one\n        */\n        event === null || event === void 0 ? void 0 : event.stopImmediatePropagation();\n        UiActionsService.clearHighlight(pdbId);\n        var ttEle = document.getElementById(pdbId + \"-rnaTopologyTooltip\");\n        if (ttEle) {\n            ttEle.style.display = 'none';\n        }\n        if (!isUnobserved) {\n            if (label_seq_id == undefined) {\n                label_seq_id = this.lastSelected;\n            }\n            if (label_seq_id > -1) {\n                var evData = { pdbId: pdbId, label_seq_id: label_seq_id, entityId: entityId };\n                var textElement = document.querySelector(\".rnaview_\" + pdbId + \"_\" + label_seq_id);\n                if (textElement) {\n                    customEvents_1.CustomEvents.dispatchCustomEvent(UiActionsService.pdbevents['PDB.RNA.viewer.mouseout'], evData, textElement);\n                }\n            }\n        }\n    };\n    UiActionsService.showCheckboxes = function () {\n        /*\n        Show/unshow base pairing dropdown checkboxes\n        */\n        var checkboxes = document.getElementById(\"checkboxes\");\n        if (!this.expanded) {\n            checkboxes.style.display = \"block\";\n            this.expanded = true;\n        }\n        else {\n            checkboxes.style.display = \"none\";\n            this.expanded = false;\n        }\n    };\n    UiActionsService.clearHighlight = function (pdbId) {\n        /*\n        Remove the current nucleotide highlight\n        @param pdbId (string): the PDB ID of the PDB molecule\n        */\n        if (this.selected > -1) {\n            var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\" + pdbId + \" rnaview_\" + pdbId + \"_\" + this.selected)[0];\n            if (this.selectedColor && nucleotide) {\n                if (nucleotide.nodeName == 'text') {\n                    nucleotide.setAttribute(\"fill\", UiActionsService.selectedColor);\n                }\n                else {\n                    nucleotide.setAttribute(\"stroke\", UiActionsService.selectedColor);\n                }\n            }\n            else if (nucleotide) {\n                if (nucleotide.nodeName == 'text') {\n                    nucleotide.setAttribute(\"fill\", \"#323232\");\n                }\n                else {\n                    nucleotide.setAttribute(\"stroke\", \"#323232\");\n                }\n            }\n            this.selected = -1;\n        }\n    };\n    UiActionsService.clearSelection = function (pdbId) {\n        /*\n        Remove the current nucleotide selection\n        @param pdbId (string): the PDB ID of the PDB molecule\n        */\n        document.querySelector(\".rnaTopoSvgSelection_\" + pdbId) ? document.querySelector(\".rnaTopoSvgSelection_\" + pdbId).innerHTML = \"\" : null;\n    };\n    UiActionsService.showTooltip = function (evt, text, path, color, fill) {\n        /*\n        Show a tooltip on basepair hover\n        @param evt {any}: the event location\n        @param text {string}: the tooltip text\n        @param path {string}: the base pair path\n        @param color {string}: the original base pair color\n        @param fill {string}: the original base pair fill color\n        */\n        var tooltip = document.getElementById(\"tooltip\");\n        tooltip.id = \"tooltip\";\n        tooltip.innerHTML = text;\n        tooltip.style.display = \"block\";\n        tooltip.style.left = evt.layerX + 'px';\n        tooltip.style.top = evt.layerY + 'px';\n        UiActionsService.selectedBPColor = color;\n        UiActionsService.fillBPColor = fill;\n        var node = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0];\n        if (node.nodeName != 'text') {\n            node.setAttribute(\"stroke\", \"orange\");\n        }\n        node.setAttribute(\"fill\", \"orange\");\n    };\n    UiActionsService.hideTooltip = function (path) {\n        /*\n        Stop displaying the base pair tooltip\n        @param path {string}: the base pair path\n        */\n        var tooltip = document.getElementById(\"tooltip\");\n        tooltip.style.display = \"none\";\n        var node = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0];\n        if (node.nodeName != 'text') {\n            node.setAttribute(\"stroke\", \"\" + UiActionsService.selectedBPColor);\n        }\n        node.setAttribute(\"fill\", \"\" + UiActionsService.fillBPColor);\n    };\n    UiActionsService.drawCircle = function (index, color, pdbId) {\n        /*\n        Make the HTML for a nucleotide circle\n        @param index {number}: the nucleotide index\n        @param color {string}: the circle color\n        @param pdbId {string}: the PDB ID of the PDB molecule\n        */\n        var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\" + pdbId + \"_\" + index)[0];\n        var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\" + pdbId + \" rnaview_\" + pdbId + \"_\" + index)[0];\n        var BBox = nucleotide.getBBox();\n        var nx = (BBox.x + BBox.width / 2);\n        var ny = (BBox.y + BBox.height / 2);\n        circle.setAttribute(\"cx\", nx);\n        circle.setAttribute(\"cy\", ny);\n        circle.setAttribute(\"stroke\", \"\" + color);\n        circle.setAttribute(\"fill\", \"\" + color);\n        circle.style.display = \"block\";\n    };\n    UiActionsService.pdbevents = customEvents_1.CustomEvents.create(['PDB.RNA.viewer.click', 'PDB.RNA.viewer.mouseover', 'PDB.RNA.viewer.mouseout']);\n    UiActionsService.lastSelected = -1;\n    UiActionsService.selected = -1;\n    UiActionsService.selectedPath = '';\n    UiActionsService.selectedBPColor = '';\n    UiActionsService.fillBPColor = '';\n    UiActionsService.selectedColor = '';\n    UiActionsService.expanded = false;\n    UiActionsService.selectNucleotide = function (pdbId, entityId, label_seq_id, eventType, isUnobserved, residue, event, color) {\n        /*\n        @param pdbId (string): the PDB ID of the PDB molecule\n        @param entityId {string}: the entity ID of the PDB molecule\n        @param label_seq_id {number}: the index of the nucleotide\n        @param eventType {string}: the type of nucleotide event\n        @param isUnobserved {boolean}: whether the nucleotide is unobserved\n        @param residue {string}: the residue type (A,C,G,T) if available\n        @param mouseEvent {event}: the mouse event if there was one\n        */\n        event === null || event === void 0 ? void 0 : event.stopImmediatePropagation();\n        if (document.querySelector(\"svg.rnaTopoSvg\")) {\n            UiActionsService.clearHighlight(pdbId);\n            UiActionsService.colorNucleotide(pdbId, label_seq_id, color, 'highlight');\n            UiActionsService.selected = label_seq_id;\n            UiActionsService.lastSelected = label_seq_id;\n            var ttEle = document.getElementById(pdbId + \"-rnaTopologyTooltip\");\n            ttEle.style.display = 'inline';\n            ttEle.innerHTML = \"<strong>\" + (isUnobserved ? 'Unobserved ' : '') + \"Residue \" + (residue ? residue : '') + \" \" + label_seq_id + \"</strong>\";\n            if (!isUnobserved) {\n                var eventName = (eventType === 'click') ? 'PDB.RNA.viewer.click' : 'PDB.RNA.viewer.mouseover';\n                var evData = { pdbId: pdbId, label_seq_id: label_seq_id, entityId: entityId };\n                var textElement = document.querySelector(\".rnaview_\" + pdbId + \"_\" + label_seq_id);\n                if (textElement) {\n                    customEvents_1.CustomEvents.dispatchCustomEvent(UiActionsService.pdbevents[eventName], evData, textElement);\n                }\n            }\n        }\n    };\n    UiActionsService.colorNucleotide = function (pdbId, label_seq_id, color, type, shape) {\n        /*\n        Change the color of a nucleotide\n        @param pdbId (string): the PDB ID of the PDB molecule\n        @param label_seq_id {number}: the index of the nucleotide\n        @param color {string}: the new color\n        @param type {string}: the type of nucleotide event\n        @param shape {string}: the type of nucleotide display (nucleotide, circle, or path)\n        */\n        var strokeColor = color || 'orange';\n        if (shape == 'circle') {\n            var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\" + pdbId + \"_\" + label_seq_id)[0];\n            if (type == 'highlight') {\n                if (circle.getAttribute(\"stroke\")) {\n                    UiActionsService.selectedColor = circle.getAttribute(\"stroke\");\n                }\n            }\n            if (circle) {\n                circle.setAttribute(\"stroke\", \"\" + color);\n                circle.setAttribute(\"fill\", \"\" + color);\n                circle.style.display = \"block\";\n            }\n        }\n        var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\" + pdbId + \" rnaview_\" + pdbId + \"_\" + label_seq_id)[0];\n        if (nucleotide) {\n            if (nucleotide.nodeName == 'path') {\n                if (type == 'highlight') {\n                    if (nucleotide.getAttribute(\"stroke\")) {\n                        UiActionsService.selectedColor = nucleotide.getAttribute(\"stroke\");\n                    }\n                    else {\n                        UiActionsService.selectedColor = \"#323232\";\n                    }\n                }\n                nucleotide.setAttribute(\"stroke\", strokeColor);\n            }\n            else if (nucleotide.nodeName == 'text') {\n                if (type == 'highlight') {\n                    if (nucleotide.getAttribute(\"fill\")) {\n                        UiActionsService.selectedColor = nucleotide.getAttribute(\"fill\");\n                    }\n                    else {\n                        UiActionsService.selectedColor = \"#323232\";\n                    }\n                }\n                nucleotide.setAttribute(\"fill\", strokeColor);\n            }\n        }\n    };\n    return UiActionsService;\n}());\nexports.UiActionsService = UiActionsService;\n//make actions accessible to the window\nwindow.UiActionsService = UiActionsService;\n//# sourceMappingURL=uiActions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UiTemplateService = void 0;\nvar uiActions_1 = require(\"./uiActions\");\nvar data_1 = require(\"./data\");\nvar UiTemplateService = /** @class */ (function () {\n    function UiTemplateService(containerElement, pluginOptions, apiData) {\n        var _this_1 = this;\n        /*\n        The main class to create the RNA topology viewer image with nucleotides and base pairing\n        */\n        this.selectSections_RV1 = window.selectSections_RV1;\n        this.nPropertyConstants = window.nPropertyConstants;\n        this.mapped_n_properties = window.mapped_n_properties;\n        this.nColorData = window.nColorData;\n        this.parsePVData = window.parsePVData;\n        this.getEntropyAnnotations = window.getEntropyAnnotations;\n        this.getTWCAnnotations = window.getTWCAnnotations;\n        this.getCustomAnnotations = window.getCustomAnnotations;\n        this.getAnnotationArray = window.getAnnotationArray;\n        this.rv3VUEcomponent = window.vm;\n        this.locations = new Map();\n        this.menuStyle = 'position:relative;z-index:10;height:7%;width:500px;line-height:7%;background-color:#696969;padding: 0 10px;font-size:16px; color: #efefef;display:inline-block;';\n        this.pathStrs = [];\n        this.nucleotideStrs = [];\n        this.circleStrs = [];\n        this.baseStrs = new Map();\n        this.nestedBaseStrs = new Map();\n        this.basePairIDs = [];\n        this.mappingValue = '';\n        this.showAllNucleotides = false;\n        this.mouseOverMap = new Map();\n        this.eventMap = new Map();\n        this.toolTips = new Map();\n        this.selectSectionsTest = [];\n        this.defaultColours = {\n            domainSelection: 'rgb(255,0,0)',\n            mouseOver: 'rgb(105,105,105)',\n            borderColor: 'rgb(0,0,0)',\n            qualityGreen: 'rgb(0,182.85714285714286,0)',\n            qualityRed: 'rgb(291.42857142857144,0,0)',\n            qualityYellow: 'rgb(364.2857142857143,364.2857142857143,75.71428571428572)',\n            qualityRiboVision: \"rgb(203,203,203)\",\n            qualityOrange: 'rgb(291.42857142857144,121.42857142857143,0)',\n            qualityBlank: 'rgb(255,255,255)'\n        };\n        this.mapped_chains = new Set();\n        this.mapped_modifications = new Set();\n        this.drawCircle = function (pdbId, i, color) {\n            /*Make circle visible over nucleotide\n            @param pdbId {string}: The PDB ID of the molecule\n            @param i {number}: The index of the nucleotide\n            @param color {string}: The color of the circle\n            */\n            var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\" + pdbId + \"_\" + i)[0];\n            circle.setAttribute(\"stroke\", \"\" + color);\n            circle.setAttribute(\"fill\", \"\" + color);\n            circle.style.display = \"block\";\n        };\n        this.colorMap = function () {\n            /*\n            Color nucleotides according to current mapping selections\n            */\n            var selectBoxEle = _this_1.containerElement.querySelector('.mappingSelectbox');\n            var selectedValue = parseInt(selectBoxEle.value);\n            if (selectedValue) {\n                var selectedDomain = _this_1.domainTypes[selectedValue];\n                if (selectedDomain.data) {\n                    selectedDomain.data.forEach(function (val, i) {\n                        if (val != undefined && val.color != undefined) {\n                            if (val.color.indexOf('NaN') < 0) {\n                                uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, val.start, val.color, undefined, _this_1.mappingValue);\n                            }\n                        }\n                    });\n                }\n            }\n            else {\n                var tempDomain = _this_1.domainTypes[1];\n                if (tempDomain.data) {\n                    tempDomain.data.forEach(function (val, i) {\n                        if (val != undefined && val.start != undefined) {\n                            uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, val.start, 'rgb(0,0,0)', undefined, _this_1.mappingValue);\n                        }\n                    });\n                }\n            }\n        };\n        this.colorMapHelper = function () {\n            /*\n            Update both color mapping dropdowns to have the same selection\n            */\n            var mappingDropdown = _this_1.containerElement.querySelector('.mappingSelectbox');\n            var num = +mappingDropdown.value;\n            document.getElementById('selectColorMappingProps').value = mappingDropdown.options[num].text;\n            _this_1.rv3VUEcomponent.selected_property = mappingDropdown.options[num].text;\n        };\n        this.colorMapContacts = function () {\n            /*\n            Color nucleotides by currently selected protein contacts\n            */\n            if (_this_1.rv3VUEcomponent.pchainid.length > 0 && _this_1.rv3VUEcomponent.selected_property != \"Select data\") {\n                _this_1.rv3VUEcomponent.selected_property = \"Select data\";\n            }\n            _this_1.mapped_chains.forEach(function (val) {\n                if (!_this_1.rv3VUEcomponent.pchainid.includes(val)) {\n                    for (var i in _this_1.rv3VUEcomponent.protein_contacts[val]) {\n                        uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.protein_contacts[val][i], '#323232', undefined, _this_1.mappingValue);\n                        var nPath = \"rnaviewEle rnaviewEle_\" + _this_1.pluginOptions.pdbId + \" rnaview_\" + _this_1.pluginOptions.pdbId + \"_\" + _this_1.rv3VUEcomponent.protein_contacts[val][i];\n                        var cPath = \"circle_\" + _this_1.pluginOptions.pdbId + \"_\" + _this_1.rv3VUEcomponent.protein_contacts[val][i];\n                        if (document.getElementsByClassName(nPath).length > 0) {\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseover', document.getElementsByClassName(nPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseout', document.getElementsByClassName(nPath)[0].getAttribute('onmouseout').split(';')[0]);\n                        }\n                        if (document.getElementsByClassName(cPath).length > 0) {\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseover', document.getElementsByClassName(cPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseout', document.getElementsByClassName(cPath)[0].getAttribute('onmouseout').split(';')[0]);\n                        }\n                    }\n                    _this_1.mapped_chains.delete(val);\n                }\n            });\n            for (var val in _this_1.rv3VUEcomponent.pchainid) {\n                var chain = _this_1.rv3VUEcomponent.pchainid[val];\n                for (var i in _this_1.rv3VUEcomponent.protein_contacts[chain]) {\n                    uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.protein_contacts[chain][i], _this_1.rv3VUEcomponent.proteinColorMap.get(chain), undefined, _this_1.mappingValue);\n                }\n                _this_1.mapped_chains.add(chain);\n            }\n            _this_1.addEvents();\n        };\n        this.colorMapModifications = function () {\n            /*\n            Color nucleotides by currently selected modified residue types\n            */\n            _this_1.mapped_modifications.forEach(function (val) {\n                if (!_this_1.rv3VUEcomponent.modifications.includes(val)) {\n                    for (var i in _this_1.rv3VUEcomponent.modified_residues.get(val)) {\n                        uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.modified_residues.get(val)[i], '#323232', undefined, _this_1.mappingValue);\n                        var nPath = \"rnaviewEle rnaviewEle_\" + _this_1.pluginOptions.pdbId + \" rnaview_\" + _this_1.pluginOptions.pdbId + \"_\" + _this_1.rv3VUEcomponent.modified_residues.get(val)[i];\n                        var cPath = \"circle_\" + _this_1.pluginOptions.pdbId + \"_\" + _this_1.rv3VUEcomponent.modified_residues.get(val)[i];\n                        if (document.getElementsByClassName(nPath).length > 0) {\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseover', document.getElementsByClassName(nPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseout', document.getElementsByClassName(nPath)[0].getAttribute('onmouseout').split(';')[0]);\n                        }\n                        if (document.getElementsByClassName(cPath).length > 0) {\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseover', document.getElementsByClassName(cPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseout', document.getElementsByClassName(cPath)[0].getAttribute('onmouseout').split(';')[0]);\n                        }\n                    }\n                    _this_1.mapped_modifications.delete(val);\n                }\n            });\n            for (var val in _this_1.rv3VUEcomponent.modifications) {\n                var mod = _this_1.rv3VUEcomponent.modifications[val];\n                for (var i in _this_1.rv3VUEcomponent.modified_residues.get(mod)) {\n                    uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.modified_residues.get(mod)[i], _this_1.rv3VUEcomponent.modifiedColorMap.get(mod), undefined, _this_1.mappingValue);\n                }\n                _this_1.mapped_modifications.add(mod);\n            }\n            _this_1.addEvents();\n        };\n        /*Constructor for UiTemplateService\n        @param containerElement {HTMLElement}: the container for the RNA viewer\n        @param pluginOptions {PluginOptions}: the plugin options\n        @param apiData {ApiData|undefined}: the PDBe RNA structure API data if available\n        */\n        this.containerElement = containerElement;\n        this.pluginOptions = pluginOptions;\n        this.apiData = apiData;\n        this.uiActionsService = new uiActions_1.UiActionsService(this.pluginOptions.pdbId);\n    }\n    UiTemplateService.prototype.render = function (apiData, FR3DData, FR3DNestedData) {\n        /*Generate inner HTML for RNA topology viewer\n        @param apiData {ApiData}: the PDBe RNA structure API data\n        @param FR3DData {JSON}: the FR3D base pairing API data (un-nested)\n        @param FR3DNestedData {JSON}: the FR3D base pairing API data (nested)\n        */\n        this.containerElement.innerHTML =\n            \"<div class=\\\"pdb-rna-view-container pdb-rna-view-container-\" + this.pluginOptions.pdbId + \"\\\">\\n            \" + this.svgTemplate(apiData, FR3DData, FR3DNestedData) + \"\\n            \" + this.title() + \"\\n            \" + this.tooltip() + \"\\n            \" + this.actionButtons() + \"\\n        </div>\\n        <div style=\\\"\" + this.menuStyle + \"\\\">\\n                <div class=\\\"menuOptions\\\" style=\\\"width:95%;float:center;display:inline-block;\\\">\\n                    <form>\\n                    <input type=\\\"checkbox\\\" id=\\\"nestedBP\\\" name=\\\"nestedBP\\\" style=\\\"width:5%; display: inline-block; float: left;>\\n                    <label for=\\\"nestedBP\\\" style=\\\"width:20%; display: inline-block; float: left;\\\"> Only nested BPs</label>\\n                    <select class=\\\"menuSelectbox\\\" style=\\\"width:20%; display: inline-block;\\\"><option value=\\\"\\\">Nucleotides</option></select>\\n                    <select class=\\\"mappingSelectbox\\\" style=\\\"width:20%; display: inline-block;\\\"><option value=\\\"\\\">Mapping</option></select>\\n                    <div class=\\\"multiselect\\\">\\n                        <div class=\\\"selectBox\\\" onclick=\\\"UiActionsService.showCheckboxes()\\\" style=\\\"display:inline-block;float:right;width:25%\\\">\\n                            <select>\\n                                <option>Base Pairings</option>\\n                            </select>\\n                            <div class=\\\"overSelect\\\"></div>\\n                        </div>\\n                        <div id=\\\"checkboxes\\\">\\n                        </div>\\n                    </div>\\n                    </form>\\n                </div>\\n        </div>\\n        \";\n        this.createModeDropdown();\n        this.createBPDropdown();\n        this.uiActionsService.applyButtonActions();\n        this.addEvents();\n        document.querySelector(\".saveSVG\").addEventListener(\"click\", this.saveSVG.bind(this));\n        this.getAnnotationFromRibovision(this.mapped_n_properties);\n    };\n    UiTemplateService.prototype.changeBP = function (val) {\n        var _this_1 = this;\n        /*\n        Update image to reflect a change in base pairing selection\n        @param val {string}: The base pairing selection that has been changed\n        */\n        this.displayBaseStrs = '';\n        this.displayNestedBaseStrs = '';\n        var allBP = this.containerElement.querySelector('#Checkbox_All').checked;\n        if ((val == 'All')) {\n            this.baseStrs.forEach(function (value, key) {\n                _this_1.baseStrs.set(key, [allBP, value[1]]);\n                _this_1.nestedBaseStrs.set(key, [allBP, _this_1.nestedBaseStrs.get(key)[1]]);\n                document.getElementById(\"Checkbox_\" + key).checked = allBP;\n                if (allBP) {\n                    _this_1.displayBaseStrs += value[1].join('');\n                    _this_1.displayNestedBaseStrs += _this_1.nestedBaseStrs.get(key)[1].join('');\n                }\n            });\n        }\n        else {\n            if (this.baseStrs.get(val)[0]) {\n                this.baseStrs.set(val, [false, this.baseStrs.get(val)[1]]);\n                this.nestedBaseStrs.set(val, [false, this.nestedBaseStrs.get(val)[1]]);\n            }\n            else {\n                this.baseStrs.set(val, [true, this.baseStrs.get(val)[1]]);\n                this.nestedBaseStrs.set(val, [true, this.nestedBaseStrs.get(val)[1]]);\n            }\n            this.baseStrs.forEach(function (value, key) {\n                if (value[0]) {\n                    _this_1.displayBaseStrs += value[1].join('');\n                    _this_1.displayNestedBaseStrs += _this_1.nestedBaseStrs.get(key)[1].join('');\n                }\n            });\n        }\n        this.PathOrNucleotide();\n    };\n    UiTemplateService.prototype.createBPDropdown = function () {\n        var _this_1 = this;\n        var _a;\n        /*\n        Create base pairing selection dropdown HTML\n        */\n        if (this.baseStrs.size > 0) {\n            var optionList_1 = '<table><tr><td><label for = \"Checkbox_All\"><input type=\"checkbox\" id=\"Checkbox_All\" /> All</label></td>';\n            var i = 1;\n            this.baseStrs.forEach(function (value, key) {\n                if (i % 2 == 0) {\n                    optionList_1 = optionList_1 + \"<tr>\";\n                }\n                if (key == 'cWW') {\n                    optionList_1 = optionList_1 + \"<td><label for = \\\"Checkbox_\" + key + \"\\\"><input type=\\\"checkbox\\\" id=\\\"Checkbox_\" + key + \"\\\" checked = true/> \" + key + \"</label></td>\";\n                }\n                else {\n                    optionList_1 = optionList_1 + \"<td><label for = \\\"Checkbox_\" + key + \"\\\"><input type=\\\"checkbox\\\" id=\\\"Checkbox_\" + key + \"\\\"/> \" + key + \"</label></td>\";\n                }\n                if (i % 2 == 1) {\n                    optionList_1 = optionList_1 + \"</tr>\";\n                }\n                i += 1;\n            });\n            optionList_1 = optionList_1 + \"</table>\";\n            var selectBoxEle = document.getElementById('checkboxes');\n            selectBoxEle.innerHTML = optionList_1;\n            (_a = document.getElementById(\"Checkbox_All\")) === null || _a === void 0 ? void 0 : _a.addEventListener(\"change\", this.changeBP.bind(this, \"All\"));\n            this.baseStrs.forEach(function (value, key) {\n                var _a;\n                (_a = document.getElementById(\"Checkbox_\" + key)) === null || _a === void 0 ? void 0 : _a.addEventListener(\"change\", _this_1.changeBP.bind(_this_1, key));\n            });\n        }\n    };\n    UiTemplateService.prototype.createModeDropdown = function () {\n        /*\n        Create visualization mode dropdown HTML\n        */\n        var optionList = \"<option value=\\\"0\\\">Nucleotides</option><option value=\\\"1\\\">Path</option><option value=\\\"2\\\">Circle</option>\";\n        var selectBoxEle = this.containerElement.querySelector('.menuSelectbox');\n        selectBoxEle.innerHTML = optionList;\n        selectBoxEle.addEventListener(\"change\", this.PathOrNucleotide.bind(this));\n        var nestedBP = this.containerElement.querySelector('#nestedBP');\n        nestedBP.addEventListener(\"change\", this.PathOrNucleotide.bind(this));\n    };\n    UiTemplateService.prototype.createDomainDropdown = function () {\n        /*\n        Create color mapping annotation dropdown\n        */\n        this.selectedDomain = this.domainTypes[0];\n        if (this.domainTypes.length > 0) {\n            var optionList_2 = '';\n            this.domainTypes.forEach(function (opt, i) {\n                optionList_2 = optionList_2 + \"<option value=\\\"\" + i + \"\\\">\" + opt.label + \"</option>\";\n            });\n            var selectBoxEle = this.containerElement.querySelector('.mappingSelectbox');\n            selectBoxEle.innerHTML = optionList_2;\n            selectBoxEle.addEventListener(\"change\", this.colorMapHelper.bind(this));\n        }\n        else {\n            this.containerElement.querySelector('.menuOptions').style.display = 'none';\n        }\n    };\n    UiTemplateService.prototype.create2D3DAnnotations = function (name, residueDetails, TWCrgbMap, TWCData, chain_start, chain_end) {\n        /*\n        Create residue color annotations for 2D and 3D mappings\n        @param name {string}: the name of the mapping type (ex. \"Shannon entropy\")\n        @param residueDetails {any}: the list of residue details\n        @param TWCrgbMap {Map<number, any>}: the map of nucleotide indices to colors\n        @param TWCData {Map<number, string>} the map of nucleotide indices to mapping values\n        @param chain_start: chain starting index\n        @param chain_end: chain ending index\n        */\n        var _this = this;\n        TWCData.forEach(function (value, index) {\n            if (chain_start <= index && index <= chain_end) {\n                var rgb_color = TWCrgbMap.get(index);\n                window.selectSections_RV1.get(name).push({\n                    entity_id: _this.pluginOptions.entityId,\n                    residue_number: index,\n                    color: rgb_color[1],\n                    sideChain: false,\n                });\n                _this.defaultColours.qualityRiboVision = '#' + String(rgb_color[0].join(''));\n                var colors = \"rgb(\" + String(rgb_color[0].join(',')) + \")\";\n                residueDetails.push({\n                    start: index,\n                    end: index,\n                    color: colors,\n                    tooltipMsg: Number.parseFloat(value).toPrecision(3),\n                    tooltipPosition: \"prefix\"\n                });\n            }\n        });\n        return residueDetails;\n    };\n    UiTemplateService.prototype.getAnnotationFromRibovision = function (mapped_n_properties) {\n        var _this_1 = this;\n        /*\n        Create residue color annotations for 2D and 3D mappings\n        @param mapped_n_properties {Map<string, Array<Array<number>>>} map of nucleotide properties\n        to values for each nucleotide index\n        */\n        var _this = this;\n        var start = this.apiData ? this.apiData.label_seq_ids[1] : 0;\n        if (typeof _this.domainTypes == 'undefined') {\n            _this.domainTypes = [{\n                    label: 'Select data',\n                    data: null\n                }];\n        }\n        this.selectSections_RV1 = window.selectSections_RV1;\n        this.selectSections_RV1.set(\"Select data\", [{\n                entity_id: _this.pluginOptions.entityId,\n                focus: true\n            } /*{entity_id: _this.pluginOptions.entityId,\n                                    start_residue_number: 0,\n                                    end_residue_number: 1000,\n                                    color: {r: 255, g: 255, b: 255},\n                                    sideChain: false,\n                                }*/\n        ]);\n        this.nPropertyConstants = window.nPropertyConstants;\n        this.nColorData = window.nColorData;\n        if (mapped_n_properties) {\n            mapped_n_properties.forEach(function (value, index) {\n                var residueDetails = [{}];\n                var name = index;\n                var separatedData = value;\n                _this_1.selectSections_RV1.set(name, []);\n                var min = Math.min.apply(Math, _this_1.nPropertyConstants.get(name));\n                var max = Math.max.apply(Math, _this_1.nPropertyConstants.get(name));\n                var colormapArray = _this_1.nColorData.get(name);\n                if (name == \"Shannon entropy\") {\n                    _this_1.getEntropyAnnotations(separatedData, min, max, _this_1.pluginOptions.chainId);\n                    //console.log('name_SE', name,  this.getEntropyAnnotations(separatedData, min, max, this.pluginOptions.chainId));\n                }\n                ;\n                if (name == \"TwinCons\") {\n                    _this_1.getTWCAnnotations(separatedData, min, max, _this_1.pluginOptions.chainId);\n                }\n                ;\n                if (name == \"Custom Data\") {\n                    _this_1.getCustomAnnotations(separatedData, min, max, _this_1.pluginOptions.chainId);\n                }\n                ;\n                var _a = _this_1.parsePVData(separatedData, min, max, colormapArray), TWCrgbMap = _a[0], TWCData = _a[1];\n                _this_1.selectSections_RV1.get(name).push({ entity_id: _this.pluginOptions.entityId, focus: true });\n                var end = TWCData.size;\n                if (void 0 !== TWCData) {\n                    residueDetails = _this.create2D3DAnnotations(name, residueDetails, TWCrgbMap, TWCData, start, end);\n                    if (0 < residueDetails.length) {\n                        var current = _this.domainTypes.filter(function (order) { return (order.label === name); })[0];\n                        if (current && current != null) {\n                            current.data = residueDetails;\n                        }\n                        else {\n                            _this.domainTypes.push({\n                                label: name,\n                                data: residueDetails\n                            });\n                        }\n                    }\n                }\n            });\n            this.createDomainDropdown();\n            this.rv3VUEcomponent.topology_loaded = true;\n        }\n        else {\n            //catch block\n        }\n        ;\n    };\n    UiTemplateService.prototype.calculateFontSize = function (apiData) {\n        /*\n        Determines font size for nucleotides to reduce overlapping\n        @param apiData: the PDBe RNA structure API data\n        */\n        var xVals = [];\n        var yVals = [];\n        var dist = [];\n        var lastPathIndex = apiData.svg_paths.length - 1;\n        apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n            if (recordIndex === 0 || recordIndex === lastPathIndex)\n                return;\n            var pathStrParsed = pathStr.split('M').join(',').split(',');\n            xVals[recordIndex] = (Number(pathStrParsed[1]) + Number(pathStrParsed[3])) / 2;\n            yVals[recordIndex] = (Number(pathStrParsed[2]) + Number(pathStrParsed[4])) / 2;\n            if (recordIndex > 1) {\n                var xDiff = xVals[recordIndex] - xVals[recordIndex - 1];\n                var yDiff = yVals[recordIndex] - yVals[recordIndex - 1];\n                dist[recordIndex] = Math.pow((Math.pow(yDiff, 2) + Math.pow(xDiff, 2)), 0.5);\n            }\n        });\n        var sortedDist = dist.sort(function (a, b) { return a - b; });\n        return 0.9 * sortedDist[Math.floor(sortedDist.length * 0.05)];\n    };\n    UiTemplateService.prototype.calcBaseStrs = function (baseStr, baseMap, font_size) {\n        /*\n        Generates base pairing HTML\n        @param baseStr: base pairs from FR3D API\n        @param baseMap: a map of base pairing types (ex. 'cWW') to visibility and values.\n        This is filled in with this function.\n        @param font_size: the size of nucleotides\n        */\n        var start = +baseStr.seq_id1;\n        var end = +baseStr.seq_id2;\n        if (baseStr && start && end) {\n            var type = baseStr.bp;\n            var pathID = \"rnaviewBP rnaviewBP_\" + this.pluginOptions.pdbId + \"_\" + this.pluginOptions.chainId + \" \" + type + \"_\" + start + \"_\" + end;\n            var n1 = baseStr.nt1;\n            var n2 = baseStr.nt2;\n            if (type == 'cSH' || type == 'tSH' || type == 'cSW' || type == 'tSW' || type == 'cHW' || type == 'tHW') {\n                var temp = end;\n                end = start;\n                start = temp;\n                var temp2 = n1;\n                n1 = n2;\n                n2 = temp2;\n                type = type.charAt(0) + type.slice(-2).split('').reverse().join('');\n            }\n            var x1 = this.locations.get(start)[0] + font_size / 2.5;\n            var x2 = this.locations.get(end)[0] + font_size / 2.5;\n            var y1 = this.locations.get(start)[1] - font_size / 2.5;\n            var y2 = this.locations.get(end)[1] - font_size / 2.5;\n            var distance = Math.pow(Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2), 0.5);\n            var x1_prime = UiTemplateService.linearlyInterpolate(x1, x2, font_size / distance);\n            var y1_prime = UiTemplateService.linearlyInterpolate(y1, y2, font_size / distance);\n            var x2_prime = UiTemplateService.linearlyInterpolate(x1, x2, 1 - font_size / distance);\n            var y2_prime = UiTemplateService.linearlyInterpolate(y1, y2, 1 - font_size / distance);\n            var stroke = \"#ccc\";\n            if (type.charAt(0) == 't') {\n                var fill = \"none\";\n            }\n            else {\n                var fill = \"#ccc\";\n            }\n            var xm = (x1_prime + x2_prime) / 2;\n            var ym = (y1_prime + y2_prime) / 2;\n            var distance2 = distance - 2 * font_size;\n            var height = font_size / 1.5;\n            var defaultAction = \"<path class=\\\"\" + pathID + \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\" + n1 + start + \" - \" + n2 + end + \"; \" + type + \"', '\" + pathID + \"', '\" + stroke + \"', '\" + fill + \"');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\" + pathID + \"');\\\"\";\n            var phi = 270 + Math.atan2((y1 - y2), (x1 - x2)) * 180 / Math.PI;\n            if (type == 'cWW') {\n                if (n1 == 'G' && n2 == 'U' || n1 == 'U' && n2 == 'G') {\n                    baseMap.get(type)[1].push(\"<path class=\\\"\" + pathID + \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\" + n1 + start + \" - \" + n2 + end + \"; \" + type + \"', '\" + pathID + \"', '#000', '#000');\\\"\\n                    onmouseout=\\\"UiActionsService.hideTooltip('\" + pathID + \"');\\\"\\n                    d=\\\"\\n                    M \" + ((x1_prime + x2_prime) / 2 - font_size / 4) + \", \" + (y1_prime + y2_prime) / 2 + \"\\n                    a \" + font_size / 4 + \",\" + font_size / 4 + \" 0 1,0 \" + font_size / 2 + \",0\\n                    a \" + font_size / 4 + \",\" + font_size / 4 + \" 0 1,0 \" + -1 * font_size / 2 + \",0\\n                    \\\"\\n                    stroke=\\\"#000\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill=\\\"#000\\\"\\n                />\");\n                }\n                else {\n                    baseMap.get(type)[1].push(\"<path class=\\\"\" + pathID + \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt,  '\" + n1 + start + \" - \" + n2 + end + \"; \" + type + \"', '\" + pathID + \"', '#000', '#000');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\" + pathID + \"');\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" data-stroke-color=\\\"#000\\\" stroke=\\\"#000\\\" d=\\\"M\" + x1_prime + \" \" + y1_prime + \" \" + x2_prime + \" \" + y2_prime + \"\\\"></path>\");\n                }\n            }\n            else if (type == 'tWW') {\n                var xm1 = UiTemplateService.linearlyInterpolate(x1_prime, xm, 1 - (font_size / 3) / (distance / 2));\n                var ym1 = UiTemplateService.linearlyInterpolate(y1_prime, ym, 1 - (font_size / 3) / (distance / 2));\n                var xm2 = UiTemplateService.linearlyInterpolate(xm, x2_prime, (font_size / 3) / (distance / 2));\n                var ym2 = UiTemplateService.linearlyInterpolate(ym, y2_prime, (font_size / 3) / (distance / 2));\n                baseMap.get(type)[1].push(defaultAction +\n                    (\"d=\\\"\\n                    M \" + x1_prime + \" \" + y1_prime + \" \" + xm1 + \" \" + ym1 + \"\\n                    M \" + (xm - font_size / 3) + \" \" + ym + \"\\n                    a \" + font_size / 3 + \",\" + font_size / 3 + \" 0 1,0 \" + font_size / 1.5 + \",0\\n                    a \" + font_size / 3 + \",\" + font_size / 3 + \" 0 1,0 \" + -1 * font_size / 1.5 + \",0\\n                    M \" + xm2 + \" \" + ym2 + \" \" + x2_prime + \" \" + y2_prime + \"\\\"\\n                    stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\"/>\"));\n            }\n            else if (type == 'cSS' || type == 'tSS') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height / 2) + \" \\n                l \" + height / 2 + \" 0\\n                l -\" + height / 2 + \" -\" + height + \" \\n                l -\" + height / 2 + \" \" + height + \"\\n                l \" + height / 2 + \" 0\\n                M \" + xm + \" \" + (ym - height / 2) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n            else if (type == 'tHS' || type == 'cHS') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height + height / 4) + \" \\n                h -\" + height / 2 + \"\\n                v -\" + height + \"\\n                h \" + height + \"\\n                v \" + height + \"\\n                h -\" + height / 2 + \"\\n                M \" + xm + \" \" + (ym + height / 4) + \" \" + xm + \" \" + (ym - height / 4) + \"\\n                l \" + height / 2 + \" 0\\n                l -\" + height / 2 + \" -\" + height + \" \\n                l -\" + height / 2 + \" \" + height + \"\\n                l \" + height / 2 + \" 0\\n                M \" + xm + \" \" + (ym - height - height / 4) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n            else if (type == 'tWS' || type == 'cWS') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height + height / 4) + \" \\n                M \" + (xm - height / 2) + \" \" + (ym + 3 * height / 4) + \" \\n                a \" + height / 2 + \",\" + height / 2 + \" 0 1,0 \" + height + \",0\\n                a \" + height / 2 + \",\" + height / 2 + \" 0 1,0 \" + -1 * height + \",0\\n                M \" + xm + \" \" + (ym + height / 4) + \" \" + xm + \" \" + (ym - height / 4) + \"\\n                l \" + height / 2 + \" 0\\n                l -\" + height / 2 + \" -\" + height + \" \\n                l -\" + height / 2 + \" \" + height + \"\\n                l \" + height / 2 + \" 0\\n                M \" + xm + \" \" + (ym - height - height / 4) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n            else if (type == 'tWH' || type == 'cWH') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height + height / 4) + \" \\n                M \" + (xm - height / 2) + \" \" + (ym + 3 * height / 4) + \" \\n                a \" + height / 2 + \",\" + height / 2 + \" 0 1,0 \" + height + \",0\\n                a \" + height / 2 + \",\" + height / 2 + \" 0 1,0 \" + -1 * height + \",0\\n                M \" + xm + \" \" + (ym + height / 4) + \" \" + xm + \" \" + (ym - height / 4) + \"\\n                h -\" + height / 2 + \"\\n                v -\" + height + \"\\n                h \" + height + \"\\n                v \" + height + \"\\n                h -\" + height / 2 + \"\\n                M \" + xm + \" \" + (ym - height - height / 4) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n            else if (type == 'tHH' || type == 'cHH') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height / 2) + \" \\n                h -\" + height / 2 + \"\\n                v -\" + height + \"\\n                h \" + height + \"\\n                v \" + height + \"\\n                h -\" + height / 2 + \"\\n                M \" + xm + \" \" + (ym - height / 2) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n        }\n    };\n    UiTemplateService.linearlyInterpolate = function (v0, v1, interpolationFactor) {\n        // See https://en.wikipedia.org/wiki/Linear_interpolation\n        return (1 - interpolationFactor) * v0 + interpolationFactor * v1;\n    };\n    UiTemplateService.prototype.PathOrNucleotide = function (e) {\n        /*\n        Switches between displaying paths and individual nucleotides\n        Updates current view\n        */\n        var selectBoxEle = this.containerElement.querySelector('.menuSelectbox');\n        var selectedValue = parseInt(selectBoxEle.value);\n        this.mappingValue = '';\n        var nestedBP = this.containerElement.querySelector('#nestedBP');\n        if (nestedBP.checked) {\n            var displayBP = this.displayNestedBaseStrs;\n        }\n        else {\n            var displayBP = this.displayBaseStrs;\n        }\n        if (selectedValue == 0) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\" + this.pluginOptions.pdbId)[0].innerHTML = this.nucleotideStrs.join('') + this.circleStrs.join('') + displayBP;\n        }\n        else if (selectedValue == 1) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\" + this.pluginOptions.pdbId)[0].innerHTML = this.pathStrs.join('') + this.circleStrs.join('') + displayBP;\n        }\n        else if (selectedValue == 2) {\n            this.mappingValue = 'circle';\n        }\n        if (e) {\n            //this.containerElement.querySelector<HTMLInputElement>('.mappingSelectbox')!.value=\"0\";\n            this.colorMap();\n        }\n        this.colorMapContacts();\n        this.colorMapModifications();\n    };\n    UiTemplateService.prototype.addEvents = function () {\n        var _this_1 = this;\n        /*\n        Adds events for protein contacts and RNA modifications\n        */\n        var contacts = new Map();\n        this.mapped_chains.forEach(function (val) {\n            //let tooltip = \"Contacts: \" + val;\n            for (var i in _this_1.rv3VUEcomponent.protein_contacts[val]) {\n                var path = \"circle_\" + _this_1.pluginOptions.pdbId + \"_\" + _this_1.rv3VUEcomponent.protein_contacts[val][i];\n                if (document.getElementsByClassName(path)[0]) {\n                    if (contacts.get(_this_1.rv3VUEcomponent.protein_contacts[val][i])) {\n                        var newList = contacts.get(_this_1.rv3VUEcomponent.protein_contacts[val][i]);\n                        newList.push(val);\n                        contacts.set(_this_1.rv3VUEcomponent.protein_contacts[val][i], newList);\n                    }\n                    else {\n                        contacts.set(_this_1.rv3VUEcomponent.protein_contacts[val][i], [val]);\n                    }\n                }\n            }\n        });\n        var chem_mods = new Map();\n        this.mapped_modifications.forEach(function (val) {\n            for (var i in _this_1.rv3VUEcomponent.modified_residues.get(val)) {\n                var path = \"circle_\" + _this_1.pluginOptions.pdbId + \"_\" + _this_1.rv3VUEcomponent.modified_residues.get(val)[i];\n                if (document.getElementsByClassName(path)[0]) {\n                    if (chem_mods.get(_this_1.rv3VUEcomponent.modified_residues.get(val)[i])) {\n                        var newList = chem_mods.get(_this_1.rv3VUEcomponent.modified_residues.get(val)[i]);\n                        newList.push(val);\n                        chem_mods.set(_this_1.rv3VUEcomponent.modified_residues.get(val)[i], newList);\n                    }\n                    else {\n                        chem_mods.set(_this_1.rv3VUEcomponent.modified_residues.get(val)[i], [val]);\n                    }\n                    //document.getElementsByClassName(path)[0].addEventListener('mouseover', (e) =>  {UiActionsService.showTooltip(e, tooltip, path, this.rv3VUEcomponent.proteinColorMap.get(val), this.rv3VUEcomponent.proteinColorMap.get(val))})\n                    //document.getElementsByClassName(path)[0].addEventListener('mouseout', UiActionsService.hideTooltip.bind(this, path))\n                }\n            }\n        });\n        contacts.forEach(function (value, key) {\n            var tooltip = \"Contact:\";\n            var circlePath = \"circle_\" + _this_1.pluginOptions.pdbId + \"_\" + key;\n            var path = \"rnaviewEle rnaviewEle_\" + _this_1.pluginOptions.pdbId + \" rnaview_\" + _this_1.pluginOptions.pdbId + \"_\" + key;\n            var chain = '';\n            var promises = [];\n            for (var val in value) {\n                promises.push(data_1.BanNameHelper.getBanName(_this_1.pluginOptions.pdbId, value[val]));\n                chain = value[val];\n            }\n            Promise.all(promises).then(function (banNames) {\n                banNames.forEach(function (BanName) {\n                    if (BanName.length > 0) {\n                        tooltip += \" \" + BanName[0] + \"; chain: \" + chain;\n                    }\n                    else {\n                        tooltip = \"chain: \" + chain;\n                    }\n                });\n                _this_1.toolTips.set(key, tooltip);\n                document.getElementsByClassName(circlePath)[0].setAttribute('onmouseover', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseover').split(';')[0] + (\";UiActionsService.showTooltip(evt, '\" + tooltip + \"', '\" + circlePath + \"', '\" + _this_1.rv3VUEcomponent.proteinColorMap.get(chain) + \"', '\" + _this_1.rv3VUEcomponent.proteinColorMap.get(chain) + \"')\"));\n                document.getElementsByClassName(circlePath)[0].setAttribute('onmouseout', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseout').split(';')[0] + (\";UiActionsService.hideTooltip('\" + circlePath + \"')\"));\n                if (document.getElementsByClassName(path)[0]) {\n                    document.getElementsByClassName(path)[0].setAttribute('onmouseover', document.getElementsByClassName(path)[0].getAttribute('onmouseover').split(';')[0] + (\";UiActionsService.showTooltip(evt, '\" + tooltip + \"', '\" + path + \"', '\" + _this_1.rv3VUEcomponent.proteinColorMap.get(chain) + \"', '\" + _this_1.rv3VUEcomponent.proteinColorMap.get(chain) + \"')\"));\n                    document.getElementsByClassName(path)[0].setAttribute('onmouseout', document.getElementsByClassName(path)[0].getAttribute('onmouseout').split(';')[0] + (\";UiActionsService.hideTooltip('\" + path + \"')\"));\n                }\n            });\n        });\n        chem_mods.forEach(function (value, key) {\n            var tooltip = \"Modified_nucleotide:\";\n            var circlePath = \"circle_\" + _this_1.pluginOptions.pdbId + \"_\" + key;\n            var path = \"rnaviewEle rnaviewEle_\" + _this_1.pluginOptions.pdbId + \" rnaview_\" + _this_1.pluginOptions.pdbId + \"_\" + key;\n            var mod = '';\n            for (var val in value) {\n                tooltip += \" \" + value[val];\n                mod = value[val];\n            }\n            _this_1.toolTips.set(key, tooltip);\n            document.getElementsByClassName(circlePath)[0].setAttribute('onmouseover', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseover').split(';')[0] + (\";UiActionsService.showTooltip(evt, '\" + tooltip + \"', '\" + circlePath + \"', '\" + _this_1.rv3VUEcomponent.modifiedColorMap.get(mod) + \"', '\" + _this_1.rv3VUEcomponent.modifiedColorMap.get(mod) + \"')\"));\n            document.getElementsByClassName(circlePath)[0].setAttribute('onmouseout', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseout').split(';')[0] + (\";UiActionsService.hideTooltip('\" + circlePath + \"')\"));\n            if (document.getElementsByClassName(path)[0]) {\n                document.getElementsByClassName(path)[0].setAttribute('onmouseover', document.getElementsByClassName(path)[0].getAttribute('onmouseover').split(';')[0] + (\";UiActionsService.showTooltip(evt, '\" + tooltip + \"', '\" + path + \"', '\" + _this_1.rv3VUEcomponent.modifiedColorMap.get(mod) + \"', '\" + _this_1.rv3VUEcomponent.modifiedColorMap.get(mod) + \"')\"));\n                document.getElementsByClassName(path)[0].setAttribute('onmouseout', document.getElementsByClassName(path)[0].getAttribute('onmouseout').split(';')[0] + (\";UiActionsService.hideTooltip('\" + path + \"')\"));\n            }\n        });\n    };\n    UiTemplateService.prototype.removeEventHandlers = function (svgData) {\n        /*\n        Removes all event handlers from SVG\n        */\n        var nodeList = svgData.childNodes[1].childNodes;\n        for (var i in nodeList) {\n            var el = nodeList[i];\n            if (el.attributes) {\n                var attributes = [].slice.call(el.attributes);\n                for (var i_1 = 0; i_1 < attributes.length; i_1++) {\n                    var att = attributes[i_1].name;\n                    if (att.indexOf(\"on\") === 0) {\n                        el.attributes.removeNamedItem(att);\n                    }\n                }\n            }\n        }\n        return svgData;\n    };\n    UiTemplateService.prototype.svgTemplate = function (apiData, FR3DData, FR3DNestedData) {\n        var _this_1 = this;\n        /*\n            Generates nucleotide, circle, and path HTML to show in SVG\n            @param apiData {ApiData}: the PDBe RNA structure API data\n            @param FR3DData {JSON}: the FR3D base pairing API data (un-nested)\n            @param FR3DNestedData {JSON}: the FR3D base pairing API data (nested)\n        */\n        var font_size = this.calculateFontSize(apiData);\n        var lastPathIndex = apiData.svg_paths.length - 1;\n        var locations2 = new Map();\n        apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n            if (recordIndex === 0 || recordIndex === 1 || recordIndex === lastPathIndex + 1)\n                return;\n            var pathStrParsed = pathStr.split('M').join(',').split(',');\n            var x1Val = Number(pathStrParsed[1]);\n            var y1Val = Number(pathStrParsed[2]);\n            var xVal = Number(pathStrParsed[3]);\n            var yVal = Number(pathStrParsed[4]);\n            var midX = (xVal + x1Val) / 2;\n            var midY = (yVal + y1Val) / 2;\n            locations2.set(apiData.label_seq_ids[recordIndex - 1], [midX, midY]);\n            _this_1.locations.set(apiData.label_seq_ids[recordIndex - 1], [xVal, yVal]);\n        });\n        apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n            if (recordIndex === 0 || recordIndex === 1 || recordIndex === (lastPathIndex + 1))\n                return;\n            var pathEleClass = \"rnaviewEle rnaviewEle_\" + _this_1.pluginOptions.pdbId + \" rnaview_\" + _this_1.pluginOptions.pdbId + \"_\" + apiData.label_seq_ids[recordIndex - 1];\n            var strokeColor = ((_a = _this_1.pluginOptions.theme) === null || _a === void 0 ? void 0 : _a.color) || '#323232';\n            var strokeWide = ((_b = _this_1.pluginOptions.theme) === null || _b === void 0 ? void 0 : _b.strokeWidth) || '2';\n            var isUnobserved = false;\n            if (apiData.unobserved_label_seq_ids && apiData.unobserved_label_seq_ids.indexOf(apiData.label_seq_ids[recordIndex - 1]) > -1) {\n                strokeColor = ((_c = _this_1.pluginOptions.theme) === null || _c === void 0 ? void 0 : _c.unobservedColor) || '#ccc';\n                isUnobserved = true;\n            }\n            var pathStrParsed = pathStr.split('M').join(',').split(',');\n            var xVal = Number(pathStrParsed[3]);\n            var yVal = Number(pathStrParsed[4]);\n            var deltaX = font_size / 2;\n            var deltaY = font_size / 2;\n            var newPathStr;\n            if (recordIndex < (lastPathIndex)) {\n                var newX = locations2.get(apiData.label_seq_ids[recordIndex - 1])[0];\n                var newX2 = locations2.get(apiData.label_seq_ids[recordIndex])[0];\n                var newY = locations2.get(apiData.label_seq_ids[recordIndex - 1])[1];\n                var newY2 = locations2.get(apiData.label_seq_ids[recordIndex])[1];\n                newPathStr = \"M\" + (newX + deltaX) + \",\" + (newY - deltaY) + \",\" + (newX2 + deltaX) + \",\" + (newY2 - deltaY);\n            }\n            else {\n                var newX = locations2.get(apiData.label_seq_ids[recordIndex - 1])[0];\n                var newY = locations2.get(apiData.label_seq_ids[recordIndex - 1])[1];\n                var newX2 = 2 * xVal - newX;\n                var newY2 = 2 * yVal - newY;\n                newPathStr = \"M\" + (newX + deltaX) + \",\" + (newY - deltaY) + \",\" + (newX2 + deltaX) + \",\" + (newY2 - deltaY);\n            }\n            pathStr = newPathStr;\n            _this_1.pathStrs.push(\"<path \\n                    class=\\\"\" + pathEleClass + \"\\\" stroke-width=\\\"\" + strokeWide + \"\\\" stroke=\\\"\" + strokeColor + \"\\\" d=\\\"\" + pathStr + \"\\\" \\n                    data-stroke-color=\\\"\" + strokeColor + \"\\\" \\n                    onclick=\\\"UiActionsService.selectNucleotide('\" + _this_1.pluginOptions.pdbId + \"', '\" + _this_1.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", 'click', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \"', event, \" + (((_d = _this_1.pluginOptions.theme) === null || _d === void 0 ? void 0 : _d.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" \\n                    onmouseover=\\\"UiActionsService.selectNucleotide('\" + _this_1.pluginOptions.pdbId + \"', '\" + _this_1.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", 'mouseover', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \"', event, \" + (((_e = _this_1.pluginOptions.theme) === null || _e === void 0 ? void 0 : _e.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" \\n                    onmouseout=\\\"UiActionsService.unSelectNucleotide('\" + _this_1.pluginOptions.pdbId + \"', '\" + _this_1.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", \" + isUnobserved + \", event)\\\">\\n                </path>\");\n            _this_1.circleStrs.push(\"<circle class=\\\"circle_\" + _this_1.pluginOptions.pdbId + \"_\" + apiData.label_seq_ids[recordIndex - 1] + \"\\\" cx=\\\"\" + (xVal + deltaX) + \"\\\" cy=\\\"\" + (yVal - deltaY) + \"\\\" r=\\\"\" + 2 * font_size / 3 + \"\\\" display=\\\"none\\\" alignment-baseline=\\\"middle\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" onclick=\\\"UiActionsService.selectNucleotide('\" + _this_1.pluginOptions.pdbId + \"', '\" + _this_1.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", 'click', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \"', event, \" + (((_f = _this_1.pluginOptions.theme) === null || _f === void 0 ? void 0 : _f.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" \\n                onmouseover=\\\"UiActionsService.selectNucleotide('\" + _this_1.pluginOptions.pdbId + \"', '\" + _this_1.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", 'mouseover', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \"', event, \" + (((_g = _this_1.pluginOptions.theme) === null || _g === void 0 ? void 0 : _g.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" \\n                onmouseout=\\\"UiActionsService.unSelectNucleotide('\" + _this_1.pluginOptions.pdbId + \"', '\" + _this_1.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", \" + isUnobserved + \", event)\\\"/>\");\n            _this_1.nucleotideStrs.push(\"<text href=\\\"#\" + pathEleClass + \"\\\" class=\\\"\" + pathEleClass + \"\\\" x=\\\"\" + xVal + \"\\\" y=\\\"\" + yVal + \"\\\" font-size = \\\"\" + font_size + \"px\\\" onclick=\\\"UiActionsService.selectNucleotide('\" + _this_1.pluginOptions.pdbId + \"', '\" + _this_1.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", 'click', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \"', event, \" + (((_h = _this_1.pluginOptions.theme) === null || _h === void 0 ? void 0 : _h.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" \\n                onmouseover=\\\"UiActionsService.selectNucleotide('\" + _this_1.pluginOptions.pdbId + \"', '\" + _this_1.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", 'mouseover', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \"', event, \" + (((_j = _this_1.pluginOptions.theme) === null || _j === void 0 ? void 0 : _j.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" \\n                onmouseout=\\\"UiActionsService.unSelectNucleotide('\" + _this_1.pluginOptions.pdbId + \"', '\" + _this_1.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", \" + isUnobserved + \", event)\\\">\" + apiData.sequence[recordIndex - 2] + \"</text>\");\n        });\n        var baseArray = FR3DData.annotations;\n        var nestedBaseArray = FR3DNestedData.annotations;\n        this.baseStrs.set('cWW', [true, []]);\n        this.baseStrs.set('tWW', [false, []]);\n        this.baseStrs.set('cWH', [false, []]);\n        this.baseStrs.set('tWH', [false, []]);\n        this.baseStrs.set('cWS', [false, []]);\n        this.baseStrs.set('tWS', [false, []]);\n        this.baseStrs.set('cHH', [false, []]);\n        this.baseStrs.set('tHH', [false, []]);\n        this.baseStrs.set('cHS', [false, []]);\n        this.baseStrs.set('tHS', [false, []]);\n        this.baseStrs.set('cSS', [false, []]);\n        this.baseStrs.set('tSS', [false, []]);\n        this.nestedBaseStrs.set('cWW', [true, []]);\n        this.nestedBaseStrs.set('tWW', [false, []]);\n        this.nestedBaseStrs.set('cWH', [false, []]);\n        this.nestedBaseStrs.set('tWH', [false, []]);\n        this.nestedBaseStrs.set('cWS', [false, []]);\n        this.nestedBaseStrs.set('tWS', [false, []]);\n        this.nestedBaseStrs.set('cHH', [false, []]);\n        this.nestedBaseStrs.set('tHH', [false, []]);\n        this.nestedBaseStrs.set('cHS', [false, []]);\n        this.nestedBaseStrs.set('tHS', [false, []]);\n        this.nestedBaseStrs.set('cSS', [false, []]);\n        this.nestedBaseStrs.set('tSS', [false, []]);\n        nestedBaseArray.forEach(function (baseStr) {\n            _this_1.calcBaseStrs(baseStr, _this_1.nestedBaseStrs, font_size);\n        });\n        baseArray.forEach(function (baseStr) {\n            _this_1.calcBaseStrs(baseStr, _this_1.baseStrs, font_size);\n        });\n        this.baseStrs.forEach(function (value, key) {\n            if (value[0]) {\n                _this_1.displayBaseStrs += value[1].join('');\n            }\n            if (_this_1.nestedBaseStrs.get(key)[0]) {\n                _this_1.displayNestedBaseStrs += _this_1.nestedBaseStrs.get(key)[1].join('');\n            }\n        });\n        return \"\\n        <div style=\\\"width:100%;height:100%;z-index:0;position:absolute;\\\">\\n            <svg preserveAspectRatio=\\\"xMidYMid meet\\\" \\n            viewBox=\\\"0 0 \" + apiData.dimensions.width + \" \" + apiData.dimensions.height + \"\\\" \\n            style=\\\"width:100%;height:100%;position:relative;\\\">\\n                <g class=\\\"rnaTopoSvgSelection rnaTopoSvgSelection_\" + this.pluginOptions.pdbId + \"\\\"></g>\\n            </svg>\\n        </div>\\n        <div style=\\\"width:100%;height:100%;z-index:1;position:absolute;\\\">\\n            <svg preserveAspectRatio=\\\"xMidYMid meet\\\"\\n            viewBox=\\\"0 0 \" + apiData.dimensions.width + \" \" + apiData.dimensions.height + \"\\\" \\n            style=\\\"width:100%;height:100%;position:relative;\\\">\\n                <g class=\\\"rnaTopoSvgHighlight rnaTopoSvgHighlight_\" + this.pluginOptions.pdbId + \"\\\"></g>\\n            </svg>\\n        </div>\\n        <div id=\\\"tooltip\\\" display=\\\"none\\\" style=\\\"position:absolute; display: none;\\\"></div> \\n            <div style=\\\"width:100%;height:100%;z-index:2;position:absolute;\\\">\\n                <svg class=\\\"rnaTopoSvg\\\" preserveAspectRatio=\\\"xMidYMid meet\\\" \\n                    viewBox=\\\"0 0 \" + apiData.dimensions.width + \" \" + apiData.dimensions.height + \"\\\" \\n                    style=\\\"width:100%;height:100%;\\\">\\n                        <g class=\\\"rnaTopoSvg_\" + this.pluginOptions.pdbId + \"\\\">\" + this.nucleotideStrs.join('') + this.circleStrs.join('') + this.displayBaseStrs + \"</g>\\n                </svg>\\n            </div>\";\n    };\n    UiTemplateService.prototype.title = function () {\n        /*\n        Makes structure title HTML\n        */\n        return \"<span class=\\\"pdb-rna-view-title\\\">\" + this.pluginOptions.pdbId.toUpperCase() + \" Chain \" + this.pluginOptions.chainId + \"</span>\";\n    };\n    UiTemplateService.prototype.tooltip = function () {\n        /*\n        Makes tooltip HTML\n        */\n        return \"<span class=\\\"pdb-rna-view-tooltip\\\" id=\\\"\" + this.pluginOptions.pdbId + \"-rnaTopologyTooltip\\\"></span>\";\n    };\n    UiTemplateService.prototype.actionButtons = function () {\n        /*\n        Generates buttons in upper right corner of viewer\n        */\n        return \"<div class=\\\"pdb-rna-view-btn-group\\\">\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-in\\\" id=\\\"rnaTopologySaveSVG-\" + this.pluginOptions.pdbId + \"\\\">\\n                <img class=\\\"saveSVG\\\" src=\\\"static/alignments/png/Save.png\\\" style=\\\"height:24px; width: 24px; border:0;position: relative;cursor:pointer;\\\" title=\\\"saveSVG\\\"/>\\n            </span>\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-in\\\" id=\\\"rnaTopologyZoomIn-\" + this.pluginOptions.pdbId + \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z\\\" />\\n                </svg>\\n            </span>\\n            \\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-out\\\" id=\\\"rnaTopologyZoomOut-\" + this.pluginOptions.pdbId + \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z\\\" />\\n                </svg>\\n            </span>\\n\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Reset\\\" id=\\\"rnaTopologyReset-\" + this.pluginOptions.pdbId + \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M12,6V9L16,5L12,1V4A8,8 0 0,0 4,12C4,13.57 4.46,15.03 5.24,16.26L6.7,14.8C6.25,13.97 6,13 6,12A6,6 0 0,1 12,6M18.76,7.74L17.3,9.2C17.74,10.04 18,11 18,12A6,6 0 0,1 12,18V15L8,19L12,23V20A8,8 0 0,0 20,12C20,10.43 19.54,8.97 18.76,7.74Z\\\" />\\n                </svg>\\n            </span>\\n        </div>\";\n    };\n    UiTemplateService.prototype.renderError = function (type) {\n        /*\n        Displays error message if rendering fails\n        */\n        var errorContent = \"<div class=\\\"pdb-rna-view-error\\\">Error! Something went wrong!</div>\";\n        if (type === 'apiError') {\n            errorContent = \"<div class=\\\"pdb-rna-view-error\\\">\\n                RNA topology data for \" + this.pluginOptions.pdbId.toUpperCase() + \" | \" + this.pluginOptions.entityId + \" | \" + this.pluginOptions.chainId.toUpperCase() + \" is not available!\\n            </div>\";\n        }\n        this.containerElement.innerHTML = \"<div class=\\\"pdb-rna-view-container\\\">\" + errorContent + \"</div>\";\n    };\n    UiTemplateService.prototype.saveSVG = function () {\n        /*\n        Removes events from SVG and downloads a copy\n        */\n        function getNode(n, v) {\n            n = document.createElementNS(\"http://www.w3.org/2000/svg\", n);\n            for (var p in v)\n                n.setAttributeNS(null, p.replace(/[0-9]/g, 'o').replace(/\\$/g, 'd').replace(/\\[/g, 'b').replace(/[A-Z]/g, function (m, p, o, s) { return \"-\" + m.toLowerCase(); }), v[p]);\n            return n;\n        }\n        var svgData1 = document.querySelector(\"svg.rnaTopoSvg\");\n        var svgData_forsave = svgData1.cloneNode(true);\n        svgData_forsave = this.removeEventHandlers(svgData_forsave);\n        var svg = getNode(\"svg\");\n        svg.appendChild(svgData_forsave);\n        function saveSvg1(svgEl, name) {\n            svgEl.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n            var svgData = svgEl.outerHTML;\n            var preface = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n';\n            var svgBlob = new Blob([preface, svgData], { type: \"image/svg+xml;charset=utf-8\" });\n            var svgUrl = URL.createObjectURL(svgBlob);\n            var downloadLink = document.createElement(\"a\");\n            downloadLink.href = svgUrl;\n            downloadLink.download = name;\n            document.body.appendChild(downloadLink);\n            downloadLink.click();\n            document.body.removeChild(downloadLink);\n        }\n        saveSvg1(svg, 'rv3Topology.svg');\n    };\n    return UiTemplateService;\n}());\nexports.UiTemplateService = UiTemplateService;\n//# sourceMappingURL=uiTemplate.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["tslib_1","data_1","uiTemplate_1","uiActions_1","customEvents_1","PdbRnaViewerPlugin","CustomEvents","Object","defineProperty","exports","value","create","eventTypeArr","eventObj","ei","el","length","eventType","event_1","MouseEvent","window","document","createEvent","initEvent","dispatchCustomEvent","event","eventData","targetElement","dispatchEvent","subscribeToComponentEvents","pluginCtx","addEventListener","e","auth_seq_id","auth_asym_id","options","chainId","selectResidue","clearSelection","residueNumber","BanNameHelper","DataService","prototype","getApiData","entityId","pdbId","__awaiter","this","apiUrl","e_1","__generator","_a","label","trys","push","toLowerCase","fetch","sent","json","handleError","getFR3DData","csvUrl","e_2","handleFR3DError","getFR3DNestedData","e_3","console","log","getBanName","PchainId","UiActionsService","applyButtonActions","_this","svgEle","d3","select","zoom1","zoom","on","attr","transform","call","stopPropagation","scaleBy","transition","duration","transformValue","_groups","getAttribute","transformValMatch","match","zoomIdentity","clearHighlight","unSelectNucleotide","label_seq_id","isUnobserved","stopImmediatePropagation","ttEle","getElementById","style","display","undefined","lastSelected","evData","textElement","querySelector","pdbevents","showCheckboxes","checkboxes","expanded","selected","nucleotide","getElementsByClassName","selectedColor","nodeName","setAttribute","innerHTML","showTooltip","evt","text","path","color","fill","tooltip","id","left","layerX","top","layerY","selectedBPColor","fillBPColor","node","hideTooltip","drawCircle","index","circle","BBox","getBBox","nx","x","width","ny","y","height","selectedPath","selectNucleotide","residue","colorNucleotide","eventName","type","shape","strokeColor","UiTemplateService","containerElement","pluginOptions","apiData","_this_1","selectSections_RV1","nPropertyConstants","mapped_n_properties","nColorData","parsePVData","getEntropyAnnotations","getTWCAnnotations","getCustomAnnotations","getAnnotationArray","rv3VUEcomponent","vm","locations","Map","menuStyle","pathStrs","nucleotideStrs","circleStrs","baseStrs","nestedBaseStrs","basePairIDs","mappingValue","showAllNucleotides","mouseOverMap","eventMap","toolTips","selectSectionsTest","defaultColours","domainSelection","mouseOver","borderColor","qualityGreen","qualityRed","qualityYellow","qualityRiboVision","qualityOrange","qualityBlank","mapped_chains","Set","mapped_modifications","i","colorMap","selectBoxEle","selectedValue","parseInt","selectedDomain","domainTypes","data","forEach","val","indexOf","start","tempDomain","colorMapHelper","mappingDropdown","num","selected_property","colorMapContacts","pchainid","includes","protein_contacts","nPath","cPath","split","delete","chain","proteinColorMap","get","add","addEvents","colorMapModifications","modifications","modified_residues","mod","modifiedColorMap","uiActionsService","render","FR3DData","FR3DNestedData","svgTemplate","title","actionButtons","createModeDropdown","createBPDropdown","saveSVG","bind","getAnnotationFromRibovision","changeBP","displayBaseStrs","displayNestedBaseStrs","allBP","checked","key","set","join","PathOrNucleotide","size","optionList_1","createDomainDropdown","optionList_2","opt","create2D3DAnnotations","name","residueDetails","TWCrgbMap","TWCData","chain_start","chain_end","rgb_color","entity_id","residue_number","sideChain","String","colors","end","tooltipMsg","Number","parseFloat","toPrecision","tooltipPosition","label_seq_ids","focus","separatedData","min","Math","apply","max","colormapArray","current","filter","order","topology_loaded","calculateFontSize","xVals","yVals","dist","lastPathIndex","svg_paths","pathStr","recordIndex","pathStrParsed","xDiff","yDiff","pow","sortedDist","sort","a","b","floor","calcBaseStrs","baseStr","baseMap","font_size","seq_id1","seq_id2","bp","pathID","n1","nt1","n2","nt2","temp","temp2","charAt","slice","reverse","x1","x2","y1","y2","distance","x1_prime","linearlyInterpolate","y1_prime","x2_prime","y2_prime","xm","ym","distance2","defaultAction","phi","atan2","PI","xm1","ym1","xm2","ym2","v0","v1","interpolationFactor","displayBP","contacts","newList","chem_mods","circlePath","promises","Promise","all","then","banNames","BanName","removeEventHandlers","svgData","nodeList","childNodes","attributes","i_1","att","removeNamedItem","locations2","x1Val","y1Val","xVal","yVal","midX","midY","_b","_c","_d","_e","_f","_g","_h","_j","pathEleClass","theme","strokeWide","strokeWidth","unobserved_label_seq_ids","unobservedColor","newPathStr","deltaX","deltaY","newX","newX2","newY","sequence","highlightColor","baseArray","annotations","nestedBaseArray","dimensions","toUpperCase","renderError","errorContent","svgData_forsave","cloneNode","svg","n","v","p","createElementNS","setAttributeNS","replace","m","o","s","getNode","appendChild","svgEl","outerHTML","svgBlob","Blob","svgUrl","URL","createObjectURL","downloadLink","createElement","href","download","body","click","removeChild","saveSvg1","extendStatics","d","setPrototypeOf","__proto__","Array","hasOwnProperty","__extends","TypeError","__","constructor","__assign","assign","t","arguments","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","next","rejected","result","done","f","g","_","ops","verb","Symbol","iterator","op","pop","__createBinding","k","k2","enumerable","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","j","jl","__spreadArray","to","from","pack","l","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","__esModule","__importDefault","default","__classPrivateFieldGet","receiver","state","kind","has","__classPrivateFieldSet","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","definition","obj","prop","toStringTag","rvAPI","dataService","dataUrls","apiDataJ","FR3DDataJ","FR3DNestedDataJ","targetEle","uiTemplateService","subscribeEvents","r2dtjson","RNA_2D_json","RNA_BP_json","highlightResidue"],"sourceRoot":""}