{"version":3,"file":"pdb-rna-viewer-plugin-0.1.0.js","mappings":"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","sources":["webpack://pdb-rna-viewer/./lib/index.js","webpack://pdb-rna-viewer/./lib/customEvents.js","webpack://pdb-rna-viewer/./lib/data.js","webpack://pdb-rna-viewer/./lib/uiActions.js","webpack://pdb-rna-viewer/./lib/uiTemplate.js","webpack://pdb-rna-viewer/./node_modules/tslib/tslib.es6.mjs","webpack://pdb-rna-viewer/webpack/bootstrap","webpack://pdb-rna-viewer/webpack/runtime/define property getters","webpack://pdb-rna-viewer/webpack/runtime/hasOwnProperty shorthand","webpack://pdb-rna-viewer/webpack/runtime/make namespace object"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar data_1 = require(\"./data\");\nvar uiTemplate_1 = require(\"./uiTemplate\");\nvar uiActions_1 = require(\"./uiActions\");\nvar customEvents_1 = require(\"./customEvents\");\nvar PdbRnaViewerPlugin = /** @class */ (function () {\n    function PdbRnaViewerPlugin() {\n        this.rvAPI = false;\n        this.dataService = new data_1.DataService();\n    }\n    ;\n    PdbRnaViewerPlugin.prototype.render = function (target, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, _b, _c, _d, vm, r2dtjson;\n            return tslib_1.__generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        if (!target || !options.pdbId || !options.chainId || !options.entityId) {\n                            console.log('Invalid plugin input!');\n                            return [2 /*return*/];\n                        }\n                        this.options = options;\n                        _a = this;\n                        return [4 /*yield*/, this.dataService.getApiData(this.options.entityId, this.options.chainId, this.options.pdbId)];\n                    case 1:\n                        _a.apiData = _e.sent();\n                        _b = this;\n                        return [4 /*yield*/, this.dataService.getFR3DData(this.options.pdbId, this.options.chainId)];\n                    case 2:\n                        _b.FR3DData = _e.sent();\n                        _c = this;\n                        return [4 /*yield*/, this.dataService.getFR3DNestedData(this.options.pdbId, this.options.chainId)];\n                    case 3:\n                        _c.FR3DNestedData = _e.sent();\n                        _d = this;\n                        return [4 /*yield*/, data_1.BanNameHelper.getBanName(this.options.pdbId, 'H')];\n                    case 4:\n                        _d.BanName = _e.sent();\n                        this.targetEle = target;\n                        this.uiTemplateService = new uiTemplate_1.UiTemplateService(this.targetEle, this.options, this.apiData);\n                        //console.log(\"API\", this.options.pdbId, this.apiData);\n                        if (this.apiData) {\n                            // draw topology\n                            this.uiTemplateService.render(this.apiData, this.FR3DData, this.FR3DNestedData, this.BanName);\n                            customEvents_1.CustomEvents.subscribeToComponentEvents(this);\n                        }\n                        else {\n                            if (options.rvAPI == true)\n                                this.rvAPI = true;\n                            if (this.rvAPI) {\n                                vm = window.vm;\n                                r2dtjson = vm.json_structures_from_r2dt;\n                                this.apiData = r2dtjson.RNA_2D_json;\n                                this.FR3DData = r2dtjson.RNA_BP_json;\n                                this.FR3DNestedData = r2dtjson.RNA_BP_json;\n                                // console.log('dataUrls', this.apiData);\n                                // console.log('dataUrls', this.FR3DData);\n                                // draw topology\n                                this.uiTemplateService.render(this.apiData, this.FR3DData, this.FR3DNestedData, this.BanName);\n                            }\n                            ;\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PdbRnaViewerPlugin.prototype.selectResidue = function (label_seq_id, color) {\n        uiActions_1.UiActionsService.selectNucleotide(this.options.pdbId, this.options.entityId, label_seq_id, 'mouseover', false, color);\n    };\n    PdbRnaViewerPlugin.prototype.clearSelection = function (label_seq_id) {\n        uiActions_1.UiActionsService.unSelectNucleotide(this.options.pdbId, this.options.entityId, label_seq_id, false);\n    };\n    PdbRnaViewerPlugin.prototype.highlightResidue = function (label_seq_id, color) {\n        uiActions_1.UiActionsService.colorNucleotide(this.options.pdbId, label_seq_id, color, 'highlight');\n    };\n    PdbRnaViewerPlugin.prototype.clearHighlight = function () {\n        uiActions_1.UiActionsService.clearHighlight(this.options.pdbId);\n    };\n    return PdbRnaViewerPlugin;\n}());\nwindow.PdbRnaViewerPlugin = PdbRnaViewerPlugin;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CustomEvents = void 0;\nvar CustomEvents;\n(function (CustomEvents) {\n    function create(eventTypeArr) {\n        var eventObj = {};\n        for (var ei = 0, el = eventTypeArr.length; ei < el; ei++) {\n            var eventType = eventTypeArr[ei];\n            var event_1 = void 0;\n            if (typeof MouseEvent == 'function') {\n                // current standard\n                event_1 = new MouseEvent(eventType, { 'view': window, 'bubbles': true, 'cancelable': true });\n            }\n            else if (typeof document.createEvent == 'function') {\n                // older standard\n                event_1 = document.createEvent('MouseEvents');\n                event_1.initEvent(eventType, true /* bubbles */, true /* cancelable */);\n            }\n            eventObj[eventType] = event_1;\n        }\n        ;\n        return eventObj;\n    }\n    CustomEvents.create = create;\n    function dispatchCustomEvent(event, eventData, targetElement) {\n        event['eventData'] = eventData;\n        targetElement.dispatchEvent(event);\n    }\n    CustomEvents.dispatchCustomEvent = dispatchCustomEvent;\n    function subscribeToComponentEvents(pluginCtx) {\n        document.addEventListener('protvista-click', function (e) {\n            if (typeof e.detail !== 'undefined') {\n                var startResidue = parseInt(e.detail.start);\n                var endResidue = parseInt(e.detail.end);\n                pluginCtx.clearSelection();\n                for (var i = startResidue; i <= endResidue; i++) {\n                    pluginCtx.selectResidue(i, e.detail.color);\n                }\n            }\n        });\n        document.addEventListener('protvista-mouseover', function (e) {\n            if (typeof e.detail !== 'undefined') {\n                var startResidue = parseInt(e.detail.start);\n                var endResidue = parseInt(e.detail.end);\n                pluginCtx.clearHighlight();\n                for (var i = startResidue; i <= endResidue; i++) {\n                    pluginCtx.highlightResidue(i, e.detail.color);\n                }\n            }\n        });\n        document.addEventListener('protvista-mouseout', function (e) {\n            pluginCtx.clearHighlight();\n        });\n        document.addEventListener(\"PDB.molstar.click\", function (e) {\n            if (typeof e.eventData !== 'undefined' && typeof e.eventData.residueNumber !== 'undefined' && e.eventData.auth_asym_id === pluginCtx.options.chainId) {\n                pluginCtx.clearSelection();\n                pluginCtx.selectResidue(e.eventData.residueNumber);\n            }\n        });\n        document.addEventListener(\"PDB.molstar.mouseover\", function (e) {\n            if (typeof e.eventData !== 'undefined' && typeof e.eventData.residueNumber !== 'undefined' && e.eventData.auth_asym_id === pluginCtx.options.chainId) {\n                //pluginCtx.clearHighlight();\n                //pluginCtx.highlightResidue(e.eventData.residueNumber);\n                pluginCtx.selectResidue(e.eventData.auth_seq_id);\n            }\n            else {\n                pluginCtx.clearSelection(undefined);\n            }\n        });\n        document.addEventListener(\"PDB.molstar.mouseout\", function (e) {\n            //pluginCtx.clearHighlight();\n            pluginCtx.clearSelection(e.eventData.residueNumber);\n        });\n    }\n    CustomEvents.subscribeToComponentEvents = subscribeToComponentEvents;\n})(CustomEvents = exports.CustomEvents || (exports.CustomEvents = {}));\n//# sourceMappingURL=customEvents.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BanNameHelper = exports.DataService = void 0;\nvar tslib_1 = require(\"tslib\");\nvar rv3VUEcomponent = window.vm;\nvar DataService = /** @class */ (function () {\n    function DataService() {\n    }\n    DataService.prototype.getApiData = function (entityId, chainId, pdbId) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var apiUrl, e_1;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        apiUrl = \"https://www.ebi.ac.uk/pdbe/static/entry/\".concat(pdbId.toLowerCase(), \"_\").concat(entityId, \"_\").concat(chainId, \".json\");\n                        return [4 /*yield*/, fetch(apiUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_1 = _a.sent();\n                        this.handleError(e_1);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.getFR3DData = function (pdbId, chainId) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var csvUrl, e_2;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        csvUrl = \"https://rnacentral.org/api/internal/proxy?url=http://rna.bgsu.edu/rna3dhub/rest/getChainSequenceBasePairs?pdb_id=\".concat(pdbId.toLowerCase(), \"&chain=\").concat(chainId, \"&only_nested=False\");\n                        return [4 /*yield*/, fetch(csvUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: \n                    //const csvUrl = `http://rna.bgsu.edu/rna3dhub/rest/getSequenceBasePairs?pdb_id=${pdbId.toLowerCase()}&chain=${chainId}`\n                    //const csvUrl = `https://rnacentral.org/api/internal/proxy?url=http://rna.bgsu.edu/rna3dhub/rest/getSequenceBasePairs?pdb_id=${pdbId.toLowerCase()}&chain=${chainId}&only_nested=True`\n                    //const csvUrl = `http://rna.bgsu.edu/rna3dhub/pdb/${pdbId.toLowerCase()}/interactions/fr3d/basepairs/csv`;\n                    return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_2 = _a.sent();\n                        this.handleFR3DError(e_2);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.getFR3DNestedData = function (pdbId, chainId) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var csvUrl, e_3;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        csvUrl = \"https://rnacentral.org/api/internal/proxy?url=http://rna.bgsu.edu/rna3dhub/rest/getChainSequenceBasePairs?pdb_id=\".concat(pdbId.toLowerCase(), \"&chain=\").concat(chainId, \"&only_nested=True\");\n                        return [4 /*yield*/, fetch(csvUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: \n                    //const csvUrl = `https://rnacentral.org/api/internal/proxy?url=http://rna.bgsu.edu/rna3dhub/rest/getSequenceBasePairs?pdb_id=${pdbId.toLowerCase()}&chain=${chainId}&only_nested=True`\n                    //const csvUrl = `http://rna.bgsu.edu/rna3dhub/pdb/${pdbId.toLowerCase()}/interactions/fr3d/basepairs/csv`;\n                    return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_3 = _a.sent();\n                        this.handleFR3DError(e_3);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.handleError = function (e) {\n        rv3VUEcomponent.structFailed = true;\n        console.log(\"RNA topology data not available!\", e);\n    };\n    DataService.prototype.handleFR3DError = function (e) {\n        console.log(\"FR3D mapping data not available!\", e);\n    };\n    return DataService;\n}());\nexports.DataService = DataService;\n/*export class BanNameHelper {\n    public static async getBanName(pdbId : string, PchainId : string): Promise<JSON | undefined> {\n           try {\n               const apiUrl = `https://api.ribosome.xyz/neo4j/get_banclass_for_chain/?pdbid=${pdbId}&auth_asym_id=${PchainId}&format=json`\n               return await (await fetch(apiUrl)).json() as JSON;\n           } catch (e) {\n               //console.log(`Ban naming is not available!`, e);\n               return void 0;\n           };\n       }\n    }*/\nvar BanNameHelper = /** @class */ (function () {\n    function BanNameHelper() {\n    }\n    BanNameHelper.getBanName = function (pdbId, PchainId) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var cacheKey, vm, matches, _i, _a, chain;\n            return tslib_1.__generator(this, function (_b) {\n                cacheKey = \"\".concat(pdbId, \"_\").concat(PchainId);\n                // Check if the value is in the map\n                if (BanNameHelper.banNameMap.has(cacheKey)) {\n                    return [2 /*return*/, BanNameHelper.banNameMap.get(cacheKey)];\n                }\n                vm = window.vm;\n                if (!vm || !vm.unfilteredChains_orig) {\n                    console.error(\"vm or vm.unfilteredChains_orig is not defined\");\n                    return [2 /*return*/, void 0]; // or handle the error appropriately\n                }\n                try {\n                    matches = vm.unfilteredChains_orig.filter(function (entry) {\n                        return entry.in_chains.includes(PchainId);\n                    });\n                    for (_i = 0, _a = vm.protein_chains; _i < _a.length; _i++) {\n                        chain = _a[_i];\n                        chain.banname_2D = matches[0].molecule_name[0].replace('Large ribosomal subunit', 'LSU').replace('Small ribosomal subunit', 'SSU');\n                    }\n                    return [2 /*return*/, matches.map(function (entry) {\n                            return entry.molecule_name[0].replace('Large ribosomal subunit protein ', '').replace('Small ribosomal subunit protein ', '');\n                        })];\n                }\n                catch (e) {\n                    console.error(\"Error fetching ban name for \".concat(cacheKey), e);\n                    return [2 /*return*/, void 0];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    BanNameHelper.banNameMap = new Map();\n    return BanNameHelper;\n}());\nexports.BanNameHelper = BanNameHelper;\n//# sourceMappingURL=data.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UiActionsService = void 0;\nvar customEvents_1 = require(\"./customEvents\");\nvar UiActionsService = /** @class */ (function () {\n    function UiActionsService(pdbId) {\n        this.pdbId = pdbId;\n    }\n    UiActionsService.prototype.applyButtonActions = function () {\n        var _this = this;\n        var svgEle = d3.select('.rnaTopoSvg');\n        // initialize SVG zoom behaviour and remove mouse wheel zoom events\n        var zoom1 = d3.zoom().on('zoom', function () {\n            d3.select(\".rnaTopoSvg_\".concat(_this.pdbId)).attr(\"transform\", d3.event.transform);\n            d3.select(\".rnaTopoSvgHighlight_\".concat(_this.pdbId)).attr(\"transform\", d3.event.transform);\n            d3.select(\".rnaTopoSvgSelection_\".concat(_this.pdbId)).attr(\"transform\", d3.event.transform);\n        });\n        d3.select(\".rnaTopoSvg\").call(zoom1)\n            .on('dblclick.zoom', null)\n            .on('wheel.zoom', null)\n            .on('mousewheel.zoom', null);\n        // zoom-in button behaviour\n        d3.select(\"#rnaTopologyZoomIn-\".concat(this.pdbId))\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            zoom1.scaleBy(svgEle.transition().duration(300), 1.2);\n        });\n        // zoom-out button behaviour\n        d3.select(\"#rnaTopologyZoomOut-\".concat(this.pdbId))\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            var rnaTopoSvg = d3.select(\".rnaTopoSvg_\".concat(_this.pdbId));\n            var transformValue = rnaTopoSvg._groups[0][0].getAttribute('transform');\n            if (transformValue && transformValue !== '') {\n                if (transformValue === null)\n                    return;\n                var transformValMatch = +transformValue.match(/.+scale\\((.*)\\)/)[1];\n                if (transformValMatch <= 1 || (transformValMatch - 0.3 <= 1)) {\n                    svgEle.transition().duration(300).call(zoom1.transform, d3.zoomIdentity);\n                    return;\n                }\n            }\n            zoom1.scaleBy(d3.select(\".rnaTopoSvg\").transition().duration(300), 0.8);\n        });\n        // reset button behaviour\n        d3.select(\"#rnaTopologyReset-\".concat(this.pdbId))\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            svgEle.transition().duration(300).call(zoom1.transform, d3.zoomIdentity);\n        });\n        // selection and highlight reset on canvas click\n        d3.select(\".pdb-rna-view-container-\".concat(this.pdbId))\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            UiActionsService.clearHighlight(_this.pdbId);\n            UiActionsService.clearSelection(_this.pdbId);\n        });\n    };\n    UiActionsService.unSelectNucleotide = function (pdbId, entityId, label_seq_id, isUnobserved, event, color) {\n        event === null || event === void 0 ? void 0 : event.stopImmediatePropagation();\n        UiActionsService.clearHighlight(pdbId);\n        var ttEle = document.getElementById(\"\".concat(pdbId, \"-rnaTopologyTooltip\"));\n        if (ttEle) {\n            ttEle.style.display = 'none';\n        }\n        if (!isUnobserved) {\n            if (label_seq_id == undefined) {\n                label_seq_id = this.lastSelected;\n            }\n            if (label_seq_id > -1) {\n                var evData = { pdbId: pdbId, label_seq_id: label_seq_id, entityId: entityId };\n                var textElement = document.querySelector(\".rnaview_\".concat(pdbId, \"_\").concat(label_seq_id));\n                if (textElement) {\n                    customEvents_1.CustomEvents.dispatchCustomEvent(UiActionsService.pdbevents['PDB.RNA.viewer.mouseout'], evData, textElement);\n                }\n            }\n        }\n    };\n    UiActionsService.showCheckboxes = function () {\n        var checkboxes = document.getElementById(\"checkboxes\");\n        if (!this.expanded) {\n            checkboxes.style.display = \"block\";\n            this.expanded = true;\n        }\n        else {\n            checkboxes.style.display = \"none\";\n            this.expanded = false;\n        }\n    };\n    UiActionsService.clearHighlight = function (pdbId) {\n        if (this.selected > -1) {\n            var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(pdbId, \" rnaview_\").concat(pdbId, \"_\").concat(this.selected))[0];\n            if (this.selectedColor && nucleotide) {\n                if (nucleotide.nodeName == 'text') {\n                    nucleotide.setAttribute(\"fill\", UiActionsService.selectedColor);\n                }\n                else {\n                    nucleotide.setAttribute(\"stroke\", UiActionsService.selectedColor);\n                }\n            }\n            else if (nucleotide) {\n                if (nucleotide.nodeName == 'text') {\n                    nucleotide.setAttribute(\"fill\", \"#323232\");\n                }\n                else {\n                    nucleotide.setAttribute(\"stroke\", \"#323232\");\n                }\n            }\n            this.selected = -1;\n        }\n        //document.querySelector(`.rnaTopoSvgHighlight_${pdbId}`)!.innerHTML = \"\";\n    };\n    UiActionsService.clearSelection = function (pdbId) {\n        document.querySelector(\".rnaTopoSvgSelection_\".concat(pdbId)) ? document.querySelector(\".rnaTopoSvgSelection_\".concat(pdbId)).innerHTML = \"\" : null;\n    };\n    UiActionsService.showTooltip = function (evt, text, path, color, fill) {\n        var tooltip = document.getElementById(\"tooltip\");\n        tooltip.id = \"tooltip\";\n        tooltip.innerHTML = text;\n        tooltip.style.display = \"block\";\n        tooltip.style.left = evt.layerX + 'px';\n        tooltip.style.top = evt.layerY + 'px';\n        UiActionsService.selectedBPColor = color;\n        UiActionsService.fillBPColor = fill;\n        var node = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0];\n        if (node.nodeName != 'text') {\n            node.setAttribute(\"stroke\", \"orange\");\n        }\n        node.setAttribute(\"fill\", \"orange\");\n    };\n    UiActionsService.hideTooltip = function (path) {\n        var tooltip = document.getElementById(\"tooltip\");\n        tooltip.style.display = \"none\";\n        var node = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0];\n        if (node.nodeName != 'text') {\n            node.setAttribute(\"stroke\", \"\".concat(UiActionsService.selectedBPColor));\n        }\n        node.setAttribute(\"fill\", \"\".concat(UiActionsService.fillBPColor));\n    };\n    UiActionsService.drawCircle = function (index, color, pdbId) {\n        var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\".concat(pdbId, \"_\").concat(index))[0];\n        var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(pdbId, \" rnaview_\").concat(pdbId, \"_\").concat(index))[0];\n        var BBox = nucleotide.getBBox();\n        var nx = (BBox.x + BBox.width / 2);\n        var ny = (BBox.y + BBox.height / 2);\n        circle.setAttribute(\"cx\", nx);\n        circle.setAttribute(\"cy\", ny);\n        circle.setAttribute(\"stroke\", \"\".concat(color));\n        circle.setAttribute(\"fill\", \"\".concat(color));\n        circle.style.display = \"block\";\n    };\n    UiActionsService.pdbevents = customEvents_1.CustomEvents.create(['PDB.RNA.viewer.click', 'PDB.RNA.viewer.mouseover', 'PDB.RNA.viewer.mouseout']);\n    UiActionsService.lastSelected = -1;\n    UiActionsService.selected = -1;\n    UiActionsService.selectedPath = '';\n    UiActionsService.selectedBPColor = '';\n    UiActionsService.fillBPColor = '';\n    UiActionsService.selectedColor = '';\n    UiActionsService.expanded = false;\n    UiActionsService.selectNucleotide = function (pdbId, entityId, label_seq_id, eventType, isUnobserved, residue, event, color) {\n        event === null || event === void 0 ? void 0 : event.stopImmediatePropagation();\n        if (document.querySelector(\"svg.rnaTopoSvg\")) {\n            UiActionsService.clearHighlight(pdbId);\n            UiActionsService.colorNucleotide(pdbId, label_seq_id, color, 'highlight');\n            UiActionsService.selected = label_seq_id;\n            UiActionsService.lastSelected = label_seq_id;\n            var ttEle = document.getElementById(\"\".concat(pdbId, \"-rnaTopologyTooltip\"));\n            ttEle.style.display = 'inline';\n            ttEle.innerHTML = \"<strong>\".concat(isUnobserved ? 'Unobserved ' : '', \"Residue \").concat(residue ? residue : '', \" \").concat(label_seq_id, \"</strong>\");\n            if (!isUnobserved) {\n                var eventName = (eventType === 'click') ? 'PDB.RNA.viewer.click' : 'PDB.RNA.viewer.mouseover';\n                var evData = { pdbId: pdbId, label_seq_id: label_seq_id, entityId: entityId };\n                var textElement = document.querySelector(\".rnaview_\".concat(pdbId, \"_\").concat(label_seq_id));\n                if (textElement) {\n                    customEvents_1.CustomEvents.dispatchCustomEvent(UiActionsService.pdbevents[eventName], evData, textElement);\n                }\n            }\n        }\n    };\n    UiActionsService.colorNucleotide = function (pdbId, label_seq_id, color, type, shape) {\n        //const textElement: any = document.querySelector(`.rnaview_${pdbId}_${label_seq_id}`);\n        //const textEleStrokeWidth = parseInt(textElement.getAttribute('stroke-width'));\n        var strokeColor = color || 'orange';\n        //const svgClassPrefix = (type === 'highlight') ? 'rnaTopoSvgHighlight' : 'rnaTopoSvgSelection';\n        //const highlightSvg = document.querySelector(`.${svgClassPrefix}_${pdbId}`);\n        /*\n        const newTextEle = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        newTextEle.setAttribute('stroke-width', (textEleStrokeWidth * 3).toString());\n        newTextEle.setAttribute('stroke', strokeColor);\n        newTextEle.setAttribute('fill', strokeColor);\n        highlightSvg!.appendChild(newTextEle);\n        */\n        if (shape == 'circle') {\n            var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\".concat(pdbId, \"_\").concat(label_seq_id))[0];\n            if (type == 'highlight') {\n                if (circle.getAttribute(\"stroke\")) {\n                    UiActionsService.selectedColor = circle.getAttribute(\"stroke\");\n                }\n            }\n            if (circle) {\n                circle.setAttribute(\"stroke\", \"\".concat(color));\n                circle.setAttribute(\"fill\", \"\".concat(color));\n                circle.style.display = \"block\";\n            }\n        }\n        var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(pdbId, \" rnaview_\").concat(pdbId, \"_\").concat(label_seq_id))[0];\n        if (nucleotide) {\n            if (nucleotide.nodeName == 'path') {\n                if (type == 'highlight') {\n                    if (nucleotide.getAttribute(\"stroke\")) {\n                        UiActionsService.selectedColor = nucleotide.getAttribute(\"stroke\");\n                    }\n                    else {\n                        UiActionsService.selectedColor = \"#323232\";\n                    }\n                }\n                nucleotide.setAttribute(\"stroke\", strokeColor);\n            }\n            else if (nucleotide.nodeName == 'text') {\n                if (type == 'highlight') {\n                    if (nucleotide.getAttribute(\"fill\")) {\n                        UiActionsService.selectedColor = nucleotide.getAttribute(\"fill\");\n                    }\n                    else {\n                        UiActionsService.selectedColor = \"#323232\";\n                    }\n                }\n                nucleotide.setAttribute(\"fill\", strokeColor);\n            }\n        }\n    };\n    return UiActionsService;\n}());\nexports.UiActionsService = UiActionsService;\nwindow.UiActionsService = UiActionsService;\n//# sourceMappingURL=uiActions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UiTemplateService = void 0;\nvar tslib_1 = require(\"tslib\");\nvar uiActions_1 = require(\"./uiActions\");\nvar data_1 = require(\"./data\");\nvar customEvents_1 = require(\"./customEvents\");\nvar UiTemplateService = /** @class */ (function () {\n    function UiTemplateService(containerElement, pluginOptions, apiData) {\n        var _this_1 = this;\n        this.selectSections_RV1 = window.selectSections_RV1;\n        this.aaPropertyConstants = window.aaPropertyConstants;\n        this.mapped_aa_properties = window.mapped_aa_properties;\n        this.aaColorData = window.aaColorData;\n        this.parsePVData = window.parsePVData;\n        this.getEntropyAnnotations = window.getEntropyAnnotations;\n        this.getTWCAnnotations = window.getTWCAnnotations;\n        this.getCustomAnnotations = window.getCustomAnnotations;\n        this.getAssociatedAnnotations = window.getAssociatedAnnotations;\n        this.getHelicalAnnotations = window.getHelicalAnnotations;\n        this.getPhaseAnnotations = window.getPhaseAnnotations;\n        this.getExpansionAnnotations = window.getExpansionAnnotations;\n        this.getAnnotationArray = window.getAnnotationArray;\n        this.rv3VUEcomponent = window.vm;\n        this.locations = new Map();\n        this.menuStyle = 'position:relative;z-index:10;height:7%;line-height:7%;background-color:#696969;padding: 0 10px;font-size:16px; color: #efefef;display:block;';\n        this.pathStrs = [];\n        this.nucleotideStrs = [];\n        this.circleStrs = [];\n        this.banNameMap = new Map();\n        this.baseStrs = new Map();\n        this.nestedBaseStrs = new Map();\n        this.basePairIDs = [];\n        this.mappingValue = '';\n        this.showAllNucleotides = false;\n        this.mouseOverMap = new Map();\n        this.eventMap = new Map();\n        this.toolTips = new Map();\n        this.selectSectionsTest = [];\n        this.defaultColours = {\n            domainSelection: 'rgb(255,0,0)',\n            mouseOver: 'rgb(105,105,105)',\n            borderColor: 'rgb(0,0,0)',\n            qualityGreen: 'rgb(0,182.85714285714286,0)',\n            qualityRed: 'rgb(291.42857142857144,0,0)',\n            qualityYellow: 'rgb(364.2857142857143,364.2857142857143,75.71428571428572)',\n            qualityRiboVision: \"rgb(203,203,203)\",\n            qualityOrange: 'rgb(291.42857142857144,121.42857142857143,0)',\n            qualityBlank: 'rgb(255,255,255)'\n        };\n        this.mapped_chains = new Set();\n        this.mapped_modifications = new Set();\n        this.drawCircle = function (pdbId, i, color) {\n            var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\".concat(pdbId, \"_\").concat(i))[0];\n            //const nucleotide = <SVGSVGElement>document.querySelector(`svg.rnaTopoSvg`)!.getElementsByClassName(`rnaviewEle rnaviewEle_${pdbId} rnaview_${pdbId}_${i}`)[0]\n            //const BBox = nucleotide.getBBox()\n            //const nx = `${BBox.x + BBox.width/2}`\n            //const ny = `${BBox.y + BBox.height/2}`\n            //circle.setAttribute(\"cx\", nx)\n            //circle.setAttribute(\"cy\", ny)\n            circle.setAttribute(\"stroke\", \"\".concat(color));\n            circle.setAttribute(\"fill\", \"\".concat(color));\n            circle.style.display = \"block\";\n        };\n        this.colorMap = function () {\n            var tempDomain = _this_1.domainTypes.find(function (item) { return item.label === 'Shannon entropy'; });\n            if (tempDomain) {\n                tempDomain.data.forEach(function (val, i) {\n                    if (val != undefined && val.start != undefined) {\n                        uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, val.start, 'rgb(0,0,0)', undefined, _this_1.mappingValue);\n                        var cPath = \"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(val.start);\n                        var nPath = \"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(val.start);\n                        if (document.getElementsByClassName(nPath).length > 0) {\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseover', document.getElementsByClassName(nPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseout', document.getElementsByClassName(nPath)[0].getAttribute('onmouseout').split(';')[0]);\n                        }\n                        if (document.getElementsByClassName(cPath).length > 0) {\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseover', document.getElementsByClassName(cPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseout', document.getElementsByClassName(cPath)[0].getAttribute('onmouseout').split(';')[0]);\n                        }\n                    }\n                });\n            }\n            var selectBoxEle = _this_1.containerElement.querySelector('.mappingSelectbox');\n            var selectedValue = parseInt(selectBoxEle.value);\n            if (selectedValue) {\n                var selectedDomain_1 = _this_1.domainTypes[selectedValue];\n                if (selectedDomain_1.data) {\n                    selectedDomain_1.data.forEach(function (val, i) {\n                        if (val != undefined && val.color != undefined) {\n                            if (val.color.indexOf('NaN') < 0) {\n                                //this.drawCircle(this.pluginOptions.pdbId, val.start, val.color);\n                                //UiActionsService.colorNucleotide(this.pluginOptions.pdbId, val.start, val.color);\n                                uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, val.start, val.color, undefined, _this_1.mappingValue);\n                                if (['helix', 'aes', 'phase'].includes(selectedDomain_1.label.toLowerCase()) && val.start in _this_1.rv3VUEcomponent.struct_to_alignment_mapping) {\n                                    var align_index = _this_1.rv3VUEcomponent.struct_to_alignment_mapping[val.start];\n                                    var circlePath = \"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(val.start);\n                                    var path = \"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(val.start);\n                                    if (align_index in _this_1.rv3VUEcomponent.associatedDataCache) {\n                                        for (var _i = 0, _a = _this_1.rv3VUEcomponent.associatedDataCache[align_index]; _i < _a.length; _i++) {\n                                            var _b = _a[_i], type = _b.type, value = _b.value;\n                                            if (type == selectedDomain_1.label) {\n                                                var tooltip = type + ' ' + value;\n                                                _this_1.toolTips.set(val.start, tooltip);\n                                                document.getElementsByClassName(circlePath)[0].setAttribute('onmouseover', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseover').split(';')[0] +\n                                                    \";UiActionsService.showTooltip(evt, '\".concat(tooltip, \"', '\").concat(circlePath, \"', '\").concat(val.color, \"','\").concat(val.color, \"')\"));\n                                                document.getElementsByClassName(circlePath)[0].setAttribute('onmouseout', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseout').split(';')[0] +\n                                                    \";UiActionsService.hideTooltip('\".concat(circlePath, \"')\"));\n                                                if (document.getElementsByClassName(path)[0]) {\n                                                    document.getElementsByClassName(path)[0].setAttribute('onmouseover', document.getElementsByClassName(path)[0].getAttribute('onmouseover').split(';')[0] +\n                                                        \";UiActionsService.showTooltip(evt, '\".concat(tooltip, \"', '\").concat(path, \"', '\").concat(val.color, \"', '\").concat(val.color, \"')\"));\n                                                    document.getElementsByClassName(path)[0].setAttribute('onmouseout', document.getElementsByClassName(path)[0].getAttribute('onmouseout').split(';')[0] +\n                                                        \";UiActionsService.hideTooltip('\".concat(path, \"')\"));\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    });\n                }\n            } /* else {\n                \n                const tempDomain = this.domainTypes[1];\n                if (tempDomain.data) {\n                    tempDomain.data.forEach((val:any, i:number) => {\n                        if(val != undefined && val.start != undefined) {\n                            UiActionsService.colorNucleotide(this.pluginOptions.pdbId, val.start, 'rgb(0,0,0)', undefined, this.mappingValue);\n                        }\n                    });\n                }\n                this.colorMapContacts()\n                this.colorMapModifications()\n                \n            }*/\n        };\n        this.colorMapHelper = function () {\n            var mappingDropdown = _this_1.containerElement.querySelector('.mappingSelectbox');\n            var num = +mappingDropdown.value;\n            document.getElementById('selectColorMappingProps').value = mappingDropdown.options[num].text;\n            _this_1.rv3VUEcomponent.selected_property = mappingDropdown.options[num].text;\n        };\n        this.colorMapContacts = function () {\n            if (_this_1.rv3VUEcomponent.pchainid.length > 0 && _this_1.rv3VUEcomponent.selected_property != \"Select data\") {\n                _this_1.rv3VUEcomponent.selected_property = \"Select data\";\n            }\n            _this_1.mapped_chains.forEach(function (val) {\n                if (!_this_1.rv3VUEcomponent.pchainid.includes(val)) {\n                    for (var i in _this_1.rv3VUEcomponent.protein_contacts[val]) {\n                        uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.protein_contacts[val][i], '#323232', undefined, _this_1.mappingValue);\n                        var nPath = \"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(_this_1.rv3VUEcomponent.protein_contacts[val][i]);\n                        var cPath = \"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(_this_1.rv3VUEcomponent.protein_contacts[val][i]);\n                        if (document.getElementsByClassName(nPath).length > 0) {\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseover', document.getElementsByClassName(nPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseout', document.getElementsByClassName(nPath)[0].getAttribute('onmouseout').split(';')[0]);\n                            //document.getElementsByClassName(nPath)[0].removeEventListener('mouseover', this.mouseOverMap.get(nPath))\n                            //document.getElementsByClassName(nPath)[0].removeEventListener('mouseout',this.eventMap.get(nPath))\n                        }\n                        if (document.getElementsByClassName(cPath).length > 0) {\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseover', document.getElementsByClassName(cPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseout', document.getElementsByClassName(cPath)[0].getAttribute('onmouseout').split(';')[0]);\n                            //document.getElementsByClassName(cPath)[0].removeEventListener('mouseover', this.mouseOverMap.get(cPath))\n                            //document.getElementsByClassName(cPath)[0].removeEventListener('mouseout',this.eventMap.get(cPath))\n                        }\n                        /*\n                        var circle = (<any>document.querySelector(`svg.rnaTopoSvg`))!.getElementsByClassName(cPath)[0];\n                        if(circle) {\n                            circle.style.display=\"none\";\n                        }*/\n                    }\n                    _this_1.mapped_chains.delete(val);\n                }\n            });\n            for (var val in _this_1.rv3VUEcomponent.pchainid) {\n                var chain = _this_1.rv3VUEcomponent.pchainid[val];\n                for (var i in _this_1.rv3VUEcomponent.protein_contacts[chain]) {\n                    uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.protein_contacts[chain][i], _this_1.rv3VUEcomponent.proteinColorMap.get(chain), undefined, _this_1.mappingValue);\n                }\n                _this_1.mapped_chains.add(chain);\n            }\n            _this_1.addEvents(_this_1.apiData, data_1.BanNameHelper.getBanName(_this_1.pluginOptions.pdbId, ''));\n        };\n        this.colorMapModifications = function () {\n            if (_this_1.rv3VUEcomponent.modifications.length > 0 && _this_1.rv3VUEcomponent.selected_property != \"Select data\") {\n                _this_1.rv3VUEcomponent.selected_property = \"Select data\";\n            }\n            _this_1.mapped_modifications.forEach(function (val) {\n                if (!_this_1.rv3VUEcomponent.modifications.includes(val)) {\n                    for (var i in _this_1.rv3VUEcomponent.modified_residues.get(val)) {\n                        uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.modified_residues.get(val)[i], '#323232', undefined, _this_1.mappingValue);\n                        var nPath = \"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(_this_1.rv3VUEcomponent.modified_residues.get(val)[i]);\n                        var cPath = \"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(_this_1.rv3VUEcomponent.modified_residues.get(val)[i]);\n                        if (document.getElementsByClassName(nPath).length > 0) {\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseover', document.getElementsByClassName(nPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(nPath)[0].setAttribute('onmouseout', document.getElementsByClassName(nPath)[0].getAttribute('onmouseout').split(';')[0]);\n                            //document.getElementsByClassName(nPath)[0].removeEventListener('mouseover', this.mouseOverMap.get(nPath))\n                            //document.getElementsByClassName(nPath)[0].removeEventListener('mouseout',this.eventMap.get(nPath))\n                        }\n                        if (document.getElementsByClassName(cPath).length > 0) {\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseover', document.getElementsByClassName(cPath)[0].getAttribute('onmouseover').split(';')[0]);\n                            document.getElementsByClassName(cPath)[0].setAttribute('onmouseout', document.getElementsByClassName(cPath)[0].getAttribute('onmouseout').split(';')[0]);\n                            //document.getElementsByClassName(cPath)[0].removeEventListener('mouseover', this.mouseOverMap.get(cPath))\n                            //document.getElementsByClassName(cPath)[0].removeEventListener('mouseout',this.eventMap.get(cPath))\n                        }\n                        /*\n                        var circle = (<any>document.querySelector(`svg.rnaTopoSvg`))!.getElementsByClassName(cPath)[0];\n                        if(circle) {\n                            circle.style.display=\"none\";\n                        } */\n                    }\n                    _this_1.mapped_modifications.delete(val);\n                }\n            });\n            for (var val in _this_1.rv3VUEcomponent.modifications) {\n                var mod = _this_1.rv3VUEcomponent.modifications[val];\n                for (var i in _this_1.rv3VUEcomponent.modified_residues.get(mod)) {\n                    uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.modified_residues.get(mod)[i], _this_1.rv3VUEcomponent.modifiedColorMap.get(mod), undefined, _this_1.mappingValue);\n                }\n                _this_1.mapped_modifications.add(mod);\n            }\n            _this_1.addEvents(_this_1.apiData);\n        };\n        this.containerElement = containerElement;\n        this.pluginOptions = pluginOptions;\n        this.apiData = apiData;\n        this.uiActionsService = new uiActions_1.UiActionsService(this.pluginOptions.pdbId);\n    }\n    UiTemplateService.prototype.render = function (apiData, FR3DData, FR3DNestedData, BanName, instance) {\n        var _a;\n        this.containerElement.innerHTML =\n            \"<div class=\\\"pdb-rna-view-container pdb-rna-view-container-\".concat(this.pluginOptions.pdbId, \"\\\">\\n            \").concat(this.svgTemplate(apiData, FR3DData, FR3DNestedData), \"\\n            \").concat(this.title(), \"\\n            \").concat(this.tooltip(), \"\\n            \").concat(this.actionButtons(), \"\\n        </div>\\n        <div style=\\\"\").concat(this.menuStyle, \"\\\">\\n                <div class=\\\"menuOptions\\\" style=\\\"width:95%;float:center;display:inline-block;\\\">\\n                    <form>\\n                    <input type=\\\"checkbox\\\" id=\\\"nestedBP\\\" name=\\\"nestedBP\\\" style=\\\"width:5%; display: inline-block; float: left;>\\n                    <label for=\\\"nestedBP\\\" style=\\\"width:20%; display: inline-block; float: left;\\\"> Only nested BPs</label>\\n                    <select class=\\\"menuSelectbox\\\" style=\\\"width:20%; display: inline-block;\\\"><option value=\\\"\\\">Nucleotides</option></select>\\n                    <select class=\\\"mappingSelectbox\\\" style=\\\"width:20%; display: inline-block;\\\"><option value=\\\"\\\">Mapping</option></select>\\n                    <div class=\\\"multiselect\\\">\\n                        <div class=\\\"selectBox\\\" onclick=\\\"UiActionsService.showCheckboxes()\\\" style=\\\"display:inline-block;float:right;width:25%\\\">\\n                            <select id=\\\"basePairingSelectElement\\\">\\n                                <option>Base Pairings</option>\\n                            </select>\\n                            <div class=\\\"overSelect\\\"></div>\\n                        </div>\\n                        <div id=\\\"checkboxes\\\">\\n                        </div>\\n                    </div>\\n                    </form>\\n                </div>\\n        </div>\\n        \");\n        //this.getJSON(apiData)\n        //this.fixOverlaps(apiData)\n        this.createModeDropdown();\n        this.createBPDropdown();\n        this.uiActionsService.applyButtonActions();\n        this.addEvents(apiData, BanName);\n        document.querySelector(\".saveSVG\").addEventListener(\"click\", this.saveSVG.bind(this));\n        this.getAnnotationFromRibovision(this.mapped_aa_properties);\n        var el = document.getElementById(\"topview\");\n        (_a = document.getElementById(\"TopologyFSCR\")) === null || _a === void 0 ? void 0 : _a.addEventListener(\"click\", function (event) {\n            document.fullscreenElement ? document.exitFullscreen() : el === null || el === void 0 ? void 0 : el.requestFullscreen();\n        });\n        if (instance) {\n            customEvents_1.CustomEvents.subscribeToComponentEvents(instance);\n        }\n        //this.rv3VUEcomponent.topology_loaded=true;\n    };\n    UiTemplateService.prototype.fixOverlaps = function (apiData) {\n        var _this_1 = this;\n        var svgEle = document.querySelector(\"svg.rnaTopoSvg.rnaTopoSvg_\".concat(this.pluginOptions.pdbId));\n        var xAdjust = 0;\n        var yAdjust = 0;\n        apiData.sequence.split('').forEach(function (char, i) {\n            if (i === 0 || i === (apiData.sequence.length)) {\n                return;\n            }\n            var ele = svgEle.getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(apiData.label_seq_ids[i]))[0];\n            var nextEle = svgEle.getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(apiData.label_seq_ids[i + 1]))[0];\n            nextEle.setAttribute(\"y\", Number(nextEle.getAttribute(\"y\")) + yAdjust);\n            nextEle.setAttribute(\"x\", Number(nextEle.getAttribute(\"x\")) + xAdjust);\n            var distances = _this_1.getIntersections(ele.getBBox(), nextEle.getBBox());\n            if (distances) {\n                var lowest = 0;\n                for (var j = 1; j < distances.length; j++) {\n                    if (distances[j] < distances[lowest])\n                        lowest = j;\n                }\n                if (lowest === 1) {\n                    nextEle.setAttribute(\"y\", Number(nextEle.getAttribute(\"y\")) - Number(distances[1]));\n                    yAdjust = yAdjust - Number(distances[1]);\n                }\n                else if (lowest === 3) {\n                    nextEle.setAttribute(\"y\", Number(nextEle.getAttribute(\"y\")) + Number(distances[3]));\n                    yAdjust = yAdjust + Number(distances[3]);\n                }\n                else if (lowest === 0) {\n                    nextEle.setAttribute(\"x\", Number(nextEle.getAttribute(\"x\")) - Number(distances[0]));\n                    xAdjust = xAdjust - Number(distances[0]);\n                }\n                else if (lowest === 2) {\n                    nextEle.setAttribute(\"x\", Number(nextEle.getAttribute(\"x\")) + Number(distances[2]));\n                    xAdjust = xAdjust + Number(distances[2]);\n                }\n            }\n        });\n    };\n    UiTemplateService.prototype.changeBP = function (val, e, flag) {\n        var _this_1 = this;\n        if (e === void 0) { e = undefined; }\n        if (flag === void 0) { flag = undefined; }\n        //Figure out what flag is doing\n        this.displayBaseStrs = '';\n        this.displayNestedBaseStrs = '';\n        var allBP = this.containerElement.querySelector('#Checkbox_All').checked;\n        if ((val == 'All')) {\n            this.baseStrs.forEach(function (value, key) {\n                _this_1.baseStrs.set(key, [allBP, value[1]]);\n                _this_1.nestedBaseStrs.set(key, [allBP, _this_1.nestedBaseStrs.get(key)[1]]);\n                document.getElementById(\"Checkbox_\".concat(key)).checked = allBP;\n                if (allBP) {\n                    _this_1.displayBaseStrs += value[1].join('');\n                    _this_1.displayNestedBaseStrs += _this_1.nestedBaseStrs.get(key)[1].join('');\n                }\n            });\n        }\n        else {\n            //console.log(flag)\n            //if(flag ?? this.baseStrs.get(val)![0]) {\n            if (this.baseStrs.get(val)[0]) {\n                this.baseStrs.set(val, [false, this.baseStrs.get(val)[1]]);\n                this.nestedBaseStrs.set(val, [false, this.nestedBaseStrs.get(val)[1]]);\n            }\n            else {\n                this.baseStrs.set(val, [true, this.baseStrs.get(val)[1]]);\n                this.nestedBaseStrs.set(val, [true, this.nestedBaseStrs.get(val)[1]]);\n            }\n            this.baseStrs.forEach(function (value, key) {\n                if (value[0]) {\n                    _this_1.displayBaseStrs += value[1].join('');\n                    _this_1.displayNestedBaseStrs += _this_1.nestedBaseStrs.get(key)[1].join('');\n                }\n            });\n        }\n        this.PathOrNucleotide();\n    };\n    UiTemplateService.prototype.createBPDropdown = function () {\n        var _this_1 = this;\n        var _a;\n        if (this.baseStrs.size > 0) {\n            var optionList_1 = '<table><tr><td><label for = \"Checkbox_All\"><input type=\"checkbox\" id=\"Checkbox_All\" /> All</label></td>';\n            var i = 1;\n            this.baseStrs.forEach(function (value, key) {\n                if (i % 2 == 0) {\n                    optionList_1 = \"\".concat(optionList_1, \"<tr>\");\n                }\n                if (key == 'cWW') {\n                    optionList_1 = \"\".concat(optionList_1, \"<td><label for = \\\"Checkbox_\").concat(key, \"\\\"><input type=\\\"checkbox\\\" id=\\\"Checkbox_\").concat(key, \"\\\" checked = true/> \").concat(key, \"</label></td>\");\n                }\n                else {\n                    optionList_1 = \"\".concat(optionList_1, \"<td><label for = \\\"Checkbox_\").concat(key, \"\\\"><input type=\\\"checkbox\\\" id=\\\"Checkbox_\").concat(key, \"\\\"/> \").concat(key, \"</label></td>\");\n                }\n                if (i % 2 == 1) {\n                    optionList_1 = \"\".concat(optionList_1, \"</tr>\");\n                }\n                i += 1;\n            });\n            optionList_1 = \"\".concat(optionList_1, \"</table>\");\n            var selectBoxEle = document.getElementById('checkboxes');\n            selectBoxEle.innerHTML = optionList_1;\n            (_a = document.getElementById(\"Checkbox_All\")) === null || _a === void 0 ? void 0 : _a.addEventListener(\"change\", this.changeBP.bind(this, \"All\"));\n            this.baseStrs.forEach(function (value, key) {\n                var _a;\n                (_a = document.getElementById(\"Checkbox_\".concat(key))) === null || _a === void 0 ? void 0 : _a.addEventListener(\"change\", _this_1.changeBP.bind(_this_1, key));\n            });\n            //selectBoxEle!.addEventListener(\"change\", this.ChangeBP.bind(this));\n        }\n    };\n    UiTemplateService.prototype.createModeDropdown = function () {\n        var optionList = \"<option value=\\\"0\\\">Nucleotides</option><option value=\\\"1\\\">Path</option><option value=\\\"2\\\">Circle</option>\";\n        var selectBoxEle = this.containerElement.querySelector('.menuSelectbox');\n        selectBoxEle.innerHTML = optionList;\n        selectBoxEle.addEventListener(\"change\", this.PathOrNucleotide.bind(this));\n        var nestedBP = this.containerElement.querySelector('#nestedBP');\n        nestedBP.addEventListener(\"change\", this.PathOrNucleotide.bind(this));\n    };\n    UiTemplateService.prototype.createDomainDropdown = function () {\n        this.selectedDomain = this.domainTypes[0];\n        if (this.domainTypes.length > 0) {\n            var optionList_2 = '';\n            this.domainTypes.forEach(function (opt, i) {\n                optionList_2 = \"\".concat(optionList_2, \"<option value=\\\"\").concat(i, \"\\\">\").concat(opt.label, \"</option>\");\n            });\n            var selectBoxEle = this.containerElement.querySelector('.mappingSelectbox');\n            selectBoxEle.innerHTML = optionList_2;\n            selectBoxEle.addEventListener(\"change\", this.colorMapHelper.bind(this));\n            //selectBoxEle!.addEventListener(\"change\", this.updateProperty.bind(this));\n            //const resetIconEle = this.containerElement.querySelector('.resetIcon');\n            //resetIconEle.addEventListener(\"click\", this.resetDisplay.bind(this));\n        }\n        else {\n            this.containerElement.querySelector('.menuOptions').style.display = 'none';\n        }\n    };\n    UiTemplateService.prototype.create2D3DAnnotations = function (name, residueDetails, TWCrgbMap, TWCData, mapped_aa_properties, chain_start, chain_end) {\n        var _this = this;\n        TWCData.forEach(function (value, index) {\n            if (chain_start <= index && index <= chain_end) {\n                var rgb_color = TWCrgbMap.get(index);\n                window.selectSections_RV1.get(name).push({\n                    entity_id: _this.pluginOptions.entityId,\n                    //start_residue_number: index, \n                    //end_residue_number: index,\n                    residue_number: index,\n                    color: rgb_color[1],\n                    sideChain: false,\n                });\n                _this.defaultColours.qualityRiboVision = '#' + String(rgb_color[0].join(''));\n                var colors = \"rgb(\" + String(rgb_color[0].join(',')) + \")\";\n                //_this.drawValidationShape(index, \"circle\", _this.defaultColours.qualityRiboVision);\n                residueDetails.push({\n                    start: index,\n                    end: index,\n                    color: colors,\n                    tooltipMsg: Number.parseFloat(value).toPrecision(3),\n                    tooltipPosition: \"prefix\"\n                });\n                //_this.drawValidationShape(index, \"circle\", colors);\n            }\n        });\n        /*\n         if (TWCData.size < mapped_aa_properties.get(\"Shannon entropy\")!.length) {\n             console.log(\"2D3D2\", mapped_aa_properties);\n             for(var i = TWCData.size - 1; i < this.mapped_aa_properties.get(\"Shannon entropy\").length; i++) {\n                 (window as any).selectSections_RV1.get(name).push({ //3d\n                     entity_id: _this.pluginOptions.entityId,\n                     //start_residue_number: i,\n                     //end_residue_number: i,\n                     residue_number: i,\n                     color: {r:255, g:255, b:255},\n                     sideChain: false,\n                 });\n             }\n         }*/\n        /*\n        if (TWCData.size < mapped_aa_properties.get(\"TwinCons\")!.length) {\n            for(var i = TWCData.size - 1; i < this.mapped_aa_properties.get(\"TwinCons\").length; i++) {\n                (window as any).selectSections_RV1.get(name).push({ //3d\n                    entity_id: _this.pluginOptions.entityId,\n                    //start_residue_number: i,\n                    //end_residue_number: i,\n                    residue_number: i,\n                    color: {r:255, g:255, b:255},\n                    sideChain: false,\n                });\n            }\n        }*/\n        return residueDetails;\n    };\n    UiTemplateService.prototype.getAnnotationFromRibovision = function (mapped_aa_properties, mapped_3D_properties) {\n        var _this_1 = this;\n        var _this = this;\n        var start = this.apiData ? this.apiData.label_seq_ids[1] : 0;\n        //const end = this.apiData?this.apiData.label_seq_ids[this.apiData.label_seq_ids.length - 2]:0\n        if (typeof _this.domainTypes == 'undefined') {\n            _this.domainTypes = [{\n                    label: 'Select data',\n                    data: null\n                }];\n        }\n        this.selectSections_RV1 = window.selectSections_RV1;\n        this.selectSections_RV1.set(\"Select data\", [{ entity_id: _this.pluginOptions.entityId,\n                focus: true } /*{entity_id: _this.pluginOptions.entityId,\n                                start_residue_number: 0,\n                                end_residue_number: 1000,\n                                color: {r: 255, g: 255, b: 255},\n                                sideChain: false,pchainid\n                            }*/\n        ]);\n        this.aaPropertyConstants = window.aaPropertyConstants;\n        this.aaColorData = window.aaColorData;\n        if (mapped_aa_properties) {\n            mapped_aa_properties.forEach(function (value, index) {\n                var residueDetails = [{\n                    //start: chainRange.start,\n                    //end: chainRange.end,\n                    //color: _this.defaultColours.qualityBlank,\n                    //tooltipMsg: 'No data for '\n                    }];\n                var name = index;\n                var separatedData = value;\n                _this_1.selectSections_RV1.set(name, []);\n                var min = Math.min.apply(Math, _this_1.aaPropertyConstants.get(name));\n                var max = Math.max.apply(Math, _this_1.aaPropertyConstants.get(name));\n                var colormapArray = _this_1.aaColorData.get(name);\n                var data3D;\n                data3D = separatedData;\n                if (mapped_3D_properties) {\n                    if (mapped_3D_properties.get(name)) {\n                        data3D = mapped_3D_properties.get(name);\n                    }\n                }\n                if (name == \"Shannon entropy\") {\n                    _this_1.getEntropyAnnotations(data3D, min, max, _this_1.pluginOptions.chainId);\n                    //console.log('name_SE', name,  this.getEntropyAnnotations(separatedData, min, max, this.pluginOptions.chainId));\n                }\n                ;\n                if (name == \"TwinCons\") {\n                    _this_1.getTWCAnnotations(data3D, min, max, _this_1.pluginOptions.chainId);\n                    //console.log('name_TWC', name, this.getTWCAnnotations(separatedData, min, max, this.pluginOptions.chainId));\n                }\n                ;\n                if (name == \"Custom Data\") {\n                    _this_1.getCustomAnnotations(data3D, min, max, _this_1.pluginOptions.chainId);\n                    //console.log('name_CD', name,  this.getEntropyAnnotations(separatedData, min, max, this.pluginOptions.chainId));\n                }\n                ;\n                if (name == \"Associated Data1\") {\n                    _this_1.getAssociatedAnnotations(data3D, min, max, _this_1.pluginOptions.chainId);\n                }\n                ;\n                if (name == \"Helix\" || name == \"helix\") {\n                    _this_1.getHelicalAnnotations(data3D, min, max, _this_1.pluginOptions.chainId);\n                }\n                ;\n                if (name == \"Phase\" || name == 'phase') {\n                    _this_1.getPhaseAnnotations(data3D, min, max, _this_1.pluginOptions.chainId);\n                }\n                ;\n                if (name == \"AES\" || name == 'aes') {\n                    //console.log('name_AES', name, this.getExpansionAnnotations(separatedData, min, max, this.pluginOptions.chainId))\n                    _this_1.getExpansionAnnotations(data3D, min, max, _this_1.pluginOptions.chainId);\n                }\n                ;\n                var _a = _this_1.parsePVData(separatedData, min, max, colormapArray), TWCrgbMap = _a[0], TWCData = _a[1];\n                var TWCData_keys = TWCData.keys();\n                //const last_item  = 0;\n                var mapLastValue;\n                var i;\n                for (i = 0; i < TWCData.size; i += 1) {\n                    mapLastValue = TWCData_keys.next().value;\n                }\n                //console.log(mapLastValue);\n                //console.log('RNAViewer_TWCData',TWCData, TWCData.size, TWCData[Symbol.iterator](),TWCData_keys);\n                _this_1.selectSections_RV1.get(name).push({ entity_id: _this.pluginOptions.entityId, focus: true });\n                //const end = TWCData.size;\n                var end = mapLastValue;\n                if (void 0 !== TWCData) {\n                    residueDetails = _this.create2D3DAnnotations(name, residueDetails, TWCrgbMap, TWCData, mapped_aa_properties, start, end);\n                    if (0 < residueDetails.length) {\n                        var current = _this.domainTypes.filter(function (order) { return (order.label === name); })[0];\n                        if (current && current != null) {\n                            current.data = residueDetails;\n                        }\n                        else {\n                            _this.domainTypes.push({\n                                label: name,\n                                data: residueDetails\n                            });\n                        }\n                    }\n                }\n            });\n            this.createDomainDropdown();\n            this.rv3VUEcomponent.topology_loaded = true;\n        }\n        else {\n            //catch block\n        }\n        ;\n    };\n    UiTemplateService.prototype.getIntersections = function (obj1, obj2) {\n        var left1 = obj1.x;\n        var right1 = obj1.x + obj1.width;\n        var top1 = obj1.y;\n        var bottom1 = obj1.y + obj1.height;\n        var left2 = obj2.x;\n        var right2 = obj2.x + obj2.width;\n        var top2 = obj2.y;\n        var bottom2 = obj2.y + obj2.height;\n        if (left1 >= right2 || top1 >= bottom2 ||\n            right1 <= left2 || bottom1 <= top2) {\n            return false;\n        }\n        else {\n            return [right2 - left1, bottom2 - top1, right1 - left2, bottom1 - top2];\n        }\n    };\n    UiTemplateService.prototype.calculateFontSize = function (apiData) {\n        var xVals = [];\n        var yVals = [];\n        var dist = [];\n        var lastPathIndex = apiData.svg_paths.length - 1;\n        apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n            if (recordIndex === 0 || recordIndex === lastPathIndex)\n                return;\n            var pathStrParsed = pathStr.split('M').join(',').split(',');\n            xVals[recordIndex] = (Number(pathStrParsed[1]) + Number(pathStrParsed[3])) / 2;\n            yVals[recordIndex] = (Number(pathStrParsed[2]) + Number(pathStrParsed[4])) / 2;\n            if (recordIndex > 1) {\n                var xDiff = xVals[recordIndex] - xVals[recordIndex - 1];\n                var yDiff = yVals[recordIndex] - yVals[recordIndex - 1];\n                dist[recordIndex] = Math.pow((Math.pow(yDiff, 2) + Math.pow(xDiff, 2)), 0.5);\n            }\n        });\n        var sortedDist = dist.sort(function (a, b) { return a - b; });\n        return 0.9 * sortedDist[Math.floor(sortedDist.length * 0.05)];\n    };\n    UiTemplateService.prototype.download = function (data, filename, type) {\n        var file = new Blob([data], { type: type });\n        var a = document.createElement(\"a\"), url = URL.createObjectURL(file);\n        a.href = url;\n        a.download = filename;\n        document.body.appendChild(a);\n        a.click();\n        setTimeout(function () {\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n        }, 0);\n    };\n    UiTemplateService.prototype.calcBaseStrs = function (baseStr, baseMap, font_size) {\n        var start = +baseStr.seq_id1;\n        var end = +baseStr.seq_id2;\n        if (baseStr && start && end) {\n            var type = baseStr.bp;\n            var pathID = \"rnaviewBP rnaviewBP_\".concat(this.pluginOptions.pdbId, \"_\").concat(this.pluginOptions.chainId, \" \").concat(type, \"_\").concat(start, \"_\").concat(end);\n            var n1 = baseStr.nt1;\n            var n2 = baseStr.nt2;\n            if (type == 'cSH' || type == 'tSH' || type == 'cSW' || type == 'tSW' || type == 'cHW' || type == 'tHW') {\n                var temp = end;\n                end = start;\n                start = temp;\n                var temp2 = n1;\n                n1 = n2;\n                n2 = temp2;\n                type = type.charAt(0) + type.slice(-2).split('').reverse().join('');\n            }\n            var x1 = this.locations.get(start)[0] + font_size / 2.5;\n            var x2 = this.locations.get(end)[0] + font_size / 2.5;\n            var y1 = this.locations.get(start)[1] - font_size / 2.5;\n            var y2 = this.locations.get(end)[1] - font_size / 2.5;\n            var distance = Math.pow(Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2), 0.5);\n            var x1_prime = UiTemplateService.linearlyInterpolate(x1, x2, font_size / distance);\n            var y1_prime = UiTemplateService.linearlyInterpolate(y1, y2, font_size / distance);\n            var x2_prime = UiTemplateService.linearlyInterpolate(x1, x2, 1 - font_size / distance);\n            var y2_prime = UiTemplateService.linearlyInterpolate(y1, y2, 1 - font_size / distance);\n            var stroke = \"#ccc\";\n            if (type.charAt(0) == 't') {\n                var fill = \"none\";\n            }\n            else {\n                var fill = \"#ccc\";\n            }\n            var xm = (x1_prime + x2_prime) / 2;\n            var ym = (y1_prime + y2_prime) / 2;\n            var distance2 = distance - 2 * font_size;\n            var height = font_size / 1.5;\n            var defaultAction = \"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"; \").concat(type, \"', '\").concat(pathID, \"', '\").concat(stroke, \"', '\").concat(fill, \"');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\"\");\n            var phi = 270 + Math.atan2((y1 - y2), (x1 - x2)) * 180 / Math.PI;\n            if (type == 'cWW') {\n                if (n1 == 'G' && n2 == 'U' || n1 == 'U' && n2 == 'G') {\n                    baseMap.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"; \").concat(type, \"', '\").concat(pathID, \"', '#000', '#000');\\\"\\n                    onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\"\\n                    d=\\\"\\n                    M \").concat((x1_prime + x2_prime) / 2 - font_size / 4, \", \").concat((y1_prime + y2_prime) / 2, \"\\n                    a \").concat(font_size / 4, \",\").concat(font_size / 4, \" 0 1,0 \").concat(font_size / 2, \",0\\n                    a \").concat(font_size / 4, \",\").concat(font_size / 4, \" 0 1,0 \").concat(-1 * font_size / 2, \",0\\n                    \\\"\\n                    stroke=\\\"#000\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill=\\\"#000\\\"\\n                />\"));\n                }\n                else {\n                    baseMap.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt,  '\").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"; \").concat(type, \"', '\").concat(pathID, \"', '#000', '#000');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" data-stroke-color=\\\"#000\\\" stroke=\\\"#000\\\" d=\\\"M\").concat(x1_prime, \" \").concat(y1_prime, \" \").concat(x2_prime, \" \").concat(y2_prime, \"\\\"></path>\"));\n                }\n            }\n            else if (type == 'tWW') {\n                var xm1 = UiTemplateService.linearlyInterpolate(x1_prime, xm, 1 - (font_size / 3) / (distance / 2));\n                var ym1 = UiTemplateService.linearlyInterpolate(y1_prime, ym, 1 - (font_size / 3) / (distance / 2));\n                var xm2 = UiTemplateService.linearlyInterpolate(xm, x2_prime, (font_size / 3) / (distance / 2));\n                var ym2 = UiTemplateService.linearlyInterpolate(ym, y2_prime, (font_size / 3) / (distance / 2));\n                baseMap.get(type)[1].push(defaultAction +\n                    \"d=\\\"\\n                    M \".concat(x1_prime, \" \").concat(y1_prime, \" \").concat(xm1, \" \").concat(ym1, \"\\n                    M \").concat(xm - font_size / 3, \" \").concat(ym, \"\\n                    a \").concat(font_size / 3, \",\").concat(font_size / 3, \" 0 1,0 \").concat(font_size / 1.5, \",0\\n                    a \").concat(font_size / 3, \",\").concat(font_size / 3, \" 0 1,0 \").concat(-1 * font_size / 1.5, \",0\\n                    M \").concat(xm2, \" \").concat(ym2, \" \").concat(x2_prime, \" \").concat(y2_prime, \"\\\"\\n                    stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\"/>\"));\n            }\n            else if (type == 'cSS' || type == 'tSS') {\n                baseMap.get(type)[1].push(defaultAction + \"\\n                d=\\\"\\n                M \".concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height / 2, \" \\n                l \").concat(height / 2, \" 0\\n                l -\").concat(height / 2, \" -\").concat(height, \" \\n                l -\").concat(height / 2, \" \").concat(height, \"\\n                l \").concat(height / 2, \" 0\\n                M \").concat(xm, \" \").concat(ym - height / 2, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n            }\n            else if (type == 'tHS' || type == 'cHS') {\n                baseMap.get(type)[1].push(defaultAction + \"\\n                d=\\\"\\n                M \".concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height + height / 4, \" \\n                h -\").concat(height / 2, \"\\n                v -\").concat(height, \"\\n                h \").concat(height, \"\\n                v \").concat(height, \"\\n                h -\").concat(height / 2, \"\\n                M \").concat(xm, \" \").concat(ym + height / 4, \" \").concat(xm, \" \").concat(ym - height / 4, \"\\n                l \").concat(height / 2, \" 0\\n                l -\").concat(height / 2, \" -\").concat(height, \" \\n                l -\").concat(height / 2, \" \").concat(height, \"\\n                l \").concat(height / 2, \" 0\\n                M \").concat(xm, \" \").concat(ym - height - height / 4, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n            }\n            else if (type == 'tWS' || type == 'cWS') {\n                baseMap.get(type)[1].push(defaultAction + \"\\n                d=\\\"\\n                M \".concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height + height / 4, \" \\n                M \").concat(xm - height / 2, \" \").concat(ym + 3 * height / 4, \" \\n                a \").concat(height / 2, \",\").concat(height / 2, \" 0 1,0 \").concat(height, \",0\\n                a \").concat(height / 2, \",\").concat(height / 2, \" 0 1,0 \").concat(-1 * height, \",0\\n                M \").concat(xm, \" \").concat(ym + height / 4, \" \").concat(xm, \" \").concat(ym - height / 4, \"\\n                l \").concat(height / 2, \" 0\\n                l -\").concat(height / 2, \" -\").concat(height, \" \\n                l -\").concat(height / 2, \" \").concat(height, \"\\n                l \").concat(height / 2, \" 0\\n                M \").concat(xm, \" \").concat(ym - height - height / 4, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n            }\n            else if (type == 'tWH' || type == 'cWH') {\n                baseMap.get(type)[1].push(defaultAction + \"\\n                d=\\\"\\n                M \".concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height + height / 4, \" \\n                M \").concat(xm - height / 2, \" \").concat(ym + 3 * height / 4, \" \\n                a \").concat(height / 2, \",\").concat(height / 2, \" 0 1,0 \").concat(height, \",0\\n                a \").concat(height / 2, \",\").concat(height / 2, \" 0 1,0 \").concat(-1 * height, \",0\\n                M \").concat(xm, \" \").concat(ym + height / 4, \" \").concat(xm, \" \").concat(ym - height / 4, \"\\n                h -\").concat(height / 2, \"\\n                v -\").concat(height, \"\\n                h \").concat(height, \"\\n                v \").concat(height, \"\\n                h -\").concat(height / 2, \"\\n                M \").concat(xm, \" \").concat(ym - height - height / 4, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n            }\n            else if (type == 'tHH' || type == 'cHH') {\n                baseMap.get(type)[1].push(defaultAction + \"\\n                d=\\\"\\n                M \".concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height / 2, \" \\n                h -\").concat(height / 2, \"\\n                v -\").concat(height, \"\\n                h \").concat(height, \"\\n                v \").concat(height, \"\\n                h -\").concat(height / 2, \"\\n                M \").concat(xm, \" \").concat(ym - height / 2, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n            }\n        }\n    };\n    /*\n    private getJSON(apiData: ApiData){\n        let JSON =\n        `{\n        \"pdbId\": ${this.pluginOptions.pdbId},\n        \"entityId\": ${this.pluginOptions.entityId},\n        \"chainId\": ${this.pluginOptions.chainId},\n        \"nucleotides\":[\n        `\n        const lastPathIndex = apiData.svg_paths.length - 1;\n        apiData.svg_paths.forEach((pathStr: string, recordIndex: number) => {\n        if(recordIndex === 0 || recordIndex === lastPathIndex) return;\n            JSON +=\n        `   {\"position\": ${apiData.label_seq_ids[recordIndex]}, \"value\": ${apiData.sequence[recordIndex - 1]}, \"x\": ${this.locations[recordIndex - 1][0]}, \"y\": ${this.locations[recordIndex - 1][1]}},\n        `\n        });\n        JSON +=\n            `]\n        }`\n        this.download(JSON, \"Test\", \"JSON\")\n    }*/\n    UiTemplateService.linearlyInterpolate = function (v0, v1, interpolationFactor) {\n        // See https://en.wikipedia.org/wiki/Linear_interpolation\n        return (1 - interpolationFactor) * v0 + interpolationFactor * v1;\n    };\n    UiTemplateService.prototype.PathOrNucleotide = function (e) {\n        var selectBoxEle = this.containerElement.querySelector('.menuSelectbox');\n        var selectedValue = parseInt(selectBoxEle.value);\n        this.mappingValue = '';\n        var nestedBP = this.containerElement.querySelector('#nestedBP');\n        if (nestedBP.checked) {\n            var displayBP = this.displayNestedBaseStrs;\n        }\n        else {\n            var displayBP = this.displayBaseStrs;\n        }\n        if (selectedValue == 0) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\".concat(this.pluginOptions.pdbId))[0].innerHTML = this.nucleotideStrs.join('') + this.circleStrs.join('') + displayBP;\n        }\n        else if (selectedValue == 1) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\".concat(this.pluginOptions.pdbId))[0].innerHTML = this.pathStrs.join('') + this.circleStrs.join('') + displayBP;\n        }\n        else if (selectedValue == 2) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\".concat(this.pluginOptions.pdbId))[0].innerHTML = this.nucleotideStrs.join('') + this.circleStrs.join('') + displayBP;\n            this.mappingValue = 'circle';\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\".concat(this.pluginOptions.pdbId))[0].innerHTML = this.nucleotideStrs.join('') + this.circleStrs.join('') + displayBP;\n            //this.circleStrs.join('') + displayBP;\n        }\n        //if(e) {\n        //this.containerElement.querySelector<HTMLInputElement>('.mappingSelectbox')!.value=\"0\";\n        this.colorMap();\n        //}\n        //console.log(\"Path or nucleotide!\")\n        this.colorMapContacts();\n        this.colorMapModifications();\n    };\n    UiTemplateService.prototype.addEvents = function (apiData, BanName) {\n        if (BanName === void 0) { BanName = undefined; }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            function processContacts(contacts) {\n                return tslib_1.__awaiter(this, void 0, void 0, function () {\n                    var _this_1 = this;\n                    return tslib_1.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, Promise.all(Array.from(contacts.entries()).map(function (_a) {\n                                    var key = _a[0], value = _a[1];\n                                    return tslib_1.__awaiter(_this_1, void 0, void 0, function () {\n                                        var tooltip, circlePath, path, chain, promises, _i, value_1, val, banNames;\n                                        return tslib_1.__generator(this, function (_b) {\n                                            switch (_b.label) {\n                                                case 0:\n                                                    tooltip = \"Contact:\";\n                                                    circlePath = \"circle_\".concat(_this.pluginOptions.pdbId, \"_\").concat(key);\n                                                    path = \"rnaviewEle rnaviewEle_\".concat(_this.pluginOptions.pdbId, \" rnaview_\").concat(_this.pluginOptions.pdbId, \"_\").concat(key);\n                                                    chain = '';\n                                                    promises = [];\n                                                    for (_i = 0, value_1 = value; _i < value_1.length; _i++) {\n                                                        val = value_1[_i];\n                                                        promises.push(data_1.BanNameHelper.getBanName(_this.pluginOptions.pdbId, val));\n                                                        chain = val;\n                                                    }\n                                                    return [4 /*yield*/, Promise.all(promises)];\n                                                case 1:\n                                                    banNames = _b.sent();\n                                                    banNames.forEach(function (BanName, index) {\n                                                        if (BanName) {\n                                                            tooltip += \" \".concat(BanName[0], \"; chain: \").concat(chain);\n                                                        }\n                                                        else {\n                                                            tooltip = \"chain: \".concat(chain);\n                                                        }\n                                                        _this.toolTips.set(key, tooltip);\n                                                        document.getElementsByClassName(circlePath)[0].setAttribute('onmouseover', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseover').split(';')[0] +\n                                                            \";UiActionsService.showTooltip(evt, '\".concat(tooltip, \"', '\").concat(circlePath, \"', '\").concat(_this.rv3VUEcomponent.proteinColorMap.get(chain), \"', '\").concat(_this.rv3VUEcomponent.proteinColorMap.get(chain), \"')\"));\n                                                        document.getElementsByClassName(circlePath)[0].setAttribute('onmouseout', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseout').split(';')[0] +\n                                                            \";UiActionsService.hideTooltip('\".concat(circlePath, \"')\"));\n                                                        if (document.getElementsByClassName(path)[0]) {\n                                                            document.getElementsByClassName(path)[0].setAttribute('onmouseover', document.getElementsByClassName(path)[0].getAttribute('onmouseover').split(';')[0] +\n                                                                \";UiActionsService.showTooltip(evt, '\".concat(tooltip, \"', '\").concat(path, \"', '\").concat(_this.rv3VUEcomponent.proteinColorMap.get(chain), \"', '\").concat(_this.rv3VUEcomponent.proteinColorMap.get(chain), \"')\"));\n                                                            document.getElementsByClassName(path)[0].setAttribute('onmouseout', document.getElementsByClassName(path)[0].getAttribute('onmouseout').split(';')[0] +\n                                                                \";UiActionsService.hideTooltip('\".concat(path, \"')\"));\n                                                        }\n                                                    });\n                                                    return [2 /*return*/];\n                                            }\n                                        });\n                                    });\n                                }))];\n                            case 1:\n                                _a.sent();\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            }\n            var proteinContactsValues, _i, proteinContactsValues_1, val, contacts, chem_mods, _this;\n            var _this_1 = this;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.rv3VUEcomponent.protein_contacts) return [3 /*break*/, 4];\n                        proteinContactsValues = Object.keys(this.rv3VUEcomponent.protein_contacts);\n                        _i = 0, proteinContactsValues_1 = proteinContactsValues;\n                        _a.label = 1;\n                    case 1:\n                        if (!(_i < proteinContactsValues_1.length)) return [3 /*break*/, 4];\n                        val = proteinContactsValues_1[_i];\n                        return [4 /*yield*/, data_1.BanNameHelper.getBanName(this.pluginOptions.pdbId, val)];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 4:\n                        contacts = new Map();\n                        this.mapped_chains.forEach(function (val) {\n                            //let tooltip = \"Contacts: \" + val;\n                            for (var i in _this_1.rv3VUEcomponent.protein_contacts[val]) {\n                                var path = \"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(_this_1.rv3VUEcomponent.protein_contacts[val][i]);\n                                if (document.getElementsByClassName(path)[0]) {\n                                    if (contacts.get(_this_1.rv3VUEcomponent.protein_contacts[val][i])) {\n                                        var newList = contacts.get(_this_1.rv3VUEcomponent.protein_contacts[val][i]);\n                                        newList.push(val);\n                                        contacts.set(_this_1.rv3VUEcomponent.protein_contacts[val][i], newList);\n                                    }\n                                    else {\n                                        contacts.set(_this_1.rv3VUEcomponent.protein_contacts[val][i], [val]);\n                                    }\n                                    //document.getElementsByClassName(path)[0].addEventListener('mouseover', (e) =>  {UiActionsService.showTooltip(e, tooltip, path, this.rv3VUEcomponent.proteinColorMap.get(val), this.rv3VUEcomponent.proteinColorMap.get(val))})\n                                    //document.getElementsByClassName(path)[0].addEventListener('mouseout', UiActionsService.hideTooltip.bind(this, path))\n                                }\n                            }\n                        });\n                        chem_mods = new Map();\n                        this.mapped_modifications.forEach(function (val) {\n                            //let tooltip = \"Contacts: \" + val;\n                            for (var i in _this_1.rv3VUEcomponent.modified_residues.get(val)) {\n                                //let path = `circle_${this.pluginOptions.pdbId}_${this.rv3VUEcomponent.modified_residues[val][i]}`\n                                var path = \"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(_this_1.rv3VUEcomponent.modified_residues.get(val)[i]);\n                                if (document.getElementsByClassName(path)[0]) {\n                                    if (chem_mods.get(_this_1.rv3VUEcomponent.modified_residues.get(val)[i])) {\n                                        var newList = chem_mods.get(_this_1.rv3VUEcomponent.modified_residues.get(val)[i]);\n                                        newList.push(val);\n                                        chem_mods.set(_this_1.rv3VUEcomponent.modified_residues.get(val)[i], newList);\n                                    }\n                                    else {\n                                        chem_mods.set(_this_1.rv3VUEcomponent.modified_residues.get(val)[i], [val]);\n                                    }\n                                    //document.getElementsByClassName(path)[0].addEventListener('mouseover', (e) =>  {UiActionsService.showTooltip(e, tooltip, path, this.rv3VUEcomponent.proteinColorMap.get(val), this.rv3VUEcomponent.proteinColorMap.get(val))})\n                                    //document.getElementsByClassName(path)[0].addEventListener('mouseout', UiActionsService.hideTooltip.bind(this, path))\n                                }\n                            }\n                        });\n                        _this = this;\n                        return [4 /*yield*/, processContacts(contacts)\n                            /*\n                            contacts.forEach((value: string[], key: number) => {\n                                let tooltip = \"Contact:\"\n                                let circlePath = `circle_${this.pluginOptions.pdbId}_${key}`\n                                let path = `rnaviewEle rnaviewEle_${this.pluginOptions.pdbId} rnaview_${this.pluginOptions.pdbId}_${key}`\n                                var chain = ''\n                                let promises = []\n                                \n                                //let BanProtName = ''\n                                for (let val in value) {\n                \n                                    promises.push(BanNameHelper.getBanName(this.pluginOptions.pdbId, value[val]));\n                                    \n                                    \n                                    chain = value[val];\n                \n                                }\n                \n                                /*Promise.all(promises).then ((banNames : Array<any>) => {\n                                        \n                                    banNames.forEach(BanName => {\n                                        if (BanName.length > 0) {\n                                            tooltip += \" \" +BanName[0]+\"; chain: \" + chain;\n                                        } else {\n                                            tooltip = \"chain: \" + chain;\n                                        }\n                                  \n                                        });\n                                const banNames = await Promise.all(promises);\n                \n                                banNames.forEach((BanName, index) => {\n                                    if (BanName.length > 0) {\n                                    tooltip += \" \" + BanName[0] + \"; chain: \" + chain;\n                                    } else {\n                                    tooltip = \"chain: \" + chain;\n                                    }\n                                        \n                                this.toolTips.set(key, tooltip);\n                                (<HTMLElement>document.getElementsByClassName(circlePath)[0]).setAttribute('onmouseover', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseover')!.split(';')[0] + `;UiActionsService.showTooltip(evt, '${tooltip}', '${circlePath}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}')`);\n                                (<HTMLElement>document.getElementsByClassName(circlePath)[0]).setAttribute('onmouseout', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseout')!.split(';')[0] + `;UiActionsService.hideTooltip('${circlePath}')`);\n                                if((<HTMLElement>document.getElementsByClassName(path)[0])) {\n                                    (<HTMLElement>document.getElementsByClassName(path)[0]).setAttribute('onmouseover', document.getElementsByClassName(path)[0].getAttribute('onmouseover')!.split(';')[0] + `;UiActionsService.showTooltip(evt, '${tooltip}', '${path}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}')`);\n                                //this.eventMap.set(path, UiActionsService.hideTooltip.bind(this, path))\n                                //document.getElementsByClassName(path)[0].addEventListener('mouseout', this.eventMap.get(path))\n                                    (<HTMLElement>document.getElementsByClassName(path)[0]).setAttribute('onmouseout', document.getElementsByClassName(path)[0].getAttribute('onmouseout')!.split(';')[0] + `;UiActionsService.hideTooltip('${path}')`);\n                                }\n                                  });\n                               \n                \n                \n                            });*/\n                        ];\n                    case 5:\n                        _a.sent();\n                        /*\n                        contacts.forEach((value: string[], key: number) => {\n                            let tooltip = \"Contact:\"\n                            let circlePath = `circle_${this.pluginOptions.pdbId}_${key}`\n                            let path = `rnaviewEle rnaviewEle_${this.pluginOptions.pdbId} rnaview_${this.pluginOptions.pdbId}_${key}`\n                            var chain = ''\n                            let promises = []\n                            \n                            //let BanProtName = ''\n                            for (let val in value) {\n            \n                                promises.push(BanNameHelper.getBanName(this.pluginOptions.pdbId, value[val]));\n                                \n                                \n                                chain = value[val];\n            \n                            }\n            \n                            /*Promise.all(promises).then ((banNames : Array<any>) => {\n                                    \n                                banNames.forEach(BanName => {\n                                    if (BanName.length > 0) {\n                                        tooltip += \" \" +BanName[0]+\"; chain: \" + chain;\n                                    } else {\n                                        tooltip = \"chain: \" + chain;\n                                    }\n                              \n                                    });\n                            const banNames = await Promise.all(promises);\n            \n                            banNames.forEach((BanName, index) => {\n                                if (BanName.length > 0) {\n                                tooltip += \" \" + BanName[0] + \"; chain: \" + chain;\n                                } else {\n                                tooltip = \"chain: \" + chain;\n                                }\n                                    \n                            this.toolTips.set(key, tooltip);\n                            (<HTMLElement>document.getElementsByClassName(circlePath)[0]).setAttribute('onmouseover', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseover')!.split(';')[0] + `;UiActionsService.showTooltip(evt, '${tooltip}', '${circlePath}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}')`);\n                            (<HTMLElement>document.getElementsByClassName(circlePath)[0]).setAttribute('onmouseout', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseout')!.split(';')[0] + `;UiActionsService.hideTooltip('${circlePath}')`);\n                            if((<HTMLElement>document.getElementsByClassName(path)[0])) {\n                                (<HTMLElement>document.getElementsByClassName(path)[0]).setAttribute('onmouseover', document.getElementsByClassName(path)[0].getAttribute('onmouseover')!.split(';')[0] + `;UiActionsService.showTooltip(evt, '${tooltip}', '${path}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}')`);\n                            //this.eventMap.set(path, UiActionsService.hideTooltip.bind(this, path))\n                            //document.getElementsByClassName(path)[0].addEventListener('mouseout', this.eventMap.get(path))\n                                (<HTMLElement>document.getElementsByClassName(path)[0]).setAttribute('onmouseout', document.getElementsByClassName(path)[0].getAttribute('onmouseout')!.split(';')[0] + `;UiActionsService.hideTooltip('${path}')`);\n                            }\n                              });\n                           \n            \n            \n                        });*/\n                        chem_mods.forEach(function (value, key) {\n                            var tooltip = \"Modified_nucleotide:\";\n                            var circlePath = \"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(key);\n                            var path = \"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(key);\n                            var mod = '';\n                            for (var val in value) {\n                                tooltip += \" \" + value[val];\n                                mod = value[val];\n                            }\n                            _this_1.toolTips.set(key, tooltip);\n                            //this.mouseOverMap.set(circlePath, (e: Event) =>  {UiActionsService.showTooltip(e, tooltip, circlePath, this.rv3VUEcomponent.proteinColorMap.get(chain), this.rv3VUEcomponent.proteinColorMap.get(chain))})\n                            //document.getElementsByClassName(circlePath)[0].addEventListener('mouseover', this.mouseOverMap.get(circlePath))\n                            //(<HTMLElement>document.getElementsByClassName(circlePath)[0]).setAttribute('onmouseover', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseover')!.split(';')[0] + `;UiActionsService.showTooltip(evt, '${tooltip}', '${circlePath}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}', '${this.rv3VUEcomponent.proteinColorMap.get(chain)}')`);\n                            document.getElementsByClassName(circlePath)[0].setAttribute('onmouseover', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseover').split(';')[0] + \";UiActionsService.showTooltip(evt, '\".concat(tooltip, \"', '\").concat(circlePath, \"', '\").concat(_this_1.rv3VUEcomponent.modifiedColorMap.get(mod), \"', '\").concat(_this_1.rv3VUEcomponent.modifiedColorMap.get(mod), \"')\"));\n                            //this.eventMap.set(path, UiActionsService.hideTooltip.bind(this, circlePath))\n                            document.getElementsByClassName(circlePath)[0].setAttribute('onmouseout', document.getElementsByClassName(circlePath)[0].getAttribute('onmouseout').split(';')[0] + \";UiActionsService.hideTooltip('\".concat(circlePath, \"')\"));\n                            //document.getElementsByClassName(circlePath)[0].addEventListener('mouseout', this.eventMap.get(circlePath))\n                            //this.mouseOverMap.set(path, (e: Event) =>  {UiActionsService.showTooltip(e, tooltip, path, this.rv3VUEcomponent.proteinColorMap.get(chain), this.rv3VUEcomponent.proteinColorMap.get(chain))})\n                            //document.getElementsByClassName(path)[0].addEventListener('mouseover', this.mouseOverMap.get(path))\n                            if (document.getElementsByClassName(path)[0]) {\n                                document.getElementsByClassName(path)[0].setAttribute('onmouseover', document.getElementsByClassName(path)[0].getAttribute('onmouseover').split(';')[0] + \";UiActionsService.showTooltip(evt, '\".concat(tooltip, \"', '\").concat(path, \"', '\").concat(_this_1.rv3VUEcomponent.modifiedColorMap.get(mod), \"', '\").concat(_this_1.rv3VUEcomponent.modifiedColorMap.get(mod), \"')\"));\n                                //this.eventMap.set(path, UiActionsService.hideTooltip.bind(this, path))\n                                //document.getElementsByClassName(path)[0].addEventListener('mouseout', this.eventMap.get(path))\n                                document.getElementsByClassName(path)[0].setAttribute('onmouseout', document.getElementsByClassName(path)[0].getAttribute('onmouseout').split(';')[0] + \";UiActionsService.hideTooltip('\".concat(path, \"')\"));\n                            }\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    UiTemplateService.prototype.removeEventHandlers = function (svgData) {\n        var nodeList = svgData.childNodes[1].childNodes;\n        for (var i in nodeList) {\n            var el = nodeList[i];\n            if (el.attributes) {\n                var attributes = [].slice.call(el.attributes);\n                for (var i_1 = 0; i_1 < attributes.length; i_1++) {\n                    var att = attributes[i_1].name;\n                    if (att.indexOf(\"on\") === 0) {\n                        el.attributes.removeNamedItem(att);\n                    }\n                }\n            }\n        }\n        return svgData;\n    };\n    UiTemplateService.prototype.svgTemplate = function (apiData, FR3DData, FR3DNestedData) {\n        var _this_1 = this;\n        var font_size = this.calculateFontSize(apiData);\n        var lastPathIndex = apiData.svg_paths.length - 1;\n        var locations2 = new Map();\n        var locations3 = new Map();\n        if (this.pluginOptions.pdbId == \"cust\" || this.rv3VUEcomponent.structFailed) {\n            lastPathIndex = lastPathIndex - 2;\n            apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n                if (recordIndex == 0 || recordIndex >= lastPathIndex + 1)\n                    return;\n                var pathStrParsed = pathStr.split('M').join(',').split(',');\n                var xVal = Number(pathStrParsed[3]);\n                var yVal = Number(pathStrParsed[4]);\n                var midX = (xVal);\n                var midY = (yVal);\n                locations2.set(apiData.label_seq_ids[recordIndex - 1], [midX, midY]);\n                if (recordIndex >= 2) {\n                    var lastX = locations2.get(apiData.label_seq_ids[recordIndex - 2])[0];\n                    var lastY = locations2.get(apiData.label_seq_ids[recordIndex - 2])[1];\n                    locations3.set(apiData.label_seq_ids[recordIndex - 1], [(lastX + midX) / 2, (lastY + midY) / 2]);\n                }\n                _this_1.locations.set(apiData.label_seq_ids[recordIndex - 1], [xVal, yVal]);\n            });\n        }\n        else {\n            apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n                if (recordIndex === 0 || recordIndex === 1 || recordIndex >= lastPathIndex + 1)\n                    return;\n                var pathStrParsed = pathStr.split('M').join(',').split(',');\n                var x1Val = Number(pathStrParsed[1]);\n                var y1Val = Number(pathStrParsed[2]);\n                var xVal = Number(pathStrParsed[3]);\n                var yVal = Number(pathStrParsed[4]);\n                var midX = (xVal + x1Val) / 2;\n                var midY = (yVal + y1Val) / 2;\n                locations2.set(apiData.label_seq_ids[recordIndex - 1], [midX, midY]);\n                _this_1.locations.set(apiData.label_seq_ids[recordIndex - 1], [xVal, yVal]);\n            });\n        }\n        apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n            //if(recordIndex === 0 || recordIndex === 1 || recordIndex === (lastPathIndex + 1)) return;\n            if (recordIndex === 0 || recordIndex === 1 || recordIndex >= (lastPathIndex + 1))\n                return;\n            var pathEleClass = \"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(apiData.label_seq_ids[recordIndex - 1]);\n            var strokeColor = ((_a = _this_1.pluginOptions.theme) === null || _a === void 0 ? void 0 : _a.color) || '#323232';\n            var strokeWide = ((_b = _this_1.pluginOptions.theme) === null || _b === void 0 ? void 0 : _b.strokeWidth) || '2';\n            var isUnobserved = false;\n            if (apiData.unobserved_label_seq_ids && apiData.unobserved_label_seq_ids.indexOf(apiData.label_seq_ids[recordIndex - 1]) > -1) {\n                strokeColor = ((_c = _this_1.pluginOptions.theme) === null || _c === void 0 ? void 0 : _c.unobservedColor) || '#ccc';\n                isUnobserved = true;\n            }\n            var pathStrParsed = pathStr.split('M').join(',').split(',');\n            var xVal = Number(pathStrParsed[3]);\n            var yVal = Number(pathStrParsed[4]);\n            var deltaX = font_size / 2;\n            var deltaY = font_size / 2;\n            var newPathStr;\n            if (_this_1.pluginOptions.pdbId == \"cust\") {\n                if (recordIndex < (lastPathIndex)) {\n                    var newX = locations3.get(apiData.label_seq_ids[recordIndex - 1])[0];\n                    var newX2 = locations3.get(apiData.label_seq_ids[recordIndex])[0];\n                    var newY = locations3.get(apiData.label_seq_ids[recordIndex - 1])[1];\n                    var newY2 = locations3.get(apiData.label_seq_ids[recordIndex])[1];\n                    newPathStr = \"M\".concat(newX + deltaX, \",\").concat(newY - deltaY, \",\").concat(newX2 + deltaX, \",\").concat(newY2 - deltaY);\n                }\n                else {\n                    var newX = locations3.get(apiData.label_seq_ids[recordIndex - 1])[0];\n                    var newY = locations3.get(apiData.label_seq_ids[recordIndex - 1])[1];\n                    var newX2 = 2 * xVal - newX;\n                    var newY2 = 2 * yVal - newY;\n                    newPathStr = \"M\".concat(newX + deltaX, \",\").concat(newY - deltaY, \",\").concat(newX2 + deltaX, \",\").concat(newY2 - deltaY);\n                }\n            }\n            else {\n                if (recordIndex < (lastPathIndex)) {\n                    var newX = locations2.get(apiData.label_seq_ids[recordIndex - 1])[0];\n                    var newX2 = locations2.get(apiData.label_seq_ids[recordIndex])[0];\n                    var newY = locations2.get(apiData.label_seq_ids[recordIndex - 1])[1];\n                    var newY2 = locations2.get(apiData.label_seq_ids[recordIndex])[1];\n                    newPathStr = \"M\".concat(newX + deltaX, \",\").concat(newY - deltaY, \",\").concat(newX2 + deltaX, \",\").concat(newY2 - deltaY);\n                }\n                else {\n                    var newX = locations2.get(apiData.label_seq_ids[recordIndex - 1])[0];\n                    var newY = locations2.get(apiData.label_seq_ids[recordIndex - 1])[1];\n                    var newX2 = 2 * xVal - newX;\n                    var newY2 = 2 * yVal - newY;\n                    newPathStr = \"M\".concat(newX + deltaX, \",\").concat(newY - deltaY, \",\").concat(newX2 + deltaX, \",\").concat(newY2 - deltaY);\n                }\n            }\n            /*\n            newPathStr = pathStr\n            */\n            pathStr = newPathStr;\n            _this_1.pathStrs.push(\"<path \\n                    class=\\\"\".concat(pathEleClass, \"\\\" stroke-width=\\\"\").concat(strokeWide, \"\\\" stroke=\\\"\").concat(strokeColor, \"\\\" d=\\\"\").concat(pathStr, \"\\\" \\n                    data-stroke-color=\\\"\").concat(strokeColor, \"\\\" \\n                    onclick=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'click', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_d = _this_1.pluginOptions.theme) === null || _d === void 0 ? void 0 : _d.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n                    onmouseover=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'mouseover', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_e = _this_1.pluginOptions.theme) === null || _e === void 0 ? void 0 : _e.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n                    onmouseout=\\\"UiActionsService.unSelectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", \").concat(isUnobserved, \", event, '\").concat(strokeColor, \"')\\\">\\n                </path>\"));\n            _this_1.circleStrs.push(\"<circle class=\\\"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(apiData.label_seq_ids[recordIndex - 1], \"\\\" cx=\\\"\").concat(xVal + deltaX, \"\\\" cy=\\\"\").concat(yVal - deltaY, \"\\\" r=\\\"\").concat(2 * font_size / 3, \"\\\" display=\\\"none\\\" alignment-baseline=\\\"middle\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" onclick=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'click', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_f = _this_1.pluginOptions.theme) === null || _f === void 0 ? void 0 : _f.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n                onmouseover=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'mouseover', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_g = _this_1.pluginOptions.theme) === null || _g === void 0 ? void 0 : _g.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n                onmouseout=\\\"UiActionsService.unSelectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", \").concat(isUnobserved, \", event, '\").concat(strokeColor, \"')\\\"/>\"));\n            _this_1.nucleotideStrs.push(\"<text href=\\\"#\".concat(pathEleClass, \"\\\" class=\\\"\").concat(pathEleClass, \"\\\" x=\\\"\").concat(xVal, \"\\\" y=\\\"\").concat(yVal, \"\\\" font-size = \\\"\").concat(font_size, \"px\\\" onclick=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'click', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_h = _this_1.pluginOptions.theme) === null || _h === void 0 ? void 0 : _h.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n                onmouseover=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'mouseover', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_j = _this_1.pluginOptions.theme) === null || _j === void 0 ? void 0 : _j.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n                onmouseout=\\\"UiActionsService.unSelectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", \").concat(isUnobserved, \", event, '\").concat(strokeColor, \"')\\\">\").concat(apiData.sequence[recordIndex - 2], \"</text>\"));\n        });\n        var baseArray = FR3DData.annotations;\n        var nestedBaseArray = FR3DNestedData.annotations;\n        this.baseStrs.set('cWW', [true, []]);\n        this.baseStrs.set('tWW', [false, []]);\n        this.baseStrs.set('cWH', [false, []]);\n        this.baseStrs.set('tWH', [false, []]);\n        this.baseStrs.set('cWS', [false, []]);\n        this.baseStrs.set('tWS', [false, []]);\n        this.baseStrs.set('cHH', [false, []]);\n        this.baseStrs.set('tHH', [false, []]);\n        this.baseStrs.set('cHS', [false, []]);\n        this.baseStrs.set('tHS', [false, []]);\n        this.baseStrs.set('cSS', [false, []]);\n        this.baseStrs.set('tSS', [false, []]);\n        this.nestedBaseStrs.set('cWW', [true, []]);\n        this.nestedBaseStrs.set('tWW', [false, []]);\n        this.nestedBaseStrs.set('cWH', [false, []]);\n        this.nestedBaseStrs.set('tWH', [false, []]);\n        this.nestedBaseStrs.set('cWS', [false, []]);\n        this.nestedBaseStrs.set('tWS', [false, []]);\n        this.nestedBaseStrs.set('cHH', [false, []]);\n        this.nestedBaseStrs.set('tHH', [false, []]);\n        this.nestedBaseStrs.set('cHS', [false, []]);\n        this.nestedBaseStrs.set('tHS', [false, []]);\n        this.nestedBaseStrs.set('cSS', [false, []]);\n        this.nestedBaseStrs.set('tSS', [false, []]);\n        nestedBaseArray.forEach(function (baseStr) {\n            _this_1.calcBaseStrs(baseStr, _this_1.nestedBaseStrs, font_size);\n        });\n        baseArray.forEach(function (baseStr) {\n            _this_1.calcBaseStrs(baseStr, _this_1.baseStrs, font_size);\n        });\n        this.baseStrs.forEach(function (value, key) {\n            if (value[0]) {\n                _this_1.displayBaseStrs += value[1].join('');\n            }\n            if (_this_1.nestedBaseStrs.get(key)[0]) {\n                _this_1.displayNestedBaseStrs += _this_1.nestedBaseStrs.get(key)[1].join('');\n            }\n        });\n        return \"\\n        <div style=\\\"width:100%;height:100%;z-index:0;position:absolute;\\\">\\n            <svg preserveAspectRatio=\\\"xMidYMid meet\\\" \\n            viewBox=\\\"0 0 \".concat(apiData.dimensions.width, \" \").concat(apiData.dimensions.height, \"\\\" \\n            style=\\\"width:100%;height:100%;position:relative;\\\">\\n                <g class=\\\"rnaTopoSvgSelection rnaTopoSvgSelection_\").concat(this.pluginOptions.pdbId, \"\\\"></g>\\n            </svg>\\n        </div>\\n        <div style=\\\"width:100%;height:100%;z-index:1;position:absolute;\\\">\\n            <svg preserveAspectRatio=\\\"xMidYMid meet\\\"\\n            viewBox=\\\"0 0 \").concat(apiData.dimensions.width, \" \").concat(apiData.dimensions.height, \"\\\" \\n            style=\\\"width:100%;height:100%;position:relative;\\\">\\n                <g class=\\\"rnaTopoSvgHighlight rnaTopoSvgHighlight_\").concat(this.pluginOptions.pdbId, \"\\\"></g>\\n            </svg>\\n        </div>\\n        <div id=\\\"tooltip\\\" display=\\\"none\\\" style=\\\"position:absolute; display: none;\\\"></div> \\n            <div style=\\\"width:100%;height:100%;z-index:2;position:absolute;\\\">\\n                <svg class=\\\"rnaTopoSvg\\\" preserveAspectRatio=\\\"xMidYMid meet\\\" \\n                    viewBox=\\\"0 0 \").concat(apiData.dimensions.width, \" \").concat(apiData.dimensions.height, \"\\\" \\n                    style=\\\"width:100%;height:100%;\\\">\\n                        <g class=\\\"rnaTopoSvg_\").concat(this.pluginOptions.pdbId, \"\\\">\").concat(this.nucleotideStrs.join('')).concat(this.circleStrs.join('')).concat(this.displayBaseStrs, \"</g>\\n                </svg>\\n            </div>\");\n    };\n    UiTemplateService.prototype.title = function () {\n        return \"<span class=\\\"pdb-rna-view-title\\\">\".concat(this.pluginOptions.pdbId.toUpperCase(), \" Chain \").concat(this.pluginOptions.chainId, \"</span>\");\n    };\n    UiTemplateService.prototype.tooltip = function () {\n        return \"<span class=\\\"pdb-rna-view-tooltip\\\" id=\\\"\".concat(this.pluginOptions.pdbId, \"-rnaTopologyTooltip\\\"></span>\");\n    };\n    UiTemplateService.prototype.actionButtons = function () {\n        return \"<div class=\\\"pdb-rna-view-btn-group\\\">\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-in\\\" id=\\\"rnaTopologySaveSVG-\".concat(this.pluginOptions.pdbId, \"\\\">\\n                <img class=\\\"saveSVG\\\" src=\\\"static/alignments/png/Save.png\\\" style=\\\"height:24px; width: 24px; border:0;position: relative;cursor:pointer;\\\" title=\\\"saveSVG\\\"/>\\n            </span>\\n\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-in\\\" id=\\\"rnaTopologyZoomIn-\").concat(this.pluginOptions.pdbId, \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z\\\" />\\n                </svg>\\n            </span>\\n            \\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-out\\\" id=\\\"rnaTopologyZoomOut-\").concat(this.pluginOptions.pdbId, \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z\\\" />\\n                </svg>\\n            </span>\\n\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Reset\\\" id=\\\"rnaTopologyReset-\").concat(this.pluginOptions.pdbId, \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M12,6V9L16,5L12,1V4A8,8 0 0,0 4,12C4,13.57 4.46,15.03 5.24,16.26L6.7,14.8C6.25,13.97 6,13 6,12A6,6 0 0,1 12,6M18.76,7.74L17.3,9.2C17.74,10.04 18,11 18,12A6,6 0 0,1 12,18V15L8,19L12,23V20A8,8 0 0,0 20,12C20,10.43 19.54,8.97 18.76,7.74Z\\\" />\\n                </svg>\\n            </span>\\n\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Full-Screen\\\"  id=\\\"rnaTopologyFSCR-\").concat(this.pluginOptions.pdbId, \"\\\">\\n                <svg width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" id=\\\"TopologyFSCR\\\", title=\\\"Full-Screen\\\" >\\n                    <path transform=\\\"translate(-1, -1)\\\" d=\\\"M4 15V18C4 19.1046 4.89543 20 6 20H9M15.2173 20H18C19.1046 20 20 19.1046 20 18V15M20 9V6C20 4.89543 19.1046 4 18 4H15M4 9V6C4 4.89543 4.89543 4 6 4H9\\\" stroke=\\\"#000000\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"></path>\\n                </svg>\\n            </span>\\n        </div>\");\n    };\n    UiTemplateService.prototype.renderError = function (type) {\n        var errorContent = \"<div class=\\\"pdb-rna-view-error\\\">Error! Something went wrong!</div>\";\n        if (type === 'apiError') {\n            errorContent = \"<div class=\\\"pdb-rna-view-error\\\">\\n                RNA topology data for \".concat(this.pluginOptions.pdbId.toUpperCase(), \" | \").concat(this.pluginOptions.entityId, \" | \").concat(this.pluginOptions.chainId.toUpperCase(), \" is not available!\\n            </div>\");\n        }\n        this.containerElement.innerHTML = \"<div class=\\\"pdb-rna-view-container\\\">\".concat(errorContent, \"</div>\");\n    };\n    UiTemplateService.prototype.saveSVG = function () {\n        function getNode(n, v) {\n            n = document.createElementNS(\"http://www.w3.org/2000/svg\", n);\n            for (var p in v)\n                n.setAttributeNS(null, p.replace(/[0-9]/g, 'o').replace(/\\$/g, 'd').replace(/\\[/g, 'b').replace(/[A-Z]/g, function (m, p, o, s) { return \"-\" + m.toLowerCase(); }), v[p]);\n            return n;\n        }\n        var svgData1 = document.querySelector(\"svg.rnaTopoSvg\");\n        var svgData_forsave = svgData1.cloneNode(true);\n        svgData_forsave = this.removeEventHandlers(svgData_forsave);\n        var svg = getNode(\"svg\");\n        svg.appendChild(svgData_forsave);\n        function saveSvg1(svgEl, name) {\n            svgEl.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n            var svgData = svgEl.outerHTML;\n            var preface = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n';\n            var svgBlob = new Blob([preface, svgData], { type: \"image/svg+xml;charset=utf-8\" });\n            var svgUrl = URL.createObjectURL(svgBlob);\n            var downloadLink = document.createElement(\"a\");\n            downloadLink.href = svgUrl;\n            downloadLink.download = name;\n            document.body.appendChild(downloadLink);\n            downloadLink.click();\n            document.body.removeChild(downloadLink);\n        }\n        saveSvg1(svg, 'rv3Topology.svg');\n    };\n    return UiTemplateService;\n}());\nexports.UiTemplateService = UiTemplateService;\n//# sourceMappingURL=uiTemplate.js.map","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["tslib_1","data_1","uiTemplate_1","uiActions_1","customEvents_1","PdbRnaViewerPlugin","CustomEvents","Object","defineProperty","exports","value","create","eventTypeArr","eventObj","ei","el","length","eventType","event_1","MouseEvent","window","document","createEvent","initEvent","dispatchCustomEvent","event","eventData","targetElement","dispatchEvent","subscribeToComponentEvents","pluginCtx","addEventListener","e","detail","startResidue","parseInt","start","endResidue","end","clearSelection","i","selectResidue","color","clearHighlight","highlightResidue","residueNumber","auth_asym_id","options","chainId","auth_seq_id","undefined","BanNameHelper","DataService","rv3VUEcomponent","vm","prototype","getApiData","entityId","pdbId","__awaiter","this","apiUrl","e_1","__generator","_a","label","trys","push","concat","toLowerCase","fetch","sent","json","handleError","getFR3DData","csvUrl","e_2","handleFR3DError","getFR3DNestedData","e_3","structFailed","console","log","getBanName","PchainId","cacheKey","matches","_i","_b","banNameMap","has","get","unfilteredChains_orig","error","filter","entry","in_chains","includes","protein_chains","banname_2D","molecule_name","replace","map","Map","UiActionsService","applyButtonActions","_this","svgEle","d3","select","zoom1","zoom","on","attr","transform","call","stopPropagation","scaleBy","transition","duration","transformValue","_groups","getAttribute","transformValMatch","match","zoomIdentity","unSelectNucleotide","label_seq_id","isUnobserved","stopImmediatePropagation","ttEle","getElementById","style","display","lastSelected","evData","textElement","querySelector","pdbevents","showCheckboxes","checkboxes","expanded","selected","nucleotide","getElementsByClassName","selectedColor","nodeName","setAttribute","innerHTML","showTooltip","evt","text","path","fill","tooltip","id","left","layerX","top","layerY","selectedBPColor","fillBPColor","node","hideTooltip","drawCircle","index","circle","BBox","getBBox","nx","x","width","ny","y","height","selectedPath","selectNucleotide","residue","colorNucleotide","eventName","type","shape","strokeColor","UiTemplateService","containerElement","pluginOptions","apiData","_this_1","selectSections_RV1","aaPropertyConstants","mapped_aa_properties","aaColorData","parsePVData","getEntropyAnnotations","getTWCAnnotations","getCustomAnnotations","getAssociatedAnnotations","getHelicalAnnotations","getPhaseAnnotations","getExpansionAnnotations","getAnnotationArray","locations","menuStyle","pathStrs","nucleotideStrs","circleStrs","baseStrs","nestedBaseStrs","basePairIDs","mappingValue","showAllNucleotides","mouseOverMap","eventMap","toolTips","selectSectionsTest","defaultColours","domainSelection","mouseOver","borderColor","qualityGreen","qualityRed","qualityYellow","qualityRiboVision","qualityOrange","qualityBlank","mapped_chains","Set","mapped_modifications","colorMap","tempDomain","domainTypes","find","item","data","forEach","val","cPath","nPath","split","selectBoxEle","selectedValue","selectedDomain_1","indexOf","struct_to_alignment_mapping","align_index","circlePath","associatedDataCache","set","colorMapHelper","mappingDropdown","num","selected_property","colorMapContacts","pchainid","protein_contacts","delete","chain","proteinColorMap","add","addEvents","colorMapModifications","modifications","modified_residues","mod","modifiedColorMap","uiActionsService","render","FR3DData","FR3DNestedData","BanName","instance","svgTemplate","title","actionButtons","createModeDropdown","createBPDropdown","saveSVG","bind","getAnnotationFromRibovision","fullscreenElement","exitFullscreen","requestFullscreen","fixOverlaps","xAdjust","yAdjust","sequence","char","ele","label_seq_ids","nextEle","Number","distances","getIntersections","lowest","j","changeBP","flag","displayBaseStrs","displayNestedBaseStrs","allBP","checked","key","join","PathOrNucleotide","size","optionList_1","createDomainDropdown","selectedDomain","optionList_2","opt","create2D3DAnnotations","name","residueDetails","TWCrgbMap","TWCData","chain_start","chain_end","rgb_color","entity_id","residue_number","sideChain","String","colors","tooltipMsg","parseFloat","toPrecision","tooltipPosition","mapped_3D_properties","focus","separatedData","data3D","min","Math","apply","max","colormapArray","mapLastValue","TWCData_keys","keys","next","current","order","topology_loaded","obj1","obj2","left1","right1","top1","bottom1","left2","right2","top2","bottom2","calculateFontSize","xVals","yVals","dist","lastPathIndex","svg_paths","pathStr","recordIndex","pathStrParsed","xDiff","yDiff","pow","sortedDist","sort","a","b","floor","download","filename","file","Blob","createElement","url","URL","createObjectURL","href","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","calcBaseStrs","baseStr","baseMap","font_size","seq_id1","seq_id2","bp","pathID","n1","nt1","n2","nt2","temp","temp2","charAt","slice","reverse","x1","x2","y1","y2","distance","x1_prime","linearlyInterpolate","y1_prime","x2_prime","y2_prime","stroke","xm","ym","distance2","defaultAction","phi","atan2","PI","xm1","ym1","xm2","ym2","v0","v1","interpolationFactor","displayBP","processContacts","contacts","Promise","all","Array","from","entries","promises","value_1","proteinContactsValues","proteinContactsValues_1","chem_mods","newList","removeEventHandlers","svgData","nodeList","childNodes","attributes","i_1","att","removeNamedItem","locations2","locations3","xVal","yVal","midX","midY","lastX","lastY","x1Val","y1Val","_c","_d","_e","_f","_g","_h","_j","pathEleClass","theme","strokeWide","strokeWidth","unobserved_label_seq_ids","unobservedColor","newPathStr","deltaX","deltaY","newX","newX2","newY","newY2","highlightColor","baseArray","annotations","nestedBaseArray","dimensions","toUpperCase","renderError","errorContent","svgData_forsave","cloneNode","svg","n","v","p","createElementNS","setAttributeNS","m","o","s","getNode","svgEl","outerHTML","svgBlob","svgUrl","downloadLink","saveSvg1","extendStatics","d","setPrototypeOf","__proto__","hasOwnProperty","__extends","TypeError","__","constructor","__assign","assign","t","arguments","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__esDecorate","ctor","descriptorIn","contextIn","initializers","extraInitializers","accept","f","_","kind","descriptor","done","context","access","addInitializer","result","init","unshift","__runInitializers","thisArg","useValue","__propKey","__setFunctionName","prefix","description","configurable","__metadata","metadataKey","metadataValue","metadata","_arguments","P","generator","resolve","reject","fulfilled","step","rejected","then","g","ops","verb","Symbol","iterator","op","pop","__createBinding","k","k2","__esModule","writable","enumerable","__exportStar","__values","__read","ar","__spread","__spreadArrays","il","jl","__spreadArray","to","pack","l","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","__importDefault","default","__classPrivateFieldGet","receiver","state","__classPrivateFieldSet","__classPrivateFieldIn","__addDisposableResource","env","async","dispose","asyncDispose","stack","_SuppressedError","SuppressedError","suppressed","message","Error","__disposeResources","fail","hasError","rec","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","definition","obj","prop","toStringTag","rvAPI","dataService","r2dtjson","targetEle","uiTemplateService","json_structures_from_r2dt","RNA_2D_json","RNA_BP_json"],"sourceRoot":""}