{"version":3,"file":"pdb-rna-viewer-plugin-0.1.0.js","mappings":"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","sources":["webpack://pdb-rna-viewer/./lib/index.js","webpack://pdb-rna-viewer/./lib/customEvents.js","webpack://pdb-rna-viewer/./lib/data.js","webpack://pdb-rna-viewer/./lib/uiActions.js","webpack://pdb-rna-viewer/./lib/uiTemplate.js","webpack://pdb-rna-viewer/./node_modules/tslib/tslib.es6.js","webpack://pdb-rna-viewer/webpack/bootstrap","webpack://pdb-rna-viewer/webpack/runtime/define property getters","webpack://pdb-rna-viewer/webpack/runtime/hasOwnProperty shorthand","webpack://pdb-rna-viewer/webpack/runtime/make namespace object"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar data_1 = require(\"./data\");\nvar uiTemplate_1 = require(\"./uiTemplate\");\nvar uiActions_1 = require(\"./uiActions\");\nvar customEvents_1 = require(\"./customEvents\");\nvar PdbRnaViewerPlugin = /** @class */ (function () {\n    function PdbRnaViewerPlugin() {\n        this.dataService = new data_1.DataService();\n    }\n    PdbRnaViewerPlugin.prototype.render = function (target, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, _b;\n            var _this = this;\n            return tslib_1.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!target || !options.pdbId || !options.chainId || !options.entityId) {\n                            console.log('Invalid plugin input!');\n                            return [2 /*return*/];\n                        }\n                        this.options = options;\n                        _a = this;\n                        return [4 /*yield*/, this.dataService.getApiData(this.options.entityId, this.options.chainId, this.options.pdbId)];\n                    case 1:\n                        _a.apiData = _c.sent();\n                        _b = this;\n                        return [4 /*yield*/, this.dataService.getFR3DData(this.options.pdbId, this.options.chainId)];\n                    case 2:\n                        _b.FR3DData = _c.sent();\n                        this.targetEle = target;\n                        this.uiTemplateService = new uiTemplate_1.UiTemplateService(this.targetEle, this.options, this.apiData);\n                        if (this.apiData) {\n                            // draw topology\n                            this.uiTemplateService.render(this.apiData, this.FR3DData);\n                            // Bind to other PDB Component events\n                            if (this.options.subscribeEvents) {\n                                customEvents_1.CustomEvents.subscribeToComponentEvents(this);\n                            }\n                        }\n                        else {\n                            this.uiTemplateService.renderError('apiError');\n                        }\n                        document.addEventListener(\"PDB.molstar.mouseover\", (function (e) {\n                            if (e.eventData && e.eventData.auth_seq_id && e.eventData.auth_asym_id === _this.options.chainId) {\n                                _this.selectResidue(e.eventData.auth_seq_id);\n                                _this.clearHighlight();\n                            }\n                        })),\n                            document.addEventListener(\"PDB.molstar.mouseout\", (function (e) {\n                                _this.clearSelection(e.eventData.residueNumber);\n                            }));\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PdbRnaViewerPlugin.prototype.selectResidue = function (label_seq_id, color) {\n        uiActions_1.UiActionsService.selectNucleotide(this.options.pdbId, this.options.entityId, label_seq_id, 'mouseover', false, color);\n    };\n    PdbRnaViewerPlugin.prototype.clearSelection = function (label_seq_id) {\n        uiActions_1.UiActionsService.unSelectNucleotide(this.options.pdbId, this.options.entityId, label_seq_id, false);\n    };\n    PdbRnaViewerPlugin.prototype.highlightResidue = function (label_seq_id, color) {\n        uiActions_1.UiActionsService.colorNucleotide(this.options.pdbId, label_seq_id, color, 'highlight');\n    };\n    PdbRnaViewerPlugin.prototype.clearHighlight = function () {\n        uiActions_1.UiActionsService.clearHighlight(this.options.pdbId);\n    };\n    return PdbRnaViewerPlugin;\n}());\nwindow.PdbRnaViewerPlugin = PdbRnaViewerPlugin;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CustomEvents = void 0;\nvar CustomEvents;\n(function (CustomEvents) {\n    function create(eventTypeArr) {\n        var eventObj = {};\n        for (var ei = 0, el = eventTypeArr.length; ei < el; ei++) {\n            var eventType = eventTypeArr[ei];\n            var event_1 = void 0;\n            if (typeof MouseEvent == 'function') {\n                // current standard\n                event_1 = new MouseEvent(eventType, { 'view': window, 'bubbles': true, 'cancelable': true });\n            }\n            else if (typeof document.createEvent == 'function') {\n                // older standard\n                event_1 = document.createEvent('MouseEvents');\n                event_1.initEvent(eventType, true /* bubbles */, true /* cancelable */);\n            }\n            eventObj[eventType] = event_1;\n        }\n        ;\n        return eventObj;\n    }\n    CustomEvents.create = create;\n    function dispatchCustomEvent(event, eventData, targetElement) {\n        event['eventData'] = eventData;\n        targetElement.dispatchEvent(event);\n    }\n    CustomEvents.dispatchCustomEvent = dispatchCustomEvent;\n    function subscribeToComponentEvents(pluginCtx) {\n        document.addEventListener('protvista-click', function (e) {\n            if (typeof e.detail !== 'undefined') {\n                var startResidue = parseInt(e.detail.start);\n                var endResidue = parseInt(e.detail.end);\n                pluginCtx.clearSelection();\n                for (var i = startResidue; i <= endResidue; i++) {\n                    pluginCtx.selectResidue(i, e.detail.color);\n                }\n            }\n        });\n        document.addEventListener('protvista-mouseover', function (e) {\n            if (typeof e.detail !== 'undefined') {\n                var startResidue = parseInt(e.detail.start);\n                var endResidue = parseInt(e.detail.end);\n                pluginCtx.clearHighlight();\n                for (var i = startResidue; i <= endResidue; i++) {\n                    pluginCtx.highlightResidue(i, e.detail.color);\n                }\n            }\n        });\n        document.addEventListener('protvista-mouseout', function (e) {\n            pluginCtx.clearHighlight();\n        });\n        document.addEventListener(\"PDB.molstar.click\", function (e) {\n            if (typeof e.eventData !== 'undefined' && typeof e.eventData.residueNumber !== 'undefined' && e.eventData.auth_asym_id === pluginCtx.options.chainId) {\n                pluginCtx.clearSelection();\n                pluginCtx.selectResidue(e.eventData.residueNumber);\n            }\n        });\n        document.addEventListener(\"PDB.molstar.mouseover\", function (e) {\n            if (typeof e.eventData !== 'undefined' && typeof e.eventData.residueNumber !== 'undefined' && e.eventData.auth_asym_id === pluginCtx.options.chainId) {\n                pluginCtx.clearHighlight();\n                pluginCtx.highlightResidue(e.eventData.residueNumber);\n            }\n        });\n        document.addEventListener(\"PDB.molstar.mouseout\", function () {\n            pluginCtx.clearHighlight();\n        });\n    }\n    CustomEvents.subscribeToComponentEvents = subscribeToComponentEvents;\n})(CustomEvents = exports.CustomEvents || (exports.CustomEvents = {}));\n//# sourceMappingURL=customEvents.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataService = void 0;\nvar tslib_1 = require(\"tslib\");\nvar DataService = /** @class */ (function () {\n    function DataService() {\n    }\n    DataService.prototype.getApiData = function (entityId, chainId, pdbId) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var apiUrl, e_1;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        apiUrl = \"https://wwwdev.ebi.ac.uk/pdbe/static/rfam_images/\".concat(pdbId.toLowerCase(), \"_\").concat(entityId, \"_\").concat(chainId.toUpperCase(), \".json\");\n                        return [4 /*yield*/, fetch(apiUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_1 = _a.sent();\n                        this.handleError(e_1);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.getFR3DData = function (pdbId, chainId) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var csvUrl, e_2;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        csvUrl = \"https://rnacentral.org/api/internal/proxy?url=http://rna.bgsu.edu/rna3dhub/rest/getSequenceBasePairs?pdb_id=\".concat(pdbId.toLowerCase(), \"&chain=\").concat(chainId, \"&only_nested=True\");\n                        return [4 /*yield*/, fetch(csvUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: \n                    //const csvUrl = `http://rna.bgsu.edu/rna3dhub/pdb/${pdbId.toLowerCase()}/interactions/fr3d/basepairs/csv`;\n                    return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_2 = _a.sent();\n                        this.handleFR3DError(e_2);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.handleError = function (e) {\n        console.log(\"RNA topology data not available!\", e);\n    };\n    DataService.prototype.handleFR3DError = function (e) {\n        console.log(\"FR3D mapping data not available!\", e);\n    };\n    return DataService;\n}());\nexports.DataService = DataService;\n//# sourceMappingURL=data.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UiActionsService = void 0;\nvar customEvents_1 = require(\"./customEvents\");\nvar UiActionsService = /** @class */ (function () {\n    function UiActionsService(pdbId) {\n        this.pdbId = pdbId;\n    }\n    UiActionsService.prototype.applyButtonActions = function () {\n        var _this = this;\n        var svgEle = d3.select('.rnaTopoSvg');\n        // initialize SVG zoom behaviour and remove mouse wheel zoom events\n        var zoom1 = d3.zoom().on('zoom', function () {\n            d3.select(\".rnaTopoSvg_\".concat(_this.pdbId)).attr(\"transform\", d3.event.transform);\n            d3.select(\".rnaTopoSvgHighlight_\".concat(_this.pdbId)).attr(\"transform\", d3.event.transform);\n            d3.select(\".rnaTopoSvgSelection_\".concat(_this.pdbId)).attr(\"transform\", d3.event.transform);\n        });\n        d3.select(\".rnaTopoSvg\").call(zoom1)\n            .on('dblclick.zoom', null)\n            .on('wheel.zoom', null)\n            .on('mousewheel.zoom', null);\n        // zoom-in button behaviour\n        d3.select(\"#rnaTopologyZoomIn-\".concat(this.pdbId))\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            zoom1.scaleBy(svgEle.transition().duration(300), 1.2);\n        });\n        // zoom-out button behaviour\n        d3.select(\"#rnaTopologyZoomOut-\".concat(this.pdbId))\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            var rnaTopoSvg = d3.select(\".rnaTopoSvg_\".concat(_this.pdbId));\n            var transformValue = rnaTopoSvg._groups[0][0].getAttribute('transform');\n            if (transformValue && transformValue !== '') {\n                if (transformValue === null)\n                    return;\n                var transformValMatch = +transformValue.match(/.+scale\\((.*)\\)/)[1];\n                if (transformValMatch <= 1 || (transformValMatch - 0.3 <= 1)) {\n                    svgEle.transition().duration(300).call(zoom1.transform, d3.zoomIdentity);\n                    return;\n                }\n            }\n            zoom1.scaleBy(d3.select(\".rnaTopoSvg\").transition().duration(300), 0.8);\n        });\n        // reset button behaviour\n        d3.select(\"#rnaTopologyReset-\".concat(this.pdbId))\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            svgEle.transition().duration(300).call(zoom1.transform, d3.zoomIdentity);\n        });\n        // selection and highlight reset on canvas click\n        d3.select(\".pdb-rna-view-container-\".concat(this.pdbId))\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            UiActionsService.clearHighlight(_this.pdbId);\n            UiActionsService.clearSelection(_this.pdbId);\n        });\n    };\n    UiActionsService.unSelectNucleotide = function (pdbId, entityId, label_seq_id, isUnobserved, event, color) {\n        event === null || event === void 0 ? void 0 : event.stopImmediatePropagation();\n        this.clearHighlight(pdbId);\n        var ttEle = document.getElementById(\"\".concat(pdbId, \"-rnaTopologyTooltip\"));\n        ttEle.style.display = 'none';\n        if (!isUnobserved) {\n            if (label_seq_id == undefined) {\n                label_seq_id = this.lastSelected;\n            }\n            if (label_seq_id > -1) {\n                var evData = { pdbId: pdbId, label_seq_id: label_seq_id, entityId: entityId };\n                var textElement = document.querySelector(\".rnaview_\".concat(pdbId, \"_\").concat(label_seq_id));\n                customEvents_1.CustomEvents.dispatchCustomEvent(this.pdbevents['PDB.RNA.viewer.mouseout'], evData, textElement);\n            }\n        }\n    };\n    UiActionsService.showCheckboxes = function () {\n        var checkboxes = document.getElementById(\"checkboxes\");\n        if (!this.expanded) {\n            checkboxes.style.display = \"block\";\n            this.expanded = true;\n        }\n        else {\n            checkboxes.style.display = \"none\";\n            this.expanded = false;\n        }\n    };\n    UiActionsService.clearHighlight = function (pdbId) {\n        if (this.selected > -1) {\n            var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(pdbId, \" rnaview_\").concat(pdbId, \"_\").concat(this.selected))[0];\n            if (this.selectedColor) {\n                if (nucleotide.nodeName == 'text') {\n                    nucleotide.setAttribute(\"fill\", UiActionsService.selectedColor);\n                }\n                else {\n                    nucleotide.setAttribute(\"stroke\", UiActionsService.selectedColor);\n                }\n            }\n            else {\n                if (nucleotide.nodeName == 'text') {\n                    nucleotide.setAttribute(\"fill\", \"#323232\");\n                }\n                else {\n                    nucleotide.setAttribute(\"stroke\", \"#323232\");\n                }\n            }\n            this.selected = -1;\n        }\n        //document.querySelector(`.rnaTopoSvgHighlight_${pdbId}`)!.innerHTML = \"\";\n    };\n    UiActionsService.clearSelection = function (pdbId) {\n        document.querySelector(\".rnaTopoSvgSelection_\".concat(pdbId)).innerHTML = \"\";\n    };\n    UiActionsService.showTooltip = function (evt, text, path, color, fill) {\n        var tooltip = document.getElementById(\"tooltip\");\n        tooltip.id = \"tooltip\";\n        tooltip.innerHTML = text;\n        tooltip.style.display = \"block\";\n        tooltip.style.left = evt.layerX + 'px';\n        tooltip.style.top = evt.layerY + 'px';\n        this.selectedBPColor = color;\n        this.fillBPColor = fill;\n        document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0].setAttribute(\"stroke\", \"orange\");\n        document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0].setAttribute(\"fill\", \"orange\");\n    };\n    UiActionsService.hideTooltip = function (path) {\n        var tooltip = document.getElementById(\"tooltip\");\n        tooltip.style.display = \"none\";\n        document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0].setAttribute(\"stroke\", \"\".concat(this.selectedBPColor));\n        document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0].setAttribute(\"fill\", \"\".concat(this.fillBPColor));\n    };\n    UiActionsService.drawCircle = function (index, color, pdbId) {\n        var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\".concat(pdbId, \"_\").concat(index))[0];\n        var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(pdbId, \" rnaview_\").concat(pdbId, \"_\").concat(index))[0];\n        var BBox = nucleotide.getBBox();\n        var nx = (BBox.x + BBox.width / 2);\n        var ny = (BBox.y + BBox.height / 2);\n        circle.setAttribute(\"cx\", nx);\n        circle.setAttribute(\"cy\", ny);\n        circle.setAttribute(\"stroke\", \"\".concat(color));\n        circle.setAttribute(\"fill\", \"\".concat(color));\n        circle.style.display = \"block\";\n    };\n    UiActionsService.pdbevents = customEvents_1.CustomEvents.create(['PDB.RNA.viewer.click', 'PDB.RNA.viewer.mouseover', 'PDB.RNA.viewer.mouseout']);\n    UiActionsService.lastSelected = -1;\n    UiActionsService.selected = -1;\n    UiActionsService.selectedPath = '';\n    UiActionsService.selectedBPColor = '';\n    UiActionsService.fillBPColor = '';\n    UiActionsService.selectedColor = '';\n    UiActionsService.expanded = false;\n    UiActionsService.selectNucleotide = function (pdbId, entityId, label_seq_id, eventType, isUnobserved, residue, event, color) {\n        event === null || event === void 0 ? void 0 : event.stopImmediatePropagation();\n        UiActionsService.clearHighlight(pdbId);\n        UiActionsService.colorNucleotide(pdbId, label_seq_id, color, 'highlight');\n        UiActionsService.selected = label_seq_id;\n        UiActionsService.lastSelected = label_seq_id;\n        var ttEle = document.getElementById(\"\".concat(pdbId, \"-rnaTopologyTooltip\"));\n        ttEle.style.display = 'inline';\n        ttEle.innerHTML = \"<strong>\".concat(isUnobserved ? 'Unobserved ' : '', \"Residue \").concat(residue ? residue : '', \" \").concat(label_seq_id, \"</strong>\");\n        if (!isUnobserved) {\n            var eventName = (eventType === 'click') ? 'PDB.RNA.viewer.click' : 'PDB.RNA.viewer.mouseover';\n            var evData = { pdbId: pdbId, label_seq_id: label_seq_id, entityId: entityId };\n            var textElement = document.querySelector(\".rnaview_\".concat(pdbId, \"_\").concat(label_seq_id));\n            customEvents_1.CustomEvents.dispatchCustomEvent(UiActionsService.pdbevents[eventName], evData, textElement);\n        }\n    };\n    UiActionsService.colorNucleotide = function (pdbId, label_seq_id, color, type, shape) {\n        //const textElement: any = document.querySelector(`.rnaview_${pdbId}_${label_seq_id}`);\n        //const textEleStrokeWidth = parseInt(textElement.getAttribute('stroke-width'));\n        var strokeColor = color || 'orange';\n        //const svgClassPrefix = (type === 'highlight') ? 'rnaTopoSvgHighlight' : 'rnaTopoSvgSelection';\n        //const highlightSvg = document.querySelector(`.${svgClassPrefix}_${pdbId}`);\n        /*\n        const newTextEle = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        newTextEle.setAttribute('stroke-width', (textEleStrokeWidth * 3).toString());\n        newTextEle.setAttribute('stroke', strokeColor);\n        newTextEle.setAttribute('fill', strokeColor);\n        highlightSvg!.appendChild(newTextEle);\n        */\n        if (shape == 'circle') {\n            var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\".concat(pdbId, \"_\").concat(label_seq_id))[0];\n            if (type == 'highlight') {\n                if (circle.getAttribute(\"stroke\")) {\n                    UiActionsService.selectedColor = circle.getAttribute(\"stroke\");\n                }\n            }\n            if (circle) {\n                circle.setAttribute(\"stroke\", \"\".concat(color));\n                circle.setAttribute(\"fill\", \"\".concat(color));\n                circle.style.display = \"block\";\n            }\n        }\n        var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(pdbId, \" rnaview_\").concat(pdbId, \"_\").concat(label_seq_id))[0];\n        if (nucleotide) {\n            if (nucleotide.nodeName == 'path') {\n                if (type == 'highlight') {\n                    if (nucleotide.getAttribute(\"stroke\")) {\n                        UiActionsService.selectedColor = nucleotide.getAttribute(\"stroke\");\n                    }\n                    else {\n                        UiActionsService.selectedColor = \"#323232\";\n                    }\n                }\n                nucleotide.setAttribute(\"stroke\", strokeColor);\n            }\n            else if (nucleotide.nodeName == 'text') {\n                if (type == 'highlight') {\n                    if (nucleotide.getAttribute(\"fill\")) {\n                        UiActionsService.selectedColor = nucleotide.getAttribute(\"fill\");\n                    }\n                    else {\n                        UiActionsService.selectedColor = \"#323232\";\n                    }\n                }\n                nucleotide.setAttribute(\"fill\", strokeColor);\n            }\n        }\n    };\n    return UiActionsService;\n}());\nexports.UiActionsService = UiActionsService;\nwindow.UiActionsService = UiActionsService;\n//# sourceMappingURL=uiActions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UiTemplateService = void 0;\nvar uiActions_1 = require(\"./uiActions\");\nvar UiTemplateService = /** @class */ (function () {\n    function UiTemplateService(containerElement, pluginOptions, apiData) {\n        var _this_1 = this;\n        this.selectSections_RV1 = window.selectSections_RV1;\n        this.aaPropertyConstants = window.aaPropertyConstants;\n        this.mapped_aa_properties = window.mapped_aa_properties;\n        this.aaColorData = window.aaColorData;\n        this.parsePVData = window.parsePVData;\n        this.rv3VUEcomponent = window.vm;\n        this.locations = new Map();\n        this.menuStyle = 'position:relative;z-index:10;height:38px;width:500px;line-height:38px;background-color:#696969;padding: 0 10px;font-size:16px; color: #efefef;display:inline-block;';\n        this.pathStrs = [];\n        this.nucleotideStrs = [];\n        this.circleStrs = [];\n        this.baseStrs = new Map();\n        this.mappingValue = '';\n        this.showAllNucleotides = false;\n        this.defaultColours = {\n            domainSelection: 'rgb(255,0,0)',\n            mouseOver: 'rgb(105,105,105)',\n            borderColor: 'rgb(0,0,0)',\n            qualityGreen: 'rgb(0,182.85714285714286,0)',\n            qualityRed: 'rgb(291.42857142857144,0,0)',\n            qualityYellow: 'rgb(364.2857142857143,364.2857142857143,75.71428571428572)',\n            qualityRiboVision: \"rgb(203,203,203)\",\n            qualityOrange: 'rgb(291.42857142857144,121.42857142857143,0)',\n            qualityBlank: 'rgb(255,255,255)'\n        };\n        this.mapped_chains = new Set();\n        this.drawCircle = function (pdbId, i, color) {\n            var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\".concat(pdbId, \"_\").concat(i))[0];\n            //const nucleotide = <SVGSVGElement>document.querySelector(`svg.rnaTopoSvg`)!.getElementsByClassName(`rnaviewEle rnaviewEle_${pdbId} rnaview_${pdbId}_${i}`)[0]\n            //const BBox = nucleotide.getBBox()\n            //const nx = `${BBox.x + BBox.width/2}`\n            //const ny = `${BBox.y + BBox.height/2}`\n            //circle.setAttribute(\"cx\", nx)\n            //circle.setAttribute(\"cy\", ny)\n            circle.setAttribute(\"stroke\", \"\".concat(color));\n            circle.setAttribute(\"fill\", \"\".concat(color));\n            circle.style.display = \"block\";\n        };\n        this.colorMap = function () {\n            var selectBoxEle = _this_1.containerElement.querySelector('.mappingSelectbox');\n            var selectedValue = parseInt(selectBoxEle.value);\n            if (selectedValue) {\n                var selectedDomain = _this_1.domainTypes[selectedValue];\n                if (selectedDomain.data) {\n                    selectedDomain.data.forEach(function (val, i) {\n                        if (val != undefined && val.color != undefined) {\n                            if (val.color.indexOf('NaN') < 0) {\n                                //this.drawCircle(this.pluginOptions.pdbId, val.start, val.color);\n                                //UiActionsService.colorNucleotide(this.pluginOptions.pdbId, val.start, val.color);\n                                uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, val.start, val.color, undefined, _this_1.mappingValue);\n                            }\n                        }\n                    });\n                }\n            }\n        };\n        this.colorMapContacts = function () {\n            _this_1.mapped_chains.forEach(function (val) {\n                if (!_this_1.rv3VUEcomponent.pchainid.includes(val)) {\n                    for (var i in _this_1.rv3VUEcomponent.protein_contacts[val]) {\n                        uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.protein_contacts[val][i], '#323232', undefined, _this_1.mappingValue);\n                        var circle = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(_this_1.rv3VUEcomponent.protein_contacts[val][i]))[0];\n                        if (circle) {\n                            circle.style.display = \"none\";\n                        }\n                    }\n                    _this_1.mapped_chains.delete(val);\n                }\n            });\n            for (var val in _this_1.rv3VUEcomponent.pchainid) {\n                var chain = _this_1.rv3VUEcomponent.pchainid[val];\n                for (var i in _this_1.rv3VUEcomponent.protein_contacts[chain]) {\n                    uiActions_1.UiActionsService.colorNucleotide(_this_1.pluginOptions.pdbId, _this_1.rv3VUEcomponent.protein_contacts[chain][i], _this_1.rv3VUEcomponent.proteinColorMap.get(chain), undefined, _this_1.mappingValue);\n                }\n                _this_1.mapped_chains.add(chain);\n            }\n        };\n        this.containerElement = containerElement;\n        this.pluginOptions = pluginOptions;\n        this.apiData = apiData;\n        this.uiActionsService = new uiActions_1.UiActionsService(this.pluginOptions.pdbId);\n    }\n    UiTemplateService.prototype.render = function (apiData, FR3DData) {\n        this.containerElement.innerHTML =\n            \"<div class=\\\"pdb-rna-view-container pdb-rna-view-container-\".concat(this.pluginOptions.pdbId, \"\\\">\\n            \").concat(this.svgTemplate(apiData, FR3DData), \"\\n            \").concat(this.title(), \"\\n            \").concat(this.tooltip(), \"\\n            \").concat(this.actionButtons(), \"\\n        </div>\\n        <div style=\\\"\").concat(this.menuStyle, \"\\\">\\n                <div class=\\\"menuOptions\\\" style=\\\"float:right;margin-right: 20px;display:inline-block;\\\">\\n                    <form>\\n                    <select class=\\\"menuSelectbox\\\" style=\\\"margin-right: 10px; display: inline-block;\\\"><option value=\\\"\\\">Nucleotides</option></select>\\n                    <select class=\\\"mappingSelectbox\\\" style=\\\"margin-right: 10px; display: inline-block;\\\"><option value=\\\"\\\">Mapping</option></select>\\n                    <div class=\\\"multiselect\\\">\\n                        <div class=\\\"selectBox\\\" onclick=\\\"UiActionsService.showCheckboxes()\\\" style=\\\"display:inline-block;\\\">\\n                            <select>\\n                                <option>Base Pairings</option>\\n                            </select>\\n                            <div class=\\\"overSelect\\\"></div>\\n                        </div>\\n                        <div id=\\\"checkboxes\\\">\\n                        </div>\\n                    </div>\\n                    </form>\\n                </div>\\n        </div>\\n        \");\n        //this.getJSON(apiData)\n        //this.fixOverlaps(apiData)\n        this.createModeDropdown();\n        this.createBPDropdown();\n        this.uiActionsService.applyButtonActions();\n        //this.getAnnotationFromRibovision(this.mapped_aa_properties)\n        //this.rv3VUEcomponent.topology_loaded=true;\n    };\n    UiTemplateService.prototype.fixOverlaps = function (apiData) {\n        var _this_1 = this;\n        var svgEle = document.querySelector(\"svg.rnaTopoSvg.rnaTopoSvg_\".concat(this.pluginOptions.pdbId));\n        var xAdjust = 0;\n        var yAdjust = 0;\n        apiData.sequence.split('').forEach(function (char, i) {\n            if (i === 0 || i === (apiData.sequence.length)) {\n                return;\n            }\n            var ele = svgEle.getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(apiData.label_seq_ids[i]))[0];\n            var nextEle = svgEle.getElementsByClassName(\"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(apiData.label_seq_ids[i + 1]))[0];\n            nextEle.setAttribute(\"y\", Number(nextEle.getAttribute(\"y\")) + yAdjust);\n            nextEle.setAttribute(\"x\", Number(nextEle.getAttribute(\"x\")) + xAdjust);\n            var distances = _this_1.getIntersections(ele.getBBox(), nextEle.getBBox());\n            if (distances) {\n                var lowest = 0;\n                for (var j = 1; j < distances.length; j++) {\n                    if (distances[j] < distances[lowest])\n                        lowest = j;\n                }\n                if (lowest === 1) {\n                    nextEle.setAttribute(\"y\", Number(nextEle.getAttribute(\"y\")) - Number(distances[1]));\n                    yAdjust = yAdjust - Number(distances[1]);\n                }\n                else if (lowest === 3) {\n                    nextEle.setAttribute(\"y\", Number(nextEle.getAttribute(\"y\")) + Number(distances[3]));\n                    yAdjust = yAdjust + Number(distances[3]);\n                }\n                else if (lowest === 0) {\n                    nextEle.setAttribute(\"x\", Number(nextEle.getAttribute(\"x\")) - Number(distances[0]));\n                    xAdjust = xAdjust - Number(distances[0]);\n                }\n                else if (lowest === 2) {\n                    nextEle.setAttribute(\"x\", Number(nextEle.getAttribute(\"x\")) + Number(distances[2]));\n                    xAdjust = xAdjust + Number(distances[2]);\n                }\n            }\n        });\n    };\n    UiTemplateService.prototype.changeBP = function (val) {\n        var _this_1 = this;\n        this.displayBaseStrs = '';\n        if ((val == 'All' && !this.showAllNucleotides)) {\n            this.showAllNucleotides = true;\n            this.baseStrs.forEach(function (value, key) {\n                _this_1.baseStrs.set(key, [true, value[1]]);\n                _this_1.displayBaseStrs += value[1].join('');\n                document.getElementById(\"Checkbox_\".concat(key)).checked = true;\n            });\n        }\n        else if (val == 'All') {\n            this.showAllNucleotides = false;\n            this.baseStrs.forEach(function (value, key) {\n                _this_1.baseStrs.set(key, [false, value[1]]);\n                document.getElementById(\"Checkbox_\".concat(key)).checked = false;\n            });\n        }\n        else {\n            if (this.baseStrs.get(val)[0]) {\n                this.baseStrs.set(val, [false, this.baseStrs.get(val)[1]]);\n            }\n            else {\n                this.baseStrs.set(val, [true, this.baseStrs.get(val)[1]]);\n            }\n            this.baseStrs.forEach(function (value, key) {\n                if (value[0]) {\n                    _this_1.displayBaseStrs += value[1].join('');\n                }\n            });\n        }\n        this.PathOrNucleotide();\n    };\n    UiTemplateService.prototype.createBPDropdown = function () {\n        var _this_1 = this;\n        var _a;\n        if (this.baseStrs.size > 0) {\n            var optionList_1 = '<label for = \"Checkbox_All\"><input type=\"checkbox\" id=\"Checkbox_All\" />All</label>';\n            this.baseStrs.forEach(function (value, key) {\n                if (key == 'cWW') {\n                    optionList_1 = \"\".concat(optionList_1, \"<label for = \\\"Checkbox_\").concat(key, \"\\\"><input type=\\\"checkbox\\\" id=\\\"Checkbox_\").concat(key, \"\\\" checked = true/>\").concat(key, \"</label>\");\n                }\n                else {\n                    optionList_1 = \"\".concat(optionList_1, \"<label for = \\\"Checkbox_\").concat(key, \"\\\"><input type=\\\"checkbox\\\" id=\\\"Checkbox_\").concat(key, \"\\\"/>\").concat(key, \"</label>\");\n                }\n            });\n            var selectBoxEle = document.getElementById('checkboxes');\n            selectBoxEle.innerHTML = optionList_1;\n            (_a = document.getElementById(\"Checkbox_All\")) === null || _a === void 0 ? void 0 : _a.addEventListener(\"change\", this.changeBP.bind(this, \"All\"));\n            this.baseStrs.forEach(function (value, key) {\n                var _a;\n                (_a = document.getElementById(\"Checkbox_\".concat(key))) === null || _a === void 0 ? void 0 : _a.addEventListener(\"change\", _this_1.changeBP.bind(_this_1, key));\n            });\n            //selectBoxEle!.addEventListener(\"change\", this.ChangeBP.bind(this));\n        }\n    };\n    UiTemplateService.prototype.createModeDropdown = function () {\n        var optionList = \"<option value=\\\"0\\\">Nucleotides</option><option value=\\\"1\\\">Path</option><option value=\\\"2\\\">Circle</option>\";\n        var selectBoxEle = this.containerElement.querySelector('.menuSelectbox');\n        selectBoxEle.innerHTML = optionList;\n        selectBoxEle.addEventListener(\"change\", this.PathOrNucleotide.bind(this));\n    };\n    UiTemplateService.prototype.createDomainDropdown = function () {\n        this.selectedDomain = this.domainTypes[0];\n        if (this.domainTypes.length > 0) {\n            var optionList_2 = '';\n            this.domainTypes.forEach(function (opt, i) {\n                optionList_2 = \"\".concat(optionList_2, \"<option value=\\\"\").concat(i, \"\\\">\").concat(opt.label, \"</option>\");\n            });\n            var selectBoxEle = this.containerElement.querySelector('.mappingSelectbox');\n            selectBoxEle.innerHTML = optionList_2;\n            selectBoxEle.addEventListener(\"change\", this.colorMap.bind(this));\n            //const resetIconEle = this.containerElement.querySelector('.resetIcon');\n            //resetIconEle.addEventListener(\"click\", this.resetDisplay.bind(this));\n        }\n        else {\n            this.containerElement.querySelector('.menuOptions').style.display = 'none';\n        }\n    };\n    UiTemplateService.prototype.create2D3DAnnotations = function (name, residueDetails, TWCrgbMap, TWCData, mapped_aa_properties, chain_start, chain_end) {\n        var _this = this;\n        TWCData.forEach(function (value, index) {\n            if (chain_start <= index && index <= chain_end) {\n                var rgb_color = TWCrgbMap.get(index);\n                window.selectSections_RV1.get(name).push({\n                    entity_id: _this.pluginOptions.entityId,\n                    start_residue_number: index,\n                    end_residue_number: index,\n                    color: rgb_color[1],\n                    sideChain: false,\n                });\n                _this.defaultColours.qualityRiboVision = '#' + String(rgb_color[0].join(''));\n                var colors = \"rgb(\" + String(rgb_color[0].join(',')) + \")\";\n                //_this.drawValidationShape(index, \"circle\", _this.defaultColours.qualityRiboVision);\n                residueDetails.push({\n                    start: index,\n                    end: index,\n                    color: colors,\n                    tooltipMsg: Number.parseFloat(value).toPrecision(3),\n                    tooltipPosition: \"prefix\"\n                });\n                //_this.drawValidationShape(index, \"circle\", colors);\n            }\n        });\n        if (TWCData.size < mapped_aa_properties.get(\"Shannon entropy\").length) {\n            for (var i = TWCData.size - 1; i < this.mapped_aa_properties.get(\"Charge\").length; i++) {\n                window.selectSections_RV1.get(name).push({\n                    entity_id: _this.pluginOptions.entityId,\n                    start_residue_number: i,\n                    end_residue_number: i,\n                    color: { r: 255, g: 255, b: 255 },\n                    sideChain: false,\n                });\n            }\n        }\n        return residueDetails;\n    };\n    UiTemplateService.prototype.getAnnotationFromRibovision = function (mapped_aa_properties) {\n        var _this_1 = this;\n        var _this = this;\n        var start = this.apiData ? this.apiData.label_seq_ids[1] : 0;\n        var end = this.apiData ? this.apiData.label_seq_ids[this.apiData.label_seq_ids.length - 2] : 0;\n        if (typeof _this.domainTypes == 'undefined') {\n            _this.domainTypes = [{\n                    label: 'Select data',\n                    data: null\n                }];\n        }\n        this.selectSections_RV1 = window.selectSections_RV1;\n        this.aaPropertyConstants = window.aaPropertyConstants;\n        this.aaColorData = window.aaColorData;\n        if (mapped_aa_properties) {\n            mapped_aa_properties.forEach(function (value, index) {\n                var residueDetails = [{\n                    //start: chainRange.start,\n                    //end: chainRange.end,\n                    //color: _this.defaultColours.qualityBlank,\n                    //tooltipMsg: 'No data for '\n                    }];\n                var name = index;\n                var separatedData = value;\n                _this_1.selectSections_RV1.set(name, []);\n                var min = Math.min.apply(Math, _this_1.aaPropertyConstants.get(name));\n                var max = Math.max.apply(Math, _this_1.aaPropertyConstants.get(name));\n                var colormapArray = _this_1.aaColorData.get(name);\n                var _a = _this_1.parsePVData(separatedData, min, max, colormapArray), TWCrgbMap = _a[0], TWCData = _a[1];\n                _this_1.selectSections_RV1.get(name).push({ entity_id: _this.pluginOptions.entityId, focus: true });\n                if (void 0 !== TWCData) {\n                    residueDetails = _this.create2D3DAnnotations(name, residueDetails, TWCrgbMap, TWCData, mapped_aa_properties, start, end);\n                    if (0 < residueDetails.length) {\n                        var current = _this.domainTypes.filter(function (order) { return (order.label === name); })[0];\n                        if (current && current != null) {\n                            current.data = residueDetails;\n                        }\n                        else {\n                            _this.domainTypes.push({\n                                label: name,\n                                data: residueDetails\n                            });\n                        }\n                    }\n                }\n            });\n            this.createDomainDropdown();\n            this.rv3VUEcomponent.topology_loaded = true;\n        }\n        else {\n            //catch block\n        }\n        ;\n    };\n    UiTemplateService.prototype.getIntersections = function (obj1, obj2) {\n        var left1 = obj1.x;\n        var right1 = obj1.x + obj1.width;\n        var top1 = obj1.y;\n        var bottom1 = obj1.y + obj1.height;\n        var left2 = obj2.x;\n        var right2 = obj2.x + obj2.width;\n        var top2 = obj2.y;\n        var bottom2 = obj2.y + obj2.height;\n        if (left1 >= right2 || top1 >= bottom2 ||\n            right1 <= left2 || bottom1 <= top2) {\n            return false;\n        }\n        else {\n            return [right2 - left1, bottom2 - top1, right1 - left2, bottom1 - top2];\n        }\n    };\n    UiTemplateService.prototype.calculateFontSize = function (apiData) {\n        var xVals = [];\n        var yVals = [];\n        var dist = [];\n        var lastPathIndex = apiData.svg_paths.length - 1;\n        apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n            if (recordIndex === 0 || recordIndex === lastPathIndex)\n                return;\n            var pathStrParsed = pathStr.split('M').join(',').split(',');\n            xVals[recordIndex] = (Number(pathStrParsed[1]) + Number(pathStrParsed[3])) / 2;\n            yVals[recordIndex] = (Number(pathStrParsed[2]) + Number(pathStrParsed[4])) / 2;\n            if (recordIndex > 1) {\n                var xDiff = xVals[recordIndex] - xVals[recordIndex - 1];\n                var yDiff = yVals[recordIndex] - yVals[recordIndex - 1];\n                dist[recordIndex] = Math.pow((Math.pow(yDiff, 2) + Math.pow(xDiff, 2)), 0.5);\n            }\n        });\n        var sortedDist = dist.sort(function (a, b) { return a - b; });\n        return 0.9 * sortedDist[Math.floor(sortedDist.length * 0.05)];\n    };\n    UiTemplateService.prototype.download = function (data, filename, type) {\n        var file = new Blob([data], { type: type });\n        var a = document.createElement(\"a\"), url = URL.createObjectURL(file);\n        a.href = url;\n        a.download = filename;\n        document.body.appendChild(a);\n        a.click();\n        setTimeout(function () {\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n        }, 0);\n    };\n    /*\n    private getJSON(apiData: ApiData){\n        let JSON =\n        `{\n        \"pdbId\": ${this.pluginOptions.pdbId},\n        \"entityId\": ${this.pluginOptions.entityId},\n        \"chainId\": ${this.pluginOptions.chainId},\n        \"nucleotides\":[\n        `\n        const lastPathIndex = apiData.svg_paths.length - 1;\n        apiData.svg_paths.forEach((pathStr: string, recordIndex: number) => {\n        if(recordIndex === 0 || recordIndex === lastPathIndex) return;\n            JSON +=\n        `   {\"position\": ${apiData.label_seq_ids[recordIndex]}, \"value\": ${apiData.sequence[recordIndex - 1]}, \"x\": ${this.locations[recordIndex - 1][0]}, \"y\": ${this.locations[recordIndex - 1][1]}},\n        `\n        });\n        JSON +=\n            `]\n        }`\n        this.download(JSON, \"Test\", \"JSON\")\n    }*/\n    UiTemplateService.linearlyInterpolate = function (v0, v1, interpolationFactor) {\n        // See https://en.wikipedia.org/wiki/Linear_interpolation\n        return (1 - interpolationFactor) * v0 + interpolationFactor * v1;\n    };\n    UiTemplateService.prototype.PathOrNucleotide = function (e) {\n        var selectBoxEle = this.containerElement.querySelector('.menuSelectbox');\n        var selectedValue = parseInt(selectBoxEle.value);\n        this.mappingValue = '';\n        if (selectedValue == 0) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\".concat(this.pluginOptions.pdbId))[0].innerHTML = this.nucleotideStrs.join('') + this.circleStrs.join('') + this.displayBaseStrs;\n        }\n        else if (selectedValue == 1) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\".concat(this.pluginOptions.pdbId))[0].innerHTML = this.pathStrs.join('') + this.circleStrs.join('') + this.displayBaseStrs;\n        }\n        else if (selectedValue == 2) {\n            this.mappingValue = 'circle';\n        }\n        if (e) {\n            //this.containerElement.querySelector<HTMLInputElement>('.mappingSelectbox')!.value=\"0\";\n            this.colorMap();\n        }\n        this.colorMapContacts();\n    };\n    UiTemplateService.prototype.svgTemplate = function (apiData, FR3DData) {\n        var _this_1 = this;\n        var font_size = this.calculateFontSize(apiData);\n        var lastPathIndex = apiData.svg_paths.length - 1;\n        apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n            if (recordIndex === 0 || recordIndex === 1 || recordIndex === (lastPathIndex + 1))\n                return;\n            var pathEleClass = \"rnaviewEle rnaviewEle_\".concat(_this_1.pluginOptions.pdbId, \" rnaview_\").concat(_this_1.pluginOptions.pdbId, \"_\").concat(apiData.label_seq_ids[recordIndex - 1]);\n            var strokeColor = ((_a = _this_1.pluginOptions.theme) === null || _a === void 0 ? void 0 : _a.color) || '#323232';\n            var strokeWide = ((_b = _this_1.pluginOptions.theme) === null || _b === void 0 ? void 0 : _b.strokeWidth) || '2';\n            var isUnobserved = false;\n            if (apiData.unobserved_label_seq_ids && apiData.unobserved_label_seq_ids.indexOf(apiData.label_seq_ids[recordIndex - 1]) > -1) {\n                strokeColor = ((_c = _this_1.pluginOptions.theme) === null || _c === void 0 ? void 0 : _c.unobservedColor) || '#ccc';\n                isUnobserved = true;\n            }\n            var pathStrParsed = pathStr.split('M').join(',').split(',');\n            var x1Val = Number(pathStrParsed[1]);\n            var y1Val = Number(pathStrParsed[2]);\n            //let xVal:number = (Number(pathStrParsed[1])+Number(pathStrParsed[3]))/2 \n            var xVal = Number(pathStrParsed[3]);\n            //let yVal:number = (Number(pathStrParsed[2])+Number(pathStrParsed[4]))/2 \n            var yVal = Number(pathStrParsed[4]);\n            var deltaX = font_size / 2;\n            var deltaY = font_size / 2;\n            var newPathStr = \"M\".concat(x1Val + deltaX, \",\").concat(y1Val - deltaY, \",\").concat(xVal + deltaX, \",\").concat(yVal - deltaY);\n            pathStr = newPathStr;\n            _this_1.locations.set(apiData.label_seq_ids[recordIndex - 1], [xVal, yVal]);\n            /*pathStrs.push(`<text href=\"#${pathEleClass}\" class=\"${pathEleClass}\" x=\"${xVal}\" y=\"${yVal}\" font-size = \"${font_size}px\" onclick=\"UiActionsService.selectPath(event, '${this.pluginOptions.pdbId}', ${apiData.label_seq_ids[recordIndex - 1]}, '${apiData.sequence[recordIndex - 2]}', 'click', ${isUnobserved}, ${this.pluginOptions.theme?.highlightColor ? \"'\"+this.pluginOptions.theme.highlightColor+\"'\" : undefined})\"\n            onmouseover=\"UiActionsService.selectPath(event, '${this.pluginOptions.pdbId}', ${apiData.label_seq_ids[recordIndex - 1]}, '${apiData.sequence[recordIndex - 2]}', 'mouseover', ${isUnobserved}, ${this.pluginOptions.theme?.highlightColor ? \"'\"+this.pluginOptions.theme.highlightColor+\"'\" : undefined})\"\n            onmouseout=\"UiActionsService.unSelectPath(event, '${this.pluginOptions.pdbId}', ${apiData.label_seq_ids[recordIndex - 1]}, ${isUnobserved}, '${strokeColor}')\">${apiData.sequence[recordIndex - 2]}</text>`)\n        });*/\n            _this_1.pathStrs.push(\"<path \\n                class=\\\"\".concat(pathEleClass, \"\\\" stroke-width=\\\"\").concat(strokeWide, \"\\\" stroke=\\\"\").concat(strokeColor, \"\\\" d=\\\"\").concat(pathStr, \"\\\" \\n                data-stroke-color=\\\"\").concat(strokeColor, \"\\\" \\n                onclick=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \"', 'click', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \", event, \").concat(((_d = _this_1.pluginOptions.theme) === null || _d === void 0 ? void 0 : _d.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n                onmouseover=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'mouseover', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_e = _this_1.pluginOptions.theme) === null || _e === void 0 ? void 0 : _e.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n                onmouseout=\\\"UiActionsService.unSelectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", \").concat(isUnobserved, \", event, '\").concat(strokeColor, \"')\\\">\\n            </path>\"));\n            _this_1.circleStrs.push(\"<circle class=\\\"circle_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(apiData.label_seq_ids[recordIndex - 1], \"\\\" cx=\\\"\").concat(xVal, \"\\\" cy=\\\"\").concat(yVal, \"\\\" r=\\\"\").concat(font_size, \"\\\" display=\\\"none\\\" alignment-baseline=\\\"middle\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" onclick=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'click', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_f = _this_1.pluginOptions.theme) === null || _f === void 0 ? void 0 : _f.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n            onmouseover=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'mouseover', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_g = _this_1.pluginOptions.theme) === null || _g === void 0 ? void 0 : _g.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n            onmouseout=\\\"UiActionsService.unSelectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", \").concat(isUnobserved, \", event, '\").concat(strokeColor, \"')\\\"/>\"));\n            _this_1.nucleotideStrs.push(\"<text href=\\\"#\".concat(pathEleClass, \"\\\" class=\\\"\").concat(pathEleClass, \"\\\" x=\\\"\").concat(xVal, \"\\\" y=\\\"\").concat(yVal, \"\\\" font-size = \\\"\").concat(font_size, \"px\\\" onclick=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'click', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_h = _this_1.pluginOptions.theme) === null || _h === void 0 ? void 0 : _h.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n            onmouseover=\\\"UiActionsService.selectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", 'mouseover', \").concat(isUnobserved, \", '\").concat(apiData.sequence[recordIndex - 2], \"', event, \").concat(((_j = _this_1.pluginOptions.theme) === null || _j === void 0 ? void 0 : _j.highlightColor) ? \"'\" + _this_1.pluginOptions.theme.highlightColor + \"'\" : undefined, \")\\\" \\n            onmouseout=\\\"UiActionsService.unSelectNucleotide('\").concat(_this_1.pluginOptions.pdbId, \"', '\").concat(_this_1.pluginOptions.entityId, \"', \").concat(apiData.label_seq_ids[recordIndex - 1], \", \").concat(isUnobserved, \", event, '\").concat(strokeColor, \"')\\\">\").concat(apiData.sequence[recordIndex - 2], \"</text>\"));\n        });\n        var baseArray = FR3DData.annotations;\n        this.baseStrs.set('cWW', [true, []]);\n        this.baseStrs.set('tWW', [false, []]);\n        this.baseStrs.set('tHH', [false, []]);\n        this.baseStrs.set('cHH', [false, []]);\n        this.baseStrs.set('tSS', [false, []]);\n        this.baseStrs.set('cSS', [false, []]);\n        this.baseStrs.set('cWH', [false, []]);\n        this.baseStrs.set('tWH', [false, []]);\n        this.baseStrs.set('tWS', [false, []]);\n        this.baseStrs.set('cWS', [false, []]);\n        this.baseStrs.set('tHS', [false, []]);\n        this.baseStrs.set('cHS', [false, []]);\n        baseArray.forEach(function (baseStr) {\n            var start = +baseStr.seq_id1;\n            //let start:number = +baseStr[`3d_id1`];\n            //let end:number = +baseStr[`3d_id2`];\n            var end = +baseStr.seq_id2;\n            if (baseStr && start && end) {\n                var type = baseStr.bp;\n                var pathID = \"rnaviewBP rnaviewBP_\".concat(_this_1.pluginOptions.pdbId, \"_\").concat(_this_1.pluginOptions.chainId, \" \").concat(type, \"_\").concat(start, \"_\").concat(end);\n                var n1 = baseStr.nt1;\n                var n2 = baseStr.nt2;\n                var x1 = _this_1.locations.get(start)[0] + font_size / 2.5;\n                var x2 = _this_1.locations.get(end)[0] + font_size / 2.5;\n                var y1 = _this_1.locations.get(start)[1] - font_size / 2.5;\n                var y2 = _this_1.locations.get(end)[1] - font_size / 2.5;\n                var distance = Math.pow(Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2), 0.5);\n                var x1_prime = UiTemplateService.linearlyInterpolate(x1, x2, font_size / distance);\n                var y1_prime = UiTemplateService.linearlyInterpolate(y1, y2, font_size / distance);\n                var x2_prime = UiTemplateService.linearlyInterpolate(x1, x2, 1 - font_size / distance);\n                var y2_prime = UiTemplateService.linearlyInterpolate(y1, y2, 1 - font_size / distance);\n                var stroke = \"#ccc\";\n                if (type.charAt(0) == 't') {\n                    var fill = \"none\";\n                }\n                else {\n                    var fill = \"#ccc\";\n                }\n                var xm = (x1_prime + x2_prime) / 2;\n                var ym = (y1_prime + y2_prime) / 2;\n                var distance2 = distance - 2 * font_size;\n                var height = font_size / 1.5;\n                if (x1 - x2 != 0) {\n                    var phi = 90 + Math.atan2((y1 - y2), (x1 - x2)) * 180 / Math.PI;\n                }\n                else {\n                    var phi = 0;\n                }\n                if (type == 'cWW') {\n                    if (n1 == 'G' && n2 == 'U' || n1 == 'U' && n2 == 'G') {\n                        _this_1.baseStrs.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\").concat(type, \" Base Pair \").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"', '\").concat(pathID, \"', '#000', '#000');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\"\\n                        d=\\\"\\n                        M \").concat((x1_prime + x2_prime) / 2 - font_size / 4, \", \").concat((y1_prime + y2_prime) / 2, \"\\n                        a \").concat(font_size / 4, \",\").concat(font_size / 4, \" 0 1,0 \").concat(font_size / 2, \",0\\n                        a \").concat(font_size / 4, \",\").concat(font_size / 4, \" 0 1,0 \").concat(-1 * font_size / 2, \",0\\n                        \\\"\\n                        stroke=\\\"#000\\\" stroke-width=\\\"\").concat(font_size / 6, \" fill=\\\"\").concat(fill, \"\\\"\\n                    />\"));\n                    }\n                    else {\n                        _this_1.baseStrs.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt,  '\").concat(type, \" Base Pair \").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"', '\").concat(pathID, \"', '#000', '#000');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" data-stroke-color=\\\"#000\\\" stroke=\\\"#000\\\" d=\\\"M\").concat(x1_prime, \" \").concat(y1_prime, \" \").concat(x2_prime, \" \").concat(y2_prime, \"\\\"></path>\"));\n                    }\n                }\n                else if (type == 'tWW') {\n                    var xm1 = UiTemplateService.linearlyInterpolate(x1_prime, (x1_prime + x2_prime) / 2, 1 - (font_size / 3) / (distance / 2));\n                    var ym1 = UiTemplateService.linearlyInterpolate(y1_prime, (y1_prime + y2_prime) / 2, 1 - (font_size / 3) / (distance / 2));\n                    var xm2 = UiTemplateService.linearlyInterpolate((x1_prime + x2_prime) / 2, x2_prime, (font_size / 3) / (distance / 2));\n                    var ym2 = UiTemplateService.linearlyInterpolate((y1_prime + y2_prime) / 2, y2_prime, (font_size / 3) / (distance / 2));\n                    _this_1.baseStrs.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\").concat(type, \" Base Pair \").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"', '\").concat(pathID, \"', '\").concat(stroke, \"', '\").concat(fill, \"');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\"\\n                        d=\\\"\\n                        M \").concat(x1_prime, \" \").concat(y1_prime, \" \").concat(xm1, \" \").concat(ym1, \"\\n                        M \").concat((x1_prime + x2_prime) / 2 - font_size / 3, \" \").concat((y1_prime + y2_prime) / 2, \"\\n                        a \").concat(font_size / 3, \",\").concat(font_size / 3, \" 0 1,0 \").concat(font_size / 1.5, \",0\\n                        a \").concat(font_size / 3, \",\").concat(font_size / 3, \" 0 1,0 \").concat(-1 * font_size / 1.5, \",0\\n                        M \").concat(xm2, \" \").concat(ym2, \" \").concat(x2_prime, \" \").concat(y2_prime, \"\\n                        \\\"\\n                        stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\"/>\"));\n                }\n                else if (type == 'cSS' || type == 'tSS') {\n                    _this_1.baseStrs.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\").concat(type, \" Base Pair \").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"', '\").concat(pathID, \"', '\").concat(stroke, \"', '\").concat(fill, \"');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\"\\n                    d=\\\"\\n                    M \").concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height / 2, \" \\n                    l \").concat(height / 2, \" 0\\n                    l -\").concat(height / 2, \" -\").concat(height, \" \\n                    l -\").concat(height / 2, \" \").concat(height, \"\\n                    l \").concat(height / 2, \" 0\\n                    M \").concat(xm, \" \").concat(ym - height / 2, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                    \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n                }\n                else if (type == 'tHS' || type == 'cHS') {\n                    _this_1.baseStrs.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\").concat(type, \" Base Pair \").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"', '\").concat(pathID, \"', '\").concat(stroke, \"', '\").concat(fill, \"');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\"\\n                    d=\\\"\\n                    M \").concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height + height / 4, \" \\n                    h -\").concat(height / 2, \"\\n                    v -\").concat(height, \"\\n                    h \").concat(height, \"\\n                    v \").concat(height, \"\\n                    h -\").concat(height / 2, \"\\n                    M \").concat(xm, \" \").concat(ym + height / 4, \" \").concat(xm, \" \").concat(ym - height / 4, \"\\n                    l \").concat(height / 2, \" 0\\n                    l -\").concat(height / 2, \" -\").concat(height, \" \\n                    l -\").concat(height / 2, \" \").concat(height, \"\\n                    l \").concat(height / 2, \" 0\\n                    M \").concat(xm, \" \").concat(ym - height - height / 4, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                    \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n                }\n                else if (type == 'tWS' || type == 'cWS') {\n                    _this_1.baseStrs.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\").concat(type, \" Base Pair \").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"', '\").concat(pathID, \"', '\").concat(stroke, \"', '\").concat(fill, \"');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\"\\n                    d=\\\"\\n                    M \").concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height + height / 4, \" \\n                    M \").concat(xm - height / 2, \" \").concat(ym + 3 * height / 4, \" \\n                    a \").concat(height / 2, \",\").concat(height / 2, \" 0 1,0 \").concat(height, \",0\\n                    a \").concat(height / 2, \",\").concat(height / 2, \" 0 1,0 \").concat(-1 * height, \",0\\n                    M \").concat(xm, \" \").concat(ym + height / 4, \" \").concat(xm, \" \").concat(ym - height / 4, \"\\n                    l \").concat(height / 2, \" 0\\n                    l -\").concat(height / 2, \" -\").concat(height, \" \\n                    l -\").concat(height / 2, \" \").concat(height, \"\\n                    l \").concat(height / 2, \" 0\\n                    M \").concat(xm, \" \").concat(ym - height - height / 4, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                    \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n                }\n                else if (type == 'tWH' || type == 'cWH') {\n                    _this_1.baseStrs.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\").concat(type, \" Base Pair \").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"', '\").concat(pathID, \"', '\").concat(stroke, \"', '\").concat(fill, \"');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\"\\n                    d=\\\"\\n                    M \").concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height + height / 4, \" \\n                    M \").concat(xm - height / 2, \" \").concat(ym + 3 * height / 4, \" \\n                    a \").concat(height / 2, \",\").concat(height / 2, \" 0 1,0 \").concat(height, \",0\\n                    a \").concat(height / 2, \",\").concat(height / 2, \" 0 1,0 \").concat(-1 * height, \",0\\n                    M \").concat(xm, \" \").concat(ym + height / 4, \" \").concat(xm, \" \").concat(ym - height / 4, \"\\n                    h -\").concat(height / 2, \"\\n                    v -\").concat(height, \"\\n                    h \").concat(height, \"\\n                    v \").concat(height, \"\\n                    h -\").concat(height / 2, \"\\n                    M \").concat(xm, \" \").concat(ym - height - height / 4, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                    \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n                }\n                else if (type == 'tHH' || type == 'cHH') {\n                    _this_1.baseStrs.get(type)[1].push(\"<path class=\\\"\".concat(pathID, \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\").concat(type, \" Base Pair \").concat(n1).concat(start, \" - \").concat(n2).concat(end, \"', '\").concat(pathID, \"', '\").concat(stroke, \"', '\").concat(fill, \"');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\").concat(pathID, \"');\\\"\\n                    d=\\\"\\n                    M \").concat(xm, \" \").concat(ym + distance2 / 2, \" \").concat(xm, \" \").concat(ym + height / 2, \" \\n                    h -\").concat(height / 2, \"\\n                    v -\").concat(height, \"\\n                    h \").concat(height, \"\\n                    v \").concat(height, \"\\n                    h -\").concat(height / 2, \"\\n                    M \").concat(xm, \" \").concat(ym - height / 2, \" \").concat(xm, \" \").concat(ym - distance2 / 2, \"\\n                    \\\"stroke=\\\"\").concat(stroke, \"\\\" stroke-width=\\\"\").concat(font_size / 6, \"\\\" fill = \\\"\").concat(fill, \"\\\" transform = \\\"rotate(\").concat(phi, \" \").concat(xm, \" \").concat(ym, \")\\\"/>\"));\n                }\n            }\n        });\n        this.baseStrs.forEach(function (value, key) {\n            if (value[0]) {\n                _this_1.displayBaseStrs += value[1].join('');\n            }\n        });\n        return \"\\n        <div style=\\\"width:100%;height:100%;z-index:0;position:absolute;\\\">\\n            <svg preserveAspectRatio=\\\"xMidYMid meet\\\" \\n            viewBox=\\\"0 0 \".concat(apiData.dimensions.width, \" \").concat(apiData.dimensions.height, \"\\\" \\n            style=\\\"width:100%;height:100%;position:relative;\\\">\\n                <g class=\\\"rnaTopoSvgSelection rnaTopoSvgSelection_\").concat(this.pluginOptions.pdbId, \"\\\"></g>\\n            </svg>\\n        </div>\\n        <div style=\\\"width:100%;height:100%;z-index:1;position:absolute;\\\">\\n            <svg preserveAspectRatio=\\\"xMidYMid meet\\\"\\n            viewBox=\\\"0 0 \").concat(apiData.dimensions.width, \" \").concat(apiData.dimensions.height, \"\\\" \\n            style=\\\"width:100%;height:100%;position:relative;\\\">\\n                <g class=\\\"rnaTopoSvgHighlight rnaTopoSvgHighlight_\").concat(this.pluginOptions.pdbId, \"\\\"></g>\\n            </svg>\\n        </div>\\n        <div id=\\\"tooltip\\\" display=\\\"none\\\" style=\\\"position:absolute; display: none;\\\"></div> \\n            <div style=\\\"width:100%;height:100%;z-index:2;position:absolute;\\\">\\n                <svg class=\\\"rnaTopoSvg\\\" preserveAspectRatio=\\\"xMidYMid meet\\\" \\n                    viewBox=\\\"0 0 \").concat(apiData.dimensions.width, \" \").concat(apiData.dimensions.height, \"\\\" \\n                    style=\\\"width:100%;height:100%;\\\">\\n                        <g class=\\\"rnaTopoSvg_\").concat(this.pluginOptions.pdbId, \"\\\">\").concat(this.nucleotideStrs.join('')).concat(this.circleStrs.join('')).concat(this.displayBaseStrs, \"</g>\\n                </svg>\\n            </div>\");\n    };\n    UiTemplateService.prototype.title = function () {\n        return \"<span class=\\\"pdb-rna-view-title\\\">\".concat(this.pluginOptions.pdbId.toUpperCase(), \" Chain \").concat(this.pluginOptions.chainId, \"</span>\");\n    };\n    UiTemplateService.prototype.tooltip = function () {\n        return \"<span class=\\\"pdb-rna-view-tooltip\\\" id=\\\"\".concat(this.pluginOptions.pdbId, \"-rnaTopologyTooltip\\\"></span>\");\n    };\n    UiTemplateService.prototype.actionButtons = function () {\n        return \"<div class=\\\"pdb-rna-view-btn-group\\\">\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-in\\\" id=\\\"rnaTopologyZoomIn-\".concat(this.pluginOptions.pdbId, \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z\\\" />\\n                </svg>\\n            </span>\\n            \\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-out\\\" id=\\\"rnaTopologyZoomOut-\").concat(this.pluginOptions.pdbId, \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z\\\" />\\n                </svg>\\n            </span>\\n\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Reset\\\" id=\\\"rnaTopologyReset-\").concat(this.pluginOptions.pdbId, \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M12,6V9L16,5L12,1V4A8,8 0 0,0 4,12C4,13.57 4.46,15.03 5.24,16.26L6.7,14.8C6.25,13.97 6,13 6,12A6,6 0 0,1 12,6M18.76,7.74L17.3,9.2C17.74,10.04 18,11 18,12A6,6 0 0,1 12,18V15L8,19L12,23V20A8,8 0 0,0 20,12C20,10.43 19.54,8.97 18.76,7.74Z\\\" />\\n                </svg>\\n            </span>\\n        </div>\");\n    };\n    UiTemplateService.prototype.renderError = function (type) {\n        var errorContent = \"<div class=\\\"pdb-rna-view-error\\\">Error! Something went wrong!</div>\";\n        if (type === 'apiError') {\n            errorContent = \"<div class=\\\"pdb-rna-view-error\\\">\\n                RNA topology data for \".concat(this.pluginOptions.pdbId.toUpperCase(), \" | \").concat(this.pluginOptions.entityId, \" | \").concat(this.pluginOptions.chainId.toUpperCase(), \" is not available!\\n            </div>\");\n        }\n        this.containerElement.innerHTML = \"<div class=\\\"pdb-rna-view-container\\\">\".concat(errorContent, \"</div>\");\n    };\n    return UiTemplateService;\n}());\nexports.UiTemplateService = UiTemplateService;\n//# sourceMappingURL=uiTemplate.js.map","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["tslib_1","data_1","uiTemplate_1","uiActions_1","customEvents_1","PdbRnaViewerPlugin","CustomEvents","Object","defineProperty","exports","value","create","eventTypeArr","eventObj","ei","el","length","eventType","event_1","MouseEvent","window","document","createEvent","initEvent","dispatchCustomEvent","event","eventData","targetElement","dispatchEvent","subscribeToComponentEvents","pluginCtx","addEventListener","e","detail","startResidue","parseInt","start","endResidue","end","clearSelection","i","selectResidue","color","clearHighlight","highlightResidue","residueNumber","auth_asym_id","options","chainId","DataService","prototype","getApiData","entityId","pdbId","__awaiter","this","apiUrl","e_1","__generator","_a","label","trys","push","concat","toLowerCase","toUpperCase","fetch","sent","json","handleError","getFR3DData","csvUrl","e_2","handleFR3DError","console","log","UiActionsService","applyButtonActions","_this","svgEle","d3","select","zoom1","zoom","on","attr","transform","call","stopPropagation","scaleBy","transition","duration","transformValue","_groups","getAttribute","transformValMatch","match","zoomIdentity","unSelectNucleotide","label_seq_id","isUnobserved","stopImmediatePropagation","getElementById","style","display","undefined","lastSelected","evData","textElement","querySelector","pdbevents","showCheckboxes","checkboxes","expanded","selected","nucleotide","getElementsByClassName","selectedColor","nodeName","setAttribute","innerHTML","showTooltip","evt","text","path","fill","tooltip","id","left","layerX","top","layerY","selectedBPColor","fillBPColor","hideTooltip","drawCircle","index","circle","BBox","getBBox","nx","x","width","ny","y","height","selectedPath","selectNucleotide","residue","colorNucleotide","ttEle","eventName","type","shape","strokeColor","UiTemplateService","containerElement","pluginOptions","apiData","_this_1","selectSections_RV1","aaPropertyConstants","mapped_aa_properties","aaColorData","parsePVData","rv3VUEcomponent","vm","locations","Map","menuStyle","pathStrs","nucleotideStrs","circleStrs","baseStrs","mappingValue","showAllNucleotides","defaultColours","domainSelection","mouseOver","borderColor","qualityGreen","qualityRed","qualityYellow","qualityRiboVision","qualityOrange","qualityBlank","mapped_chains","Set","colorMap","selectBoxEle","selectedValue","selectedDomain","domainTypes","data","forEach","val","indexOf","colorMapContacts","pchainid","includes","protein_contacts","delete","chain","proteinColorMap","get","add","uiActionsService","render","FR3DData","svgTemplate","title","actionButtons","createModeDropdown","createBPDropdown","fixOverlaps","xAdjust","yAdjust","sequence","split","char","ele","label_seq_ids","nextEle","Number","distances","getIntersections","lowest","j","changeBP","displayBaseStrs","key","set","checked","join","PathOrNucleotide","size","optionList_1","bind","createDomainDropdown","optionList_2","opt","create2D3DAnnotations","name","residueDetails","TWCrgbMap","TWCData","chain_start","chain_end","rgb_color","entity_id","start_residue_number","end_residue_number","sideChain","String","colors","tooltipMsg","parseFloat","toPrecision","tooltipPosition","r","g","b","getAnnotationFromRibovision","separatedData","min","Math","apply","max","colormapArray","focus","current","filter","order","topology_loaded","obj1","obj2","left1","right1","top1","bottom1","left2","right2","top2","bottom2","calculateFontSize","xVals","yVals","dist","lastPathIndex","svg_paths","pathStr","recordIndex","pathStrParsed","xDiff","yDiff","pow","sortedDist","sort","a","floor","download","filename","file","Blob","createElement","url","URL","createObjectURL","href","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","linearlyInterpolate","v0","v1","interpolationFactor","font_size","_b","_c","_d","_e","_f","_g","_h","_j","pathEleClass","theme","strokeWide","strokeWidth","unobserved_label_seq_ids","unobservedColor","x1Val","y1Val","xVal","yVal","deltaX","deltaY","highlightColor","baseArray","annotations","baseStr","seq_id1","seq_id2","bp","pathID","n1","nt1","n2","nt2","x1","x2","y1","y2","distance","x1_prime","y1_prime","x2_prime","y2_prime","stroke","charAt","xm","ym","distance2","phi","atan2","PI","xm1","ym1","xm2","ym2","dimensions","renderError","errorContent","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","TypeError","__","constructor","__assign","assign","t","s","n","arguments","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","c","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","f","_","ops","verb","Symbol","iterator","v","op","pop","__createBinding","o","m","k","k2","__esModule","writable","configurable","enumerable","__exportStar","__values","__read","ar","error","__spread","__spreadArrays","il","jl","__spreadArray","to","from","pack","l","slice","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__importDefault","default","__classPrivateFieldGet","receiver","state","kind","has","__classPrivateFieldSet","__classPrivateFieldIn","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","definition","obj","prop","toStringTag","dataService","targetEle","uiTemplateService","subscribeEvents","auth_seq_id"],"sourceRoot":""}