if( typeof importScripts !== 'function' ){
(function(w,l,r){function s(a,d){var b=d.getBoundingClientRect();return{x:Math.max(Math.min(a.clientX-b.left,d.clientWidth),0),y:Math.max(Math.min(a.clientY-b.top,d.clientHeight),0)}}function f(a,d,b){a=l.createElementNS("http://www.w3.org/2000/svg",a);for(var c in d)a.setAttribute(c,d[c]);Array.isArray(b)||(b=[b]);d=0;for(c=b[0]&&b.length||0;d<c;d++)a.appendChild(b[d]);return a}function k(a){var d,b,c,e,h=a.h%360/60;e=a.v*a.s;c=e*(1-Math.abs(h%2-1));d=b=a=a.v-e;h=~~h;d+=[e,c,0,0,c,e][h];b+=[c,e,
e,c,0,0][h];a+=[0,0,c,e,e,c][h];c=Math.floor(255*d);b=Math.floor(255*b);a=Math.floor(255*a);return{r:c,g:b,b:a,hex:"#"+(16777216|a|b<<8|c<<16).toString(16).slice(1)}}function m(a){var d=a.r,b=a.g,c=a.b;if(1<a.r||1<a.g||1<a.b)d/=255,b/=255,c/=255;var e;a=Math.max(d,b,c);e=a-Math.min(d,b,c);d=(0==e?0:a==d?(b-c)/e+(b<c?6:0):a==b?(c-d)/e+2:(d-b)/e+4)%6*60;return{h:d,s:0==e?0:e/a,v:a}}function x(a,d,b){return function(c){c=s(c,d);a.h=c.y/d.offsetHeight*360;var e=k({h:a.h,s:1,v:1}),h=k({h:a.h,s:a.s,v:a.v});
b.style.backgroundColor=e.hex;a.callback&&a.callback(h.hex,{h:a.h,s:a.s,v:a.v},{r:h.r,g:h.g,b:h.b},r,c)}}function y(a,d){return function(b){b=s(b,d);var c=d.offsetHeight;a.s=b.x/d.offsetWidth;a.v=(c-b.y)/c;c=k(a);a.callback&&a.callback(c.hex,{h:a.h,s:a.s,v:a.v},{r:c.r,g:c.g,b:c.b},b)}}function g(a,d,b){if(!(this instanceof g))return new g(a,d,b);this.h=0;this.v=this.s=1;b?(this.callback=b,this.pickerElement=d,this.slideElement=a):(a.innerHTML='<div class="picker-wrapper"><div class="picker"></div><div class="picker-indicator"></div></div><div class="slide-wrapper"><div class="slide"></div><div class="slide-indicator"></div></div>',
this.slideElement=a.getElementsByClassName("slide")[0],this.pickerElement=a.getElementsByClassName("picker")[0],this.slideIndicator=a.getElementsByClassName("slide-indicator")[0],this.pickerIndicator=a.getElementsByClassName("picker-indicator")[0],g.positionIndicators(this.slideIndicator,this.pickerIndicator,{x:0,y:0},{x:0,y:0}),this.callback=function(a,b,c,e,f){g.positionIndicators(this.slideIndicator,this.pickerIndicator,f,e);d(a,b,c)});this.slide_listener=x(this,this.slideElement,this.pickerElement);
this.picker_listener=y(this,this.pickerElement);b||this.fixIndicators(this.slideIndicator,this.pickerIndicator);a=t.cloneNode(!0);b=u.cloneNode(!0);var c=a.getElementById("gradient-hsv"),e=a.getElementsByTagName("rect")[0];c.id="gradient-hsv-"+n;e.setAttribute("fill","url(#"+c.id+")");c=[b.getElementById("gradient-black"),b.getElementById("gradient-white")];e=b.getElementsByTagName("rect");c[0].id="gradient-black-"+n;c[1].id="gradient-white-"+n;e[0].setAttribute("fill","url(#"+c[1].id+")");e[1].setAttribute("fill",
"url(#"+c[0].id+")");this.slideElement.appendChild(a);this.pickerElement.appendChild(b);n++;p(this.slideElement,this.slide_listener);p(this.pickerElement,this.picker_listener)}function p(a,d){function b(a){e&&d(a)}function c(a){b(a);e=!1;l.removeEventListener("mouseup",c,!1);l.removeEventListener("mousemove",b,!1)}var e=!1;a.addEventListener("mousedown",function(a){e=!0;a.preventDefault();l.addEventListener("mouseup",c,!0);l.addEventListener("mousemove",b,!1)},!1)}function q(a,d,b,c){a.h=d.h%360;
a.s=d.s;a.v=d.v;d=k(a);var e={y:a.h*a.slideElement.offsetHeight/360,x:0},f=a.pickerElement.offsetHeight,f={x:a.s*a.pickerElement.offsetWidth,y:f-a.v*f};a.pickerElement.style.backgroundColor=k({h:a.h,s:1,v:1}).hex;a.callback&&a.callback(c||d.hex,{h:a.h,s:a.s,v:a.v},b||{r:d.r,g:d.g,b:d.b},f,e);return a}var u,t,v={xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"};t=f("svg",v,[f("defs",{},f("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[f("stop",{offset:"0%",
"stop-color":"#FF0000","stop-opacity":"1"}),f("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),f("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),f("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),f("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),f("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),f("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),f("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),
f("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),f("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]);u=f("svg",v,[f("defs",{},[f("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[f("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),f("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),f("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[f("stop",{offset:"0%","stop-color":"#FFFFFF",
"stop-opacity":"1"}),f("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),f("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),f("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})]);var n=0;g.hsv2rgb=function(a){a=k(a);delete a.hex;return a};g.hsv2hex=function(a){return k(a).hex};g.rgb2hsv=m;g.rgb2hex=function(a){return k(m(a)).hex};g.hex2hsv=function(a){return m(g.hex2rgb(a))};g.hex2rgb=function(a){return{r:parseInt(a.substr(1,
2),16),g:parseInt(a.substr(3,2),16),b:parseInt(a.substr(5,2),16)}};g.prototype.setHsv=function(a){return q(this,a)};g.prototype.setRgb=function(a){return q(this,m(a),a)};g.prototype.setHex=function(a){return q(this,g.hex2hsv(a),r,a)};g.positionIndicators=function(a,d,b,c){b&&(a.style.top=b.y-a.offsetHeight/2+"px");c&&(d.style.top=c.y-d.offsetHeight/2+"px",d.style.left=c.x-d.offsetWidth/2+"px")};g.prototype.fixIndicators=function(a,d){p(a,this.slide_listener);p(d,this.picker_listener)};w.ColorPicker=
g})(window,window.document);
}